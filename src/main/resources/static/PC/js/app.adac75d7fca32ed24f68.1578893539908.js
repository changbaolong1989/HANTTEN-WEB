webpackJsonp([1],{"+03o":function(e,t){},"+5de":function(e,t){},"+8S8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQYAAAAQCAYAAAD0zdEOAAAObElEQVR4nMWbeXgU5R3HP6uRY3ezu0FUQIGAgRDFs61PrVapVh61JQk3ZDnUelX7KGo9sB54lapVwYMWqxZJNkEgIQmtrbUiFq23woMShAAxoKEcZnazu4mApH+8MzvvvDuzO+Hy+zz77Pv+3mPemXnf3z2ezs5OZHRf2NoDuNNjkt7rmJb3GkCP8tYS4EyjrX1q3gMcIHwV2nS57oGq+JTQnmzjciPacOAH0riPY+HQZ4GIdjJwforu8dgNN8YYiGtlwWqAUGX0ROA4j9IB+K51cnBtXlU06IE8nbYLGAIU6/UODyzEQ3e9/vXuScGs93IwOOGV2GnA0aSvFw/sBTqAk9RxHrmzWdzWMj53E0C/JW3nAH2V+dLhoRkY4PyUwQPJreNyXwfov7TtUqC7Ptm3W8fm/nNAddwLXGIzznFCva2laYz/A7sug2ri/YGrJFIH8PiWMf79GZaahpOXJe5PrSV9Qes9sBk4xWGZSoHVG0p8a+Q+hXWJo4CAdZynA+ihjFWrexqKvcnsd3BwyLGh9QBmSfU5wGt6uRS4QmpzZAzecm0y0A1I3ZVyrwvUIf4KzXrD0ri2cOhlnRpQxv4DuBzBFNQ5s6EJqNbLvwVm2PTREAzhfOBvOu3PwEhgsF6/CXhbr+8BjtP/6b0o1g/4u9MCbDZRepuJC3ZMDLTp5f8AIYdpn9KH292PHeYAt+jlmYj3nA0LsO4FOzQBg/Ty7cBFRsOA6nh/xP6rdblGGbXA6PyaeAC40iDqz2sqkuBAPKeOwcvijpNJzHLnptG+Sr08K8v1m3D/fGcBaxRaGVAu1fcBjwF3Z5lrQ1F9sqih2GthdKfUJ7cA+QD2vD8daW0mYYYdYzhUmIfzxnXqnwkGY3gX8VLy9folgYh2MdBM9k3mAUYBR+n1vQ79wojDdTxAXlX0QkymAHC90v9pqdxNX+toqX5mlnW5xdFS+Q8IJl4qzb8a8QyeA34n9d0BXKvM9RTmoXXCbOB9h7YdwEq9fCkwSS9XYQoS+TT+G4kxADXAWNwxBi+CEavohWBqmXCB/nOD1UClDX0QQrN53mFcI3C1QlsE9LHrrGsLMxVyBfAzhCBS4ccU4kMRe6ta6RNzGOsGPSGl7QKQ031h66lAb2UR7mYrb71QIW1rn5q3SS9XIl7oIUVbONSZG9GqgJk6g8sBfgo8jlWDiUXLgpvlscHKaClQIpHqHS7zKvCIVN+FuYHPwDxQrcBbNuPlw9SMaYKoCCKYnAynvgBRqfyK/j8ckzE0IpiS+tyT2ycE6mRC38VtszJcx8CXOEvFiUCLVDZQDXxsXFei16EzWh2fN4/1b8VkoI4YWB3PB7bYNH0jrW8kQnM00Aw8mW1uBTvtiI2lvqaC2sSOLs6VCaOxmiH7gIfXl3g32XUeVp+8G+t+vIN0xnAuhobeNcSAJ1Decw7wMO5URzusVOqySroYGHGA86pokitt4dDdKCpXIKL1REgqY/NFg5XRodGy4A6AYGW0G0LKGtiHkKxucDomN5YP7tfYc+lCo7BrUmC/Qx+OWxRLo+2cGHDL9e0Oyjj9p2E1q/r1WRz7VFKZkyj2rQN64PwOL8PedFsqlWsxD/4lWDdf6YDqeCFwlzqBouJWAhvtFtA0xh8D5ubXxE8m3ax9x2HdTohJZkRXUUD6WbBFYV3Cg1WbA1jyRYnPlikAeIQ2fReQq5POKapPXthQ7JWF0nNkN+3sYKs15iA22GqJdjRwmstJVyv1r6TyCDLbaV3BSnRTIjeilQERSG2gebFw6MZYONQeiGiPAHP1MUGEuhzW6zORDizwslYWtDtcIB6yrEWdg/1DP1X/2eFKB/qhgqHBnA0M0MvNwCdAAqE9rHQYuxShZTTr9UYX15uDYCZX2bQtw9ScegH3uZgPhKp9hVTfhmDYJ2GqzqtxYAwA+TXxHoj7CSpNk/WfWzQBf+1CfxnNpN/zH7HuIYbWJfweuAE4SyLvB54srEuUKI7hdeuLvRsBGoq9WlF9ch5wpzTugaL65MyGYu+7en0X6dqnG+yzI+Z8Oy3vVpnQfWFrCKEiZ0X71LyzsvdK4Wlghcu+x+Nsz9UjbFfD5JkYiGgzYuHQXuBPCFvaOKxlwcrom8Am4B5pDo10ri2jTKnfjThsxpgvgfN0Ggj78Bd6+Q2E1D7cyAG242EF5uFagZDyQYQ5lElqym3OnjkTmTSZL6T2z1zM5YSfNo/1Nw2sjpuOtAzIr4n7ga3Y+7JkZmWH0YBqCtuioDZRgulDsUM76c5Fu6jUHuB+hbYYsZdkX0kn6cJ5LnAzRtRCrP2XCJ8bCMH3CF3Dd5+N8rYNX54e5DiczkcVnySmhOqydwN/hZbv1NYWDsVzI1odpiZwLIIhXB0Lh/YGItp04L+Y9tZziJCVfK+/0cqC/8uwhHyEN9uQxPcDMgPdgohiGJBtgosR0nxEhvkPBc5HSAhVa/sx4qA8iXsTcSXC8XWgGIZpEsw6iHm6hKYx/nh+TfwlRDRoJFbfSiOZGcOPunCpUjIzhkLgU6kexepfAWBDiW9PYV1iAlZN4m2bdS5fX+z9XCY0FHtbiuqTpVgdmm9K5fNwac5IWI1Ve0nhSDKGBb4KbYFTo2JXqo4VFQ8Cr0v1lLMvFg59HIhot2D6D7phdcrM18qCkSzzRxEqnoGXML3BIA79CIexL2INQ31fWIFVyl+EyehAqN+GprD+SC3qUKNpjP82gPyaNC3jdv13KPACgvnf5NDeDDwKHKPXNyMkez+9nsq5+KLEZwldF9YlrgNOVOb7vd1FGoq9r9nRHdAOfGtDD5I5igkcXsawnXRpJkMN4a0FvkNs5pnAyVKbagPvwXowT0Da3LFwaF6wMjoWa3gM3MeeL0eSPq2Tgxt6VUXDCM5uvPzLv5kcbAHoVRVtxVRnl++eFMwkqY4Itk8IPCPX+yyOLcPKGG5vGZ/bdBgu3Zm9yxHBWoQJ6YTTsO4xRzSW+t4pqE30xpkxfIPYu4Yw2oTQMg3z4DpMlT+FwrpEDlbNE+DN9SXelKAbVp8sAM5TTvKihmKv3aGXMXPdKO9clXjq8qS8Vx1x2BhDcmpoPjDfW67dh+n5jCamhGYA+Co0dQNdEJ8S0vwV2k0Im341YpNd2xYOqQ6Sc7E6rVLRhUBE6wvM83g8KlMAIVFeD1VGr9HKgpmkZJpG0QmXeUz1Mw5M6FWVih7KMeBRxy6Krt09yRoqPdLoszh2L1ZH4fFKl1V9l7QZz/WllvG5D2WZ8iQEA7aDTyrvdr/Kw4oXt4zxpx0MA4OXxZ/CfYKSq+shDnkBguHM1+m7ET4oO0zU+8uYrdQ7EBqLfFaP4sAdpa6Q031h608QG34w4uCoCz1geMu1oxExV2PjvOFi2PFYD/1c0h07qrbxcSCidUNw9HuxhuI6EdzceLDnA2tCldE5wGytLGjnVLsBYa7ItqAcb/fjnFjzK2A5Qp38PtETq2Q4RmkPYJpLPV3Mtx8RorTDD6Xys65Wd/gxZ1BNPPWOMmTIHxJsLPXtG1KbuBeR4AXmnn9+Q4kvzd+gJzmpWY4frS/xyiYy64u924bVJ2uACRL5lqL65IKGYu9h085yEHbYgeYxZEMhVmnyoYsxlhx4XUpnYwwfIWLqanhqJyIjbTuCaw/R6d0QDGsU9vnuVXp7b4C8quidQBH2plFcn0eOTKRw7KJovsfZpAuoLce9Ess3yjaj9u+YGGhOJ6dj+4SAJddDNyXk93xGF02JrxGOXiNrNIlggNMRyWUqinEfhTJQNaA6HvWYnveDwTdYncIqeuEul4OC2sQoBMPPhsWIfWM49PbinNFrt/dUbcHAHKyM4TTg51j9bCruO2V5coayhz7J0N+CHERq69sI+3sz4jA9k2FMCj3LW9XQS1P71LyXAbzl2qOkh+0+9FVoTwBjMkyrMo+HciPaWOByPevxMqy58O1AA1aptw/4C3BvtCy4GyBYGT0dEQe+HZNZyWMybZJdCJvVgCyJs33Q4pQrcSD9je82sqLP4th1WD3Yw5QuN/dd0mZoS1rL+Ny5/Za0eRF5EXbogckUQHyTcD/QX6+3ILS1F/T6dEQGZAJnaKR70t9BhMuNtW/LMD4THnQyJQYvi/sR3yX82uVcjdgwfQn+IbWJCxGRiXswv43pBM4eWpfwbijxbQAorEvcijjYaqh0P1AyrC45ClClQgviWcr7/jbsGIM5rpf+k3EXit9t+PLkOGyEY8630/Kukwl6HoMrxkB6aGqKVH4NwT1lfIDgorfigPiUUIu/QvsK01PbB1jVFg4ZatM5CMllYE0sHNoXiGggvLAVwOxoWdDieIqWBTuAB4KV0ecR2ZnqtwNXKeWUTd46OfgiwoYEoFdVdBXSl5yk5z3IWJmhratwk29g4Hoyf6Mh29dNCJOtG1YHpYy7MEOSaxGhsv6IZ/6K3rZd/y9AfAfRCYx3WkDzWP8asoRJB1bH8xB5EocSD+GeKdBY6msoqE3kY36rksT6rUMBsBAYsrHU9+rQ2sQqRJp+N0Qq+PXABr3vidgnyx0FTHNYwjRgHdZo18ii+uSpDWZY832yf/vSjHCCGgx+D0JLSfsOxc752I5108jx2UqcIw37MO0rklNDK7zlWhjTtv0uMSW0zVeh7cDe6dMula/C+umv/E3DfKxhOMOJ+CxwTSwc2uWwPgCiZcEW4I5QZfQBhDpmQF7TvxB+CbAP+dxI5g2d0i52TwoeTH5AJsxEqMo7Md/JOkT+RXeE5uX2u5cO/V99929h/65WITSIV4F3t43LTansJy1tuxqTIb2dYS5ZA3PEl2P9rQOr4+Owxtvtog0PYtX6MkWGniM9S1A1O66QK42lvq1yfUht4kWsTH/zxlKfkdQ0HZFGb0A2qRZgZpy6gSHsjsEqEEGKnK0r9nbgLvPRcu3hy5OPke4Pe+//Ngf89Q53yXQAAAAASUVORK5CYII="},"+OkA":function(e,t){},"+U0j":function(e,t){},"+U3F":function(e,t){},"+asX":function(e,t){},"+edG":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADxpJREFUeNrsndlSFFkax7MWqoBiKXBB1EZojZ6lJ7rLiLmaG5knEJ9AfALkCRyfQH0C8Q1wbuemjHmAwZmYizGMhqbdFUgKoTZK5/yz8mCS5HZOZlF5Mr9/RAYKtZ785f/7zneWzGikIx3Um7Psx6z53wo7ygGfWjV/6sNDxTVqSU3LpBSgeROcK+ZPK1BRCbBtsONX/m8G3QaBlSwXAkg3TIgqffw4AAuO9gywJdndMgmFacEEaaEHThSldHasmqCtMtB0AiueMN00YSor+jUA2dMkQJZRHCa40ZICziSjFXY8YYBVCazTdaclM3dKupCXPQJoKrlYRjGgFtmPewl0p6D5GAB7qAJgGQKKAEsdWASUuoBlYgrUvAnUPPETCLBlBtcKgeUOFMoED9ixSLwIq2oCtkZgnezpPdbUrUHFRffjEB4zMQCqbAK1QExEWqK41U/3kgZrffMtQlbocbeBfL6SyWTIpXqgVrtdjeilludmpoUgzYd4s0oUyXX78JAI6J2i6vwIX/hZantSL0RgkQgskjrKR/EiI6UhrcQOUkKS/tahtqPX+g9WPp/TBosFOiMkCoUkAotEYJFIBBaJwCIRWCQSgUUisEgEFolEYJEILFLCwcJ0Ysz8pOZLh9i5Fp7oJzsI/TjJ04nb7bbWah9q+/t1x79PlEe1gYGB1IBVKg09YGZSFVmgIQyWuZomcQsfanuftb29fQOmFgPLTWOjI1o2++2a2j+oa5u/vdFy2ZwxdWh0tGQ8JkliJjKrddd5LvcELMuKmkSo0/mibW3rmq7XPGGCcrmsduni1DFo3r77aDyfv1ZLbxvzmPDYM5MTSXO2u+z8Pw26+42oY4HachKA+vBx6wiKAKFAu8yg4pA0Gk3t1Zv3xk+v18cxUR7TLkydM2BLgGAqc5Em74xWJOt3VW+ZDx+3tRcv1wNDZeRU42PHnMcLKrvgYKLvF2PNMg7+FnWv8IHKLQIQXv6yabgIHEVEn2xQiOZQeD+ETbx/UCBjrCUzJQoPlpmwz6vsUmFOKp6HJJ3rzGRZKrRxuBV3r3IQkwnaOkq6FZxi/ddXhkuF1daWfiyRR3IuK7jXaxZORZ0zRlo0t+mUT97NPapmVQx9m7+99e3tOanA8imjbDA2og0Wi47uBNdCUl+rdcsUou+D3KvOPuOV76ZV7TmiI3fHtUQRAKx1J7B29L2jxiyPj2jjY/Gp3fDakqgjAKBp1oMrs56cqFCyQMgVBQzvOXflsjY4WIzPRdlsae8/bH/rvLD2KAw4etCc200RsklzK5zg9Y1XwlAhIf/h2pwUVMbFxZ539fsZqcQe4VrRpP6ebI61pBpUKAWIClfkDAtJYWtNeD5eZ0IQToXhcs21sh5uhV5gJQ1QoaIepfB6KYJrSdSxlpIOFZJ0VMV7IcAlmjcpCteiU10r6+JWsDclBpr58IrUyb801dOhlukL4tAqCFfZiRW3Vl1UBSqcBBmhVFAaHvI9yXBD3bZBBt4Xv/PrIOD1JyQ6A3hdlEoUqnMtBQXrdty/SdjGRx3KS6iOY4wPbpi1uBp/X/wef9d9dmWR7WWibIGLRhG4KvYkPusQBisqlBg2X72RKn7y3ptXWQCVcRw4qXAc62NRxefvi78DMC+44FoFyQIonPHd+49KulZWRbdCIdJtdmegMDg87Po3FFf5WJ49ubf+zSq/2Q5h9g5DhV6RscUFP7BinbTj5IYd+/PqrcGpnJL7bgh84xk63RR2yAafSYFkftaMdifBUiEMvn79PvRruPUEAQ8/gQh/1uRe3/VO1r12wItit0NFkvkFN8eKtVvhpMvmVUEcq9H85gqYA4/jKAkfH/OtS7Uj+GxeyTzgjrluuoF1M86fGic2ioUKnU4nmDtacic+WOxV9+qlo+C7+/VkY9I7LB8Dy/xF7IdwUNEOW9RsNFqOv7eP4NtLGhwuYScMmR/hfS9HPOzU63BoPUPzKnzq7kDvxVCv4RaykGTbSwMIQShtWOFxOsleYbLVChciMZUnTtNqfHTDDtYNVT45kmqZ4ZKjnqVHqcKpoInHv7YMG+Ex9rB0/tykZ09WVngf2SJrnzRvB0upJfNo8IkQVW238ARAnNxhxza0A7B5b89eRLW7o2woxOuHuYD6WHYoKxcKrboQIkR41Z2QRzmBYi+Ezly+yEA84zntBjNtZZN1vL6iquTNxF3JDT54Mi0zGwClhPPtScfiJZ+whxBmXSWN+e/2x3mFwO5K6x3h74U8z68HGvdwmFcxDNpPLhYkYFmVSHe/u9bvkwGQVy7nNwPCSzJrGDnUiq+c/pl/+lmVv8WA5BUO19L13hQddYkxvjgurJDNs7Kq9Qi9chIZuJA3hem1OQlh+a3grIQEQWVEwETt6IeTcu37GeGTg1U9UTmXsUpIcB4VvygSApVmLTfMJ+UL8bAoepLgXGEGevn+DK8EVzgnESooryVQCCtwLhQ1Re67h5xr/+WBMeCM2lSQk42wZ9S4dmvCUCZsi6PjYKlaaggivlLGOscqiPMg6caBE86HcKxlCQDLi6yyDofCpwKDyqEcK7nfTjP3WBgeEtrTygoZakp2qMLcfRSvh3JC0kKfW46VaPGkHlVyEaH6bq2qw8XCQAXIr0p0LlR1rFktJUKVHPuCGiUGnznzOPlWqJB/iYRUq4wxP7VmKBBYsr1GPnfeDTAMHuPI5bowYAEGABFZxIHHwyXDVO+pV6iYcLIBGPIuhDg4kjURx78xTITEHdNWeAHTL8fiS8vwnDQClXqw7CHvkjbVLTcwR8Lcd+5MCJvYII1PX8FjeWfA+hpD7MBmbXC2JJYPCKwQgtNYp8vwO1RwB+PAlM0aF/6fpjtUEFgR5mNu4KQpEadyA4nAIiUfLJ2agdQLsNaoGUgUCkkEFinFYAW9/xyJRI5Fig1YlMCTegIWlRxIPQHrGTUFKUKtcbA2qC1IEWojHwVY3Y3MPlNzJkSHh52wL/HcAAslh4O6/K5zuL8djqQLCyEOOx3ty5cvRJ9PKLROm0HPsEJtclK40efYSEnLZrv3Df28X9e29T0CLECOBVWpPU5qpDSklcdGjqDivzs7OU6N45Jf4a6rVrCeU5uc1NhoyfH3rPEYbFRfdlDVWm4gx3JRPpfzyLloAq6Dnh0Dy7xpNFXgHTombuLz4UnejkWu5aDa3r7L7w8oeXfJr5zAekptc9Kx3n3YPnIn1Hj02mfWK6xR45zUKv9Hxv6Xg3oTu7H6bhSC3YBbPbx3DCk+wnZLAfPJ68yxjHQq70Ldom9Sm88lshE7LLw1WuLF3hzrIQ4WColsk2wmEzQMHuXoTmA9DQLW6MhwIhsRYa59ID6kkSvmjA1HKAyaMNr/yqjDA2gaDUlUTzzBMrWS1tZpSpYQ0jBWGjQMeoH1KK0tRCUEKZ3gxREssxZRTWMLHXbkp4ykuGC6Eggsp5iZGrBCzEVKqdutMCPSA4PFHgwKN9IVBr/2ze0U1n3HEoXMk5KqsAXfCGZeqqYqH8Kxy6+citLDA01wy+6//+OfkX76sxPj2l/+/FPsW7kT0vGS4la+YCF2HtSbyPjvpaGVwpYM4jDE1WYdiPaheCeiWCwYoweCblWVAsvUQ3bc1lK2u7KqAlQydzMbyOdFwfJMk3zBMl0LL/I46DsODQ1G2liFotwY3H9e/CKcI3kl4E3maE0fV8Odv0T04++uauMus1RjrFW/PT8CDVmjh8jguhfUtaIGqygJ1q7LXCpZYffker3h+RhRtzg8VLL2tez3ABHvu0OBhoTUyK0nKOxYpmth7eEqu8IW2qd8laHwWG80xENoPto56V+Zc0a9fAJtKfPdvJJ3GTVbLZYGuD8XC0eKhYKuBSxBZUTenIE1u7W9868dvVamCzddQnpzaXrqljn7xVdClzQs8H8vN1Zyudxdaup0qdPprAWFShgsI7wUirsJnShJ8pbQHD1acUnqiQgsEoFFIrBIBBaJRGCRCCxSmiVcx9rb26NWI5FjkfqjTC9e9KDexNytRZnn6rs17dPWjjHoOTw8rGVc9g1oNBrGPZvNMazEnZjtnV126EY7lEru87UiagdU1a8HmbXQV8diHxBTbFZEn4dZDGhQqFAouEKFx7XNacBnz0wk8oqfnBg3ZnXiu7Y8NikpFotGO2Ge2P7+gSxUf40Sqp6GQhm44FRoyFwu53l3+IY5zQR3nC8meOCSXzQA6+tX54UagKpgtgHaTxKqyHdy7GmOJQIX5gPV9ro3IRgcdJ+BihmXnU7HCBFJdSuuUmnYCHGAqtl034cfYKE9MLeLO34AAaa5XkB1Ksl7ULj41QanctuN2NrACBVp2LWYXzwI/R2P+fgIiTxHDbAie810qp7tKnQqZ8aEy3WeNHID5Aiwdd5ATkLjotGQe5THx1LRu0Ko59/Vy7XyWGXDUgi0j09IXO01VKdabmBfBMvIbmkO83p4Q/gl7DyJPX/+TKq67tyd4Vhtj7WLPIVASuEy3Rnz1W/1GqpTBcuEy7haNMueEMgJkBug4QoeiThPYJFzDA0OpgostA3g8kvkrW1oy7UA0h3W/sun9plPu5HMZPE6LBmJOHICv4TdeqVOnUuXW3EhHPLyg5drcddHarHX7QxtmKFv5VQvhn40EqwYlvzh0/YyLy/kPO4AwcsLaNx8Pr13g+ApAFzLLUG3lh+2tnXAdL1XPb/YgcV1be475F3XmVtt+CXs1nCQViEFCFh+0Fl7Lf/x91fvnEY+FTuwoJ9+/GGNNQJC40Ov8sI51u2mmyJ9SwV4Pc9BVVysf/rDtYf9/JyZODXa+uZb3C8R44wVbvkAC13u7y5Pa6RvHR6HcUQ40/LczPRKHD5jrCyANcoaO+BeyL107lZnz04QTccS+VEDKksiD3eaiwtUsXMsq/793xdYbX23VBq+Nz11jmiyCT2+9x+3EPaWkU7E7fNl4t6AB/WmARg7ljTBnQUTLAOofvT2EgMWAXZMCHVP/PamIrDkAVs0AZtNAUxIyjFicT/qOVMEljtkC1p3G8uFBAKFMIf9X1f7VYtKLVgOLnablyoU1YbpTo9UcqfEgmWDDOFxnh03FXEyONNT05kSc0/uxIHlANq8CdoN82ccQELyjbu9V1UMcwSWM2gVM1z+bP6s9LCXWTXD23MApUJvLir9X4ABAOBA6SUJN3aSAAAAAElFTkSuQmCC"},"/1b4":function(e,t){},"/LWQ":function(e,t){},"/hyz":function(e,t){},"/rPz":function(e,t){},"/wAz":function(e,t){},0:function(e,t,a){a("j1ja"),e.exports=a("NHnr")},"06em":function(e,t){},"0Eid":function(e,t){},"0Lgf":function(e,t){},"0VR4":function(e,t){},"0pxe":function(e,t){},"0tHQ":function(e,t){},"0wpz":function(e,t){},"1/je":function(e,t){},"12O3":function(e,t){},"1MhJ":function(e,t){},"1mcO":function(e,t){},"26kA":function(e,t){},"2BIY":function(e,t){},"2KwY":function(e,t){},"2Kz7":function(e,t){},"2LHb":function(e,t){},"2U2q":function(e,t){},"2Wod":function(e,t){},"2kge":function(e,t){},"2vc+":function(e,t){},"2w6g":function(e,t){},"321A":function(e,t){},"3Cdc":function(e,t){},"3egC":function(e,t){},"3tnj":function(e,t){},"3vTm":function(e,t){},"4+Xz":function(e,t){},"40na":function(e,t){},"4KAB":function(e,t){},"4UOj":function(e,t){},"4enF":function(e,t){},"4ghk":function(e,t){},"59A7":function(e,t){},"5BAQ":function(e,t){},"5BaV":function(e,t){},"5ISc":function(e,t){},"5Wrx":function(e,t){},"5YP2":function(e,t){},"5ZCc":function(e,t){},"5mOR":function(e,t){},"6XTF":function(e,t){},"6gaU":function(e,t){},"7LEo":function(e,t){},"7xP0":function(e,t){},"81Cr":function(e,t){},"8Kkx":function(e,t){},"8Qn0":function(e,t){},"8qv6":function(e,t){},"991W":function(e,t){},"9QzQ":function(e,t){},APZK:function(e,t){},ATg0:function(e,t){},AXIE:function(e,t){},Aa9v:function(e,t){},AkK1:function(e,t){},Aq7C:function(e,t){},B0ge:function(e,t){},B1s2:function(e,t){},BCtS:function(e,t){},BEMz:function(e,t){},BYPX:function(e,t){},BwtF:function(e,t){},CCPV:function(e,t){},CH66:function(e,t){},Ccfm:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAmCAYAAABH/4KQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUM3RERFRTI4RDhDMTFFOThBNzZGODc0REZDRTQwRTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUM3RERFRTM4RDhDMTFFOThBNzZGODc0REZDRTQwRTMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQzdEREVFMDhEOEMxMUU5OEE3NkY4NzRERkNFNDBFMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxQzdEREVFMThEOEMxMUU5OEE3NkY4NzRERkNFNDBFMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pga+qNIAAATNSURBVHjavFhbaBxVGJ5bs3GTzWVj1iQksUm7V5MotBRB+tCooKjxoRgfBCsqVby0VWpVUIuttUVBbWhREUR9EemDTZ+KraXQ5EGRRotNShNN2YZVQnebbDabTbIz4/eHM3EzzuzOTCb+8O05e2bOmW/+85//MpyqqhywC/hLdSjpdDp/6lS/0t9/UgWeZ2uWwrsmy/0MbKF7ePzs4DjuK26VMjx8OT82NiahmwLCPT2P3igxxQuMAK0G16aAmICfnZwLEg6HhfLycgVdP/C+hSlZYK/JtRqgl8g1uUFOFCWhs7NLYX+fwTZvsTDtBHDejKDAuSiNjY1SIBCQ0aV1j4OglfVfBvJGF1wlRwLtcYIgqOhuBp62MOV34LP/hVxFRYUYDAa17T0M7fktTHsHuGFELu82wY0bg4LX6yWCtwKHLEy5CbxlRO642+REUeS7upYPx05ob5OFaV8AQ0bkht0mGAjcJuGAaIfjGAjyJaYo7HCoheQWgT3cGkhHRydpkR7aBrRbmDIIfKs/EGeA790m5/F4yP4+QTeEiPGHxWmvARnqUPjSBtezcFLuBrHFxcWzc3Nze6qqqi47mP4GvZs+GB9QVyn5fH4sm832WAz+ZvAAT+gHvUDcCSlZlqdzudzr16/Hy1ZJTANvNNhrh5SiKPLCwsKX09PTAZdILcPswnmLW3ghk8lscpuUhsIDsSJEAhcBydAhKUocxPaVlZV9Z9fS4e8oHdoPXMMJPlrsXjNyJMeAF3VjGdx/CFvYV1NTk7VJSqRUCngPqAdmgAgIJszmCCWCcZL16Q2+oZyS5/kjDohtRfML8DkjRuIDPnKqOZLngKdYBPnJwRZSCv4B8HjhuM/no0PEz8/Pk3Luh/bOOiEnMK2pNklRfbCP4RZtXJIkJRKJqm1tbfzExIQyNHSRbPoKcCcILujXkSwEYzukKLj3Mm2tKFxaW2+Xo9Eoj5BGtsc1Nzfz4+N/ylNTUxH8fRU4YldzdojdhaYP2Fo4XltbKyM7VmGn/1FEKpWSBwYuiKzYiUJ7cb3mBLsa0pEKoDkIPFt4wKAhJRa7Q4GGRBwiw3TJ7/eLTU1NciKRIDP4GNiu19xutEcdkFqH5iXms6qXF+R5tb19g4xSUYSNlcrhOMRh+dy5HwX4Trr3QWjvdCG5UbSPAb/aIPYAe9NI4Xh9fQBb2MlVVlaKdl50ZGQ4Pzo6SrtIaVUHCOa0bSV8CtxTantByseSwYdWlO6oF5BYKg0NDZIT0wgGQ0I8HlfgWjawfO5goRO+m9lMUcEbzSzlWf/WCnANEXnbtm7eKTHmYoRoNKYp5k0ooV0fIQ5T6m9hLbKzeTLk7u571VAoLFJBs9rT3tLSIlZXV8vML/ZpNjfOsmCSr1lEKCqTk5MforLf63Zan0wm5cHBAc1eH9bH1if1fspIEHoOICtJuE2urq5uybWwv5v15Hj2aWBdsUXgu2aQ9a5JxQbfqH3OMMxKYsArpRaBuziB0/WD2+Rw8kXyk8VSpv0mH/VWSDqdfgG1Q85tgqFQSETVtpQOD5pk4SetpNKzs7Nvq2sgsOtd9IAdRe55pBS5S5d+82Chqy5zuwk0ag/ZDfxtcNM1Vi4WJZhKJe+jKswFUgr7YL1UNP0jwABmp40QYURtcgAAAABJRU5ErkJggg=="},CgPS:function(e,t){},D8df:function(e,t){},DH3E:function(e,t){},Diyn:function(e,t){},"E/Dp":function(e,t){},E9QH:function(e,t){},EAWR:function(e,t){},ED7u:function(e,t){},ENGM:function(e,t){},EuDK:function(e,t){},Ew15:function(e,t){},FCGj:function(e,t){},FLZe:function(e,t){},Foqo:function(e,t){},FsR9:function(e,t){},FxfR:function(e,t){},G5Ca:function(e,t){},GAau:function(e,t){},H6oS:function(e,t){},HCLz:function(e,t){},Htqd:function(e,t){},HzSE:function(e,t){},IvLv:function(e,t){},Ixsx:function(e,t){},"JC+7":function(e,t){},JZCZ:function(e,t){},JrMx:function(e,t){},"K/U9":function(e,t){},KU3n:function(e,t){},KuDZ:function(e,t){},LH7m:function(e,t){},LKfQ:function(e,t){},LNac:function(e,t){},LSnY:function(e,t){},"M4j+":function(e,t){},MbtE:function(e,t){},MpEe:function(e,t){},Ms1v:function(e,t){},Mvx6:function(e,t){},MyGo:function(e,t){},NBUc:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App"},s,!1,function(e){a("XM2D")},"data-v-dd8c5e8c",null).exports,n=a("mtWM"),i=a.n(n),l=(a("991W"),a("zL8q")),c=a.n(l),u=(a("tvR6"),a("/ocq")),p=a("mvHQ"),m=a.n(p),d={data:function(){return{usertext:"账号",passtext:"密码",ruleForm:{userAccount:"",password:""},config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},rules:{userAccount:[{validator:function(e,t,a){""===t?a(new Error("账号错误,请输入正确帐号")):a()},trigger:"blur"}],password:[{validator:function(e,t,a){""===t?a(new Error("密码错误,请输入正确密码")):a()},trigger:"blur"}]}}},methods:{handleLogin:function(e){13===e.keyCode&&this.submitForm("ruleForm")},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.ruleForm.userAccount,t.ruleForm.password;var a=t;a.$axios.post("/userLogin/checkLogin",a.ruleForm,a.config).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.loginUserInfo.menuList,r=e.data.loginPowerInfo,s=e.data.loginUserShowName;e.data.loginUserInfo;sessionStorage.setItem("menuList",m()(t)),sessionStorage.setItem("userPowerInfo",m()(r)),sessionStorage.setItem("loginUserShowName",m()(s));var o=t.filter(function(e){return"3"==e.menuPosition});if(o.length>0){switch((o=o.sort((n="orderNum",function(e,t){return e[n]-t[n]})))[0].menuName){case"工作台":a.$router.push("/page/work/default");break;case"项目":a.$router.push("/page/item");break;case"数据报表":a.$router.push("/page/report");break;case"合同信息":a.$router.push("/page/contractInformation");break;case"工作流配置":a.$router.push("/page/processConfig");break;case"全过程造价":a.$router.push("/page/wholeProcessCost/projectList")}}else a.$router.push("/page");a.$message({message:e.data.message,type:"success",center:!0})}var n}).catch(function(e){a.$message({message:e,type:"error",center:!0})})})},inputFocus:function(e){var t=e.target;t.parentNode.previousElementSibling.className="focus-label",t.className="active",t.parentNode.nextElementSibling.className="active1"}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"left"}),e._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"login-from"},[a("div",{staticClass:"login_box"},[a("h1",[e._v("登录")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules},nativeOn:{keyup:function(t){return e.handleLogin(t)}}},[a("el-form-item",{attrs:{prop:"name"}},[a("label",{attrs:{for:"user"}},[e._v("账号")]),e._v(" "),a("el-input",{attrs:{id:"user"},on:{focus:function(t){return e.inputFocus(t)}},model:{value:e.ruleForm.userAccount,callback:function(t){e.$set(e.ruleForm,"userAccount",t)},expression:"ruleForm.userAccount"}}),e._v(" "),a("span")],1),e._v(" "),a("el-form-item",{attrs:{prop:"pass"}},[a("label",{attrs:{for:"password"}},[e._v("密码")]),e._v(" "),a("el-input",{attrs:{type:"password",id:"password"},on:{focus:function(t){return e.inputFocus(t)}},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}}),e._v(" "),a("span")],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")])],1)],1)],1)])]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"right"},[t("img",{attrs:{src:a("iq2w"),alt:""}})])}]};var g=a("VU/8")(d,f,!1,function(e){a("fZQr")},null,null).exports,h=a("fZjL"),v=a.n(h),b={data:function(){return{activeIndex:"",selectChange:!1,hidden:!1,menu04:!1,menu05:!1,menu06:!1,menu07:!1,menu08:!1,menu09:!1,menu10:!1,menu11:!1,menu12:!1,menu13:!1,menu14:!1,menu15:!1,menu16:!1,menu23:!1,loginUserShowName:JSON.parse(sessionStorage.getItem("loginUserShowName")),config:{headers:{"Content-Type":"application/json",Accept:"application/json"}}}},mounted:function(){this.menuList=JSON.parse(sessionStorage.getItem("menuList"));for(var e=0;e<this.menuList.length;e++)"menu_04"===this.menuList[e].menuId&&(this.menu04=!0),"menu_05"===this.menuList[e].menuId&&(this.menu05=!0),"menu_06"===this.menuList[e].menuId&&(this.menu06=!0),"menu_07"===this.menuList[e].menuId&&(this.menu07=!0),"menu_08"===this.menuList[e].menuId&&(this.menu08=!0),"menu_09"===this.menuList[e].menuId&&(this.menu09=!0),"menu_10"===this.menuList[e].menuId&&(this.menu10=!0),"menu_11"===this.menuList[e].menuId&&(this.menu11=!0),"menu_12"===this.menuList[e].menuId&&(this.menu12=!0),"menu_13"===this.menuList[e].menuId&&(this.menu13=!0),"menu_14"===this.menuList[e].menuId&&(this.menu14=!0),"menu_15"===this.menuList[e].menuId&&(this.menu15=!0),"menu_16"===this.menuList[e].menuId&&(this.menu16=!0),"menu_23"===this.menuList[e].menuId&&(this.menu23=!0)},methods:{getNavDisplay:function(){this.activeIndex=this.$router.current.fullPath},changeItem:function(e,t){this.selectChange=!0},hideselect:function(){this.selectChange=!1},quit:function(){var e=this;e.$confirm("是否退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.apiAddress("/userLogout/logout",{}).then(function(t){"failure"==t.data.status?e.$message({message:t.data.message,type:"error",center:!0}):e.$router.push("/login")}).catch(function(t){e.$message({message:t,type:"error",center:!0})})}).catch(function(e){console.log(e)})},getQQEmailToken:function(){var e=this;e.apiAddress("/qqEmail/query/getQQEmailToken",{}).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{var a=t.data.dataVO;e.goToEmailPage(a.access_token)}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},goToEmailPage:function(e){var t=this,a={token:e};t.apiAddress("/qqEmail/query/goToEmailPage",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{var a=e.data.dataVO;window.open(a.login_url)}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}}},y={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-header",{staticClass:"m-head"},[r("a",{attrs:{href:"http://www.hantten.com/",target:"_blank"}},[r("img",{attrs:{src:a("+8S8")}})]),e._v(" "),r("ul",{attrs:{"default-active":e.activeIndex}},[r("li",{staticClass:"personDetails"},[r("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),r("span",[e._v(e._s(e.loginUserShowName))])]),e._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:e.menu04,expression:"menu04"}],attrs:{title:"技术标准"},on:{click:e.hideselect}},[r("router-link",{attrs:{to:"/page/skill"}},[r("span",[r("i",{staticClass:"iconfont"},[e._v("")])])])],1),e._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:e.menu05,expression:"menu05"}],attrs:{title:"公告"},on:{click:e.hideselect}},[r("router-link",{attrs:{to:"/page/notice"}},[r("span",[r("i",{staticClass:"iconfont"},[e._v("")])])])],1),e._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:e.menu06,expression:"menu06"}],attrs:{title:"通知"},on:{click:e.hideselect}},[r("router-link",{attrs:{to:"/page/inform"}},[r("span",[r("el-badge",{staticClass:"item",attrs:{"is-dot":"",hidden:e.hidden}},[r("i",{staticClass:"iconfont"},[e._v("")])])],1)])],1),e._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:e.menu07,expression:"menu07"}],attrs:{title:"邮箱"},on:{click:e.getQQEmailToken}},[r("router-link",{attrs:{to:"/noJump"}},[r("span",[r("i",{staticClass:"iconfont"},[e._v("")])])])],1),e._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:e.menu08,expression:"menu08"}],attrs:{title:"设置"}},[r("el-dropdown",{class:{selectChange:e.selectChange},on:{command:e.changeItem}},[r("span",[r("i",{staticClass:"iconfont"},[e._v("")])]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("router-link",{directives:[{name:"show",rawName:"v-show",value:e.menu09,expression:"menu09"}],attrs:{to:"/page/set-inform"}},[r("el-dropdown-item",{attrs:{command:"a"}},[e._v("公司信息")])],1),e._v(" "),r("router-link",{directives:[{name:"show",rawName:"v-show",value:e.menu10,expression:"menu10"}],attrs:{to:"/page/set-collaborate"}},[r("el-dropdown-item",{attrs:{command:"a"}},[e._v("合作公司")])],1),e._v(" "),r("router-link",{directives:[{name:"show",rawName:"v-show",value:e.menu11,expression:"menu11"}],attrs:{to:"/page/set-role"}},[r("el-dropdown-item",{attrs:{command:"a"}},[e._v("角色管理")])],1),e._v(" "),r("router-link",{directives:[{name:"show",rawName:"v-show",value:e.menu23,expression:"menu23"}],attrs:{to:"/page/set-PowerConfig"}},[r("el-dropdown-item",{attrs:{command:"a"}},[e._v("权限管理")])],1),e._v(" "),r("router-link",{directives:[{name:"show",rawName:"v-show",value:e.menu12,expression:"menu12"}],attrs:{to:"/page/set-member"}},[r("el-dropdown-item",{attrs:{command:"a"}},[e._v("员工管理")])],1),e._v(" "),r("router-link",{directives:[{name:"show",rawName:"v-show",value:e.menu13,expression:"menu13"}],attrs:{to:"/page/set-notice"}},[r("el-dropdown-item",{attrs:{command:"a"}},[e._v("公告中心")])],1),e._v(" "),r("router-link",{directives:[{name:"show",rawName:"v-show",value:e.menu14,expression:"menu14"}],attrs:{to:"/page/set-skill"}},[r("el-dropdown-item",{attrs:{command:"a"}},[e._v("技术标准")])],1),e._v(" "),r("router-link",{directives:[{name:"show",rawName:"v-show",value:e.menu15,expression:"menu15"}],attrs:{to:"/page/set-organization"}},[r("el-dropdown-item",{attrs:{command:"a"}},[e._v("组织构架")])],1),e._v(" "),r("router-link",{directives:[{name:"show",rawName:"v-show",value:e.menu16,expression:"menu16"}],attrs:{to:"/page/set-explain"}},[r("el-dropdown-item",{attrs:{command:"a"}},[e._v("工作步骤说明设置")])],1)],1)],1)],1),e._v(" "),r("li",{attrs:{title:"个人中心"},on:{click:e.hideselect}},[r("router-link",{attrs:{to:"/page/person",tag:"div"}},[r("span",[r("i",{staticClass:"icon icon-user"})])])],1),e._v(" "),r("li",{attrs:{title:"退出"},on:{click:e.quit}},[r("a",[r("span",[r("i",{staticClass:"iconfont iconexit"})])])])])])},staticRenderFns:[]};var _={components:{"m-head":a("VU/8")(b,y,!1,function(e){a("v4Iz")},null,null).exports},mounted:function(){this.menuList=JSON.parse(sessionStorage.getItem("menuList")),0==this.menuList.filter(function(e){return"3"==e.menuPosition}).length?this.nodata=!0:this.nodata=!1;for(var e=0;e<this.menuList.length;e++)"menu_01"===this.menuList[e].menuId&&(this.menu01=!0),"menu_02"===this.menuList[e].menuId&&(this.menu02=!0),"menu_03"===this.menuList[e].menuId&&(this.menu03=!0),"menu_20"===this.menuList[e].menuId&&(this.menu20=!0),"menu_21"===this.menuList[e].menuId&&(this.menu21=!0),"menu_22"===this.menuList[e].menuId&&(this.menu22=!0);this.selectRouter();var t=this;t.bus.$off("searchMessageDetailInfoFunc"),t.bus.$on("searchMessageDetailInfoFunc",function(){t.$nextTick(function(){t.searchMessageDetailInfo()})})},updated:function(){this.selectRouter()},data:function(){return{activeIndex:"",breadcrumb:[],notify:"",loading:!1,menuList:[],menu01:!1,menu02:!1,menu03:!1,menu20:!1,menu21:!1,menu22:!1,createDate:"",interval:null,nodata:!1}},created:function(){this.searchMessageDetailInfo()},beforeDestroy:function(){this.notify&&this.notify.close(),this.clearIntervalFunc()},watch:{$route:function(e,t){"/page/inform"==this.$route.path&&this.notify&&this.notify.close()}},methods:{getNavDisplay:function(e){this.$refs.child.hideselect();var t="";/work/g.test(e)&&(t="/page/work/default"),/item/g.test(e)&&(t="/page/item"),/report/g.test(e)&&(t="/page/report"),/contractInformation/g.test(e)&&(t="/page/contractInformation"),/processConfig/g.test(e)&&(t="/page/processConfig"),/projectList/g.test(e)&&(t="/page/wholeProcessCost/projectList"),this.$router.push(t)},selectRouter:function(){var e=this.$router.current.fullPath,t="";/work/g.test(e)&&(t="work"),/item/g.test(e)&&(t="item"),/report/g.test(e)&&(t="report"),/contractInformation/g.test(e)&&(t="contractInformation"),/processConfig/g.test(e)&&(t="processConfig"),/projectList/g.test(e)&&(t="projectList"),this.activeIndex=t;var a=this.$router.current.matched;this.breadcrumb=a[a.length-1].meta.navDisplay||[]},open:function(){var e=this;this.notify&&(this.notify.close(),this.clearIntervalFunc()),this.notify=this.$notify({dangerouslyUseHTMLString:!0,message:'<p><i class="icon icon-pink"></i>您有新消息，快来查看吧!</p>',duration:0,position:"bottom-right",onClick:function(){e.$router.push("/page/inform"),this.close()},onClose:function(){e.setIntervalFunc()}})},searchMessageDetailInfo:function(){var e=this,t=this;this.apiAddress("/message/query/searchMessageDetailInfo",{}).then(function(a){if("failure"===a.data.status)e.stateDialog("error",a.data.message);else{var r=a.data.dataVO;(new Date(r.createDate)>=new Date(t.createDate)&&""!==t.createDate||""===t.createDate&&""!==r.createDate)&&0!==v()(r).length?(t.$refs.child.hidden=!1,t.open(),t.clearIntervalFunc(),t.createDate=r.createDate):(t.$refs.child.hidden=!0,t.clearIntervalFunc(),t.setIntervalFunc())}}).catch(function(t){e.stateDialog("error",t)})},setIntervalFunc:function(){var e=this;e.interval=setInterval(function(){e.searchMessageDetailInfo()},6e4)},clearIntervalFunc:function(){this.interval&&clearInterval(this.interval)}}},w={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"m-page"},[r("el-aside",{staticClass:"aside"},[r("img",{staticClass:"aside-logo",attrs:{src:a("Ccfm"),alt:""}}),e._v(" "),r("el-menu",{staticClass:"el-menu-demo aside-menu",attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.getNavDisplay}},[r("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.menu01,expression:"menu01"}],attrs:{index:"work"}},[r("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),r("p",{attrs:{slot:"title"},slot:"title"},[e._v("工作台")])]),e._v(" "),r("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.menu02,expression:"menu02"}],attrs:{index:"item"}},[r("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),r("p",{attrs:{slot:"title"},slot:"title"},[e._v("项目")])]),e._v(" "),r("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.menu03,expression:"menu03"}],attrs:{index:"report"}},[r("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),r("p",{attrs:{slot:"title"},slot:"title"},[e._v("数据报表")])]),e._v(" "),r("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.menu20,expression:"menu20"}],attrs:{index:"processConfig"}},[r("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),r("p",{attrs:{slot:"title"},slot:"title"},[e._v("工作流配置")])]),e._v(" "),r("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.menu21,expression:"menu21"}],attrs:{index:"contractInformation"}},[r("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),r("p",{attrs:{slot:"title"},slot:"title"},[e._v("合同信息")])]),e._v(" "),r("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.menu22,expression:"menu22"}],attrs:{index:"projectList"}},[r("i",{staticClass:"iconfont"},[e._v("")]),e._v(" "),r("p",{attrs:{slot:"title"},slot:"title"},[e._v("全过程造价")])])],1)],1),e._v(" "),r("el-container",{staticClass:"el-container-main",staticStyle:{"flex-direction":"column"}},[r("m-head",{ref:"child"}),e._v(" "),r("div",{staticClass:"content-body"},[r("el-breadcrumb",{staticClass:"item-bread",attrs:{"separator-class":"el-icon-arrow-right"}},[r("i",{staticClass:"icon icon-breadcrumb"}),e._v(" "),e._l(e.breadcrumb,function(t,a){return[r("el-breadcrumb-item",{key:a},[e._v(e._s(t))])]})],2),e._v(" "),r("router-view",{staticClass:"view"})],1)],1)],1)},staticRenderFns:[]};var C=a("VU/8")(_,w,!1,function(e){a("ybFw")},null,null).exports,k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"m-work"},[t("router-view")],1)},staticRenderFns:[]};var F=a("VU/8")({data:function(){return{}}},k,!1,function(e){a("KuDZ"),a("ZgON")},"data-v-f06da014",null).exports,D={data:function(){return{inquireDateArr:"",inquireDepartmentId:"",inquireProjectSts:"",inquireProjectNum:"",inquireProjectName:"",nowDate:new Date,dateArr:"",total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],bianhao1:"",bianhao:"",centerDialogVisible:!1,serialNumber:"",biaodata:[],timeList:[],userPowerInfo:this.SStorage.getItem("userPowerInfo"),tabdata:[],collect:{},departmentSelect:[{deptId:"db5e76f9-9fbd-11e9-a036-0e411fd5cf91",deptName:"造价部"},{deptId:"eb1f8c91-960d-4717-84ee-cc3b8137ccd3",deptName:"项目部"},{deptId:"dea3cd5d-9fbd-11e9-a036-0e411fd5cf91",deptName:"招标代理部"}],projectStsSelect:[{projectSts:"0",projectStsLabel:"未完成"},{projectSts:"1",projectStsLabel:"已完成"}],router:this.$route,ruleForm:{projectNumSelect:"",userName:"",projectName:"",counselTypePeriod:"",contractNum:"",contractList:[{userName:"",departmentId:"",jobId:""}],cooperateContract:0},obj:{},config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},departmentId:"",projectNum:"",projectName:"",projectSts:"",condenseSelect:[],personSelect:[],projectNumPrefix:"",condense:"",spanArr:[],pos:0,radios:[]}},watch:{centerDialogVisible:{handler:function(){var e=this;e.centerDialogVisible||(e.resetRuleForm(),e.$nextTick(function(){e.$refs.ruleForm&&e.$refs.ruleForm.clearValidate()}))},immediate:!0}},created:function(){this.getAllData(),this.searchCounselTypePeriodList()},methods:{selectGetName:function(e,t){for(var a=0;a<t.length;a++)if(t[a].counselTypeId==e)return t[a].counselTypeName},getCondense:function(e){var t;t=this.condenseSelect.find(function(t){return t.companyId===e}),this.condense=t.condense},getAbbr:function(e){var t,a=this,r=0;t=this.personSelect.find(function(t){return t.departmentId===e.departmentId});for(var s=0,o=a.ruleForm.contractList.length;s<o;s++){if(a.ruleForm.contractList[s].departmentId==e.departmentId&&++r>1)return e.userName="",e.departmentId="",e.jobId="",e.abbr="",a.countContractNum(),a.stateDialog("error","不可以选择重复的指定人员!")}e.userName=t.userName,e.departmentId=t.departmentId,e.jobId=t.jobId,e.abbr=t.abbr,a.countContractNum()},countContractNum:function(){for(var e="",t="",a="",r=0,s=this.ruleForm.contractList.length;r<s;r++){var o=this.ruleForm.contractList[r];switch(r){case 0:e=o.abbr?o.abbr:"";break;case 1:t=o.abbr?"/"+o.abbr:"";break;case 2:a=o.abbr?"/"+o.abbr:""}}this.ruleForm.contractNum=e+t+a?e+t+a+"01":""},handleSizeChange:function(e){this.pageSize=e,this.refers()},handleCurrentChange:function(e){this.currentPage=e,this.refers()},currentChangePage:function(e,t,a){this.tabdata=e,this.spanArr=[],this.contentSpanArr=[];for(t=0;t<this.tabdata.length;t++)0===t?(this.spanArr.push(1),this.pos=0,this.contentSpanArr.push(1),this.position=0):this.tabdata[t].projectNum===this.tabdata[t-1].projectNum?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=t)},searchData:function(){var e=this;e.departmentId=e.inquireDepartmentId,e.projectSts=e.inquireProjectSts,e.projectNum=e.inquireProjectNum,e.projectName=e.inquireProjectName,e.currentPage=1;var t=[];if(null!=e.inquireDateArr)for(var a=0;a<e.inquireDateArr.length;a++)t.push(e.inquireDateArr[a]);e.timeList=t,e.getAllData()},getAllData:function(){var e=this,t=this;t.$axios.post("/project/query/searchProjectList",m()({pageNumber:t.currentPage,pageSize:t.pageSize,projectNum:t.projectNum,projectName:t.projectName,projectSts:t.projectSts,departmentId:t.departmentId,timeList:t.timeList}),t.config).then(function(e){"success"==e.data.status?(t.biaodata=e.data.pagedData.dataList,t.currentChangePage(t.biaodata,t.currentPage,t.pageSize),t.total=e.data.pagedData.dataCount):t.$message({type:"error",message:e.data.message,center:!0})}).catch(function(e){console.log(e)}),this.apiAddress("/project/query/searchIncomeReceivedSumAndContractAmountSum",{}).then(function(a){"success"==a.data.status?t.collect=a.data.dataVO:e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error",t)})},refers:function(){var e=this;e.$axios.post("/project/query/searchProjectList",m()({pageNumber:e.currentPage,pageSize:e.pageSize,projectNum:e.projectNum,projectSts:e.projectSts,departmentId:e.departmentId,timeList:e.timeList}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message,center:!0})}).catch(function(e){console.log(e)})},rowClass:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);return 8===a&&"1"==t.projectSts?"color:#FC4053":8===a&&"0"==t.projectSts?"color:#7FD680":void 0},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a||1===a||2===a){var r=this.spanArr[t];return{rowspan:r,colspan:r>0?1:0}}if(8===a){var s=this.spanArr[t];return{rowspan:s,colspan:s>0?1:0}}if(12===a){var o=this.spanArr[t];return{rowspan:o,colspan:o>0?1:0}}},requestForm:function(){var e=this;e.centerDialogVisible=!0,e.addCard(),e.$axios.post("/project/query/excSearchMaxProjectNum",{},e.config).then(function(t){"success"==t.data.status?e.projectNumPrefix=t.data.dataVO.projectNumPrefix:e.$message({type:"error",message:t.data.message,center:!0})}).catch(function(e){console.log(e)}),e.$axios.post("/project/query/searchCondenseList",{},e.config).then(function(t){"success"==t.data.status?e.condenseSelect=t.data.dataList:e.$message({type:"error",message:t.data.message,center:!0})}).catch(function(e){console.log(e)})},routerList:function(e,t){this.SStorage.setItem("/page/work/contract/FoundItem",t),this.$router.push({path:"/page/item/contract/FoundItem"})},goToInfoPage:function(e,t){t.businessId=t.contractId,this.SStorage.setItem("/page/work/contract/FoundItem",t),this.$router.push({path:"/page/item/contract/FoundItem"})},addCard:function(){var e=this;e.$axios.post("/project/query/excSearchPersonList",{},e.config).then(function(t){"success"==t.data.status?e.personSelect=t.data.dataList:e.$message({type:"error",message:t.data.message,center:!0})}).catch(function(e){console.log(e)})},submitForm:function(e){var t=this,a=this;a.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.$axios.post("/project/add/saveProjectInfo",m()({projectNum:a.projectNumPrefix+a.condense,projectName:a.ruleForm.projectName,counselTypePeriod:a.ruleForm.counselTypePeriod,companyId:a.ruleForm.projectNumSelect,contractNum:a.ruleForm.contractNum,cooperateContract:a.ruleForm.cooperateContract,contractList:a.ruleForm.contractList}),a.config).then(function(e){"success"==e.data.status?(a.centerDialogVisible=!1,a.condense="",a.getAllData(),a.$message({type:"success",message:e.data.message,center:!0})):a.$message({type:"error",message:e.data.message,center:!0})}).catch(function(e){a.$message({type:"error",message:e,center:!0})})}).catch(function(){})})},resetRuleForm:function(){this.ruleForm={projectNumSelect:"",userName:"",projectName:"",counselTypePeriod:"",contractNum:"",contractList:[{userName:"",departmentId:"",jobId:""}],cooperateContract:0}},addPersonnel:function(){this.ruleForm.contractList.length>2||this.ruleForm.contractList.push({userName:"",departmentId:"",jobId:""})},delPersonnel:function(e){this.ruleForm.contractList.length>1&&this.ruleForm.contractList.splice(e,1),this.countContractNum()},cooperateContractChange:function(e){for(e||this.ruleForm.contractList;this.ruleForm.contractList.length>1;)this.ruleForm.contractList.pop(),this.countContractNum()},searchCounselTypePeriodList:function(){var e=this,t=this;t.apiAddress("/project/query/searchCounselTypePeriodList",{}).then(function(a){if("failure"==a.data.status)t.$message({message:a.data.message,type:"error",center:!0});else{var r=a.data.dataList;e.radios=r}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}}},x={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"item-table item-table--item m-item-table--item"},[r("div",{staticClass:"item-from",staticStyle:{padding:"0px 20px"}},[r("div",{staticClass:"item-from search-form",staticStyle:{display:"inline-block",width:"calc(100% - 150px)",overflow:"auto",padding:"14px 10px","box-shadow":"none","white-space":"nowrap"}},[r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i3"}},[e._v("项目名称")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入项目名称",id:"i4"},model:{value:e.inquireProjectName,callback:function(t){e.inquireProjectName=t},expression:"inquireProjectName"}})],1),e._v(" "),r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i3"}},[e._v("所属部门")]),e._v(" "),r("el-select",{attrs:{placeholder:"请选择所属部门",clearable:""},model:{value:e.inquireDepartmentId,callback:function(t){e.inquireDepartmentId=t},expression:"inquireDepartmentId"}},e._l(e.departmentSelect,function(t){return r("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}},[e._v(e._s(t.deptName))])}),1)],1),e._v(" "),r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i3"}},[e._v("项目编号")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入项目编号",id:"i3"},model:{value:e.inquireProjectNum,callback:function(t){e.inquireProjectNum=t},expression:"inquireProjectNum"}})],1),e._v(" "),r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i3"}},[e._v("完成状态")]),e._v(" "),r("el-select",{attrs:{placeholder:"请选择完成状态",clearable:""},model:{value:e.inquireProjectSts,callback:function(t){e.inquireProjectSts=t},expression:"inquireProjectSts"}},e._l(e.projectStsSelect,function(t){return r("el-option",{key:t.projectSts,attrs:{label:t.projectStsLabel,value:t.projectSts}},[e._v(e._s(t.projectStsLabel))])}),1)],1),e._v(" "),r("div",{staticClass:"item-date"},[r("span",{staticClass:"demonstration"},[e._v("项目创建时间")]),e._v(" "),r("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期","default-value":e.nowDate},model:{value:e.inquireDateArr,callback:function(t){e.inquireDateArr=t},expression:"inquireDateArr"}})],1)]),e._v(" "),r("div",{staticClass:"itemfrom-right",staticStyle:{"margin-top":"14px"}},[r("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchData}},[e._v("查询")])],1),e._v(" "),r("el-row",{staticClass:"row-bg item-open",attrs:{type:"flex",justify:"end"}},[e.userPowerInfo.projectAdd?r("div",{staticClass:"item-tab-chuang",on:{click:e.requestForm}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("\n\t\t\t新增\n\t\t")]):e._e(),e._v(" "),r("el-dialog",{attrs:{title:"创建项目",visible:e.centerDialogVisible,width:"750px",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"100px","inline-message":!0}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("p",{staticStyle:{padding:"10px 9px"}},[e._v("合成项目编号："+e._s(e.projectNumPrefix)+e._s(e.condense))])])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("div",{staticClass:"item-serial"},[r("el-form-item",{staticClass:"projectNum",attrs:{label:"项目编号",prop:"projectNumSelect",rules:{required:!0,message:"请选择项目编号",trigger:"change"}}},[r("el-select",{attrs:{placeholder:"请选择项目编号"},on:{change:e.getCondense},model:{value:e.ruleForm.projectNumSelect,callback:function(t){e.$set(e.ruleForm,"projectNumSelect",t)},expression:"ruleForm.projectNumSelect"}},e._l(e.condenseSelect,function(t){return r("el-option",{key:t.companyId,attrs:{label:t.condense,value:t.companyId}},[e._v(e._s(t.condense))])}),1)],1)],1)]),e._v(" "),r("el-col",{attrs:{span:8}},[r("div",{staticClass:"item-serial"},[r("el-form-item",{staticClass:"projectNum projectName",attrs:{label:"项目名称",prop:"projectName",rules:{required:!0,message:"请输入项目名称",trigger:"blur"}}},[r("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName",t)},expression:"ruleForm.projectName"}})],1)],1)]),e._v(" "),r("el-col",{attrs:{span:8}},[r("div",{staticClass:"item-serial"},[r("el-form-item",{staticClass:"projectNum",attrs:{label:"咨询类别",prop:"counselTypePeriod",rules:{required:!0,message:"请选择咨询类别",trigger:"change"}}},[r("el-select",{attrs:{placeholder:"请选择咨询类别"},model:{value:e.ruleForm.counselTypePeriod,callback:function(t){e.$set(e.ruleForm,"counselTypePeriod",t)},expression:"ruleForm.counselTypePeriod"}},e._l(e.radios,function(e,t){return r("el-option",{key:t,attrs:{label:e.counselTypeName,value:e.counselTypeId}})}),1)],1)],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("p",{staticStyle:{padding:"10px 9px"}},[e._v("指定业务部门副总")])])],1),e._v(" "),r("div",{staticClass:"card-body"},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("合同")]),e._v(" "),r("span",{staticClass:"item-serial-num"},[e._v(e._s(e.projectNumPrefix)+e._s(e.condense)+"-"+e._s(e.ruleForm.contractNum))])]),e._v(" "),r("div",{staticClass:"text item dynamically-add"},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{class:{top:!1,right:!1,bottom:!0,left:!1},attrs:{label:"指定人员",prop:"contractList[0].departmentId",rules:{required:!0,message:"请选择指定人员",trigger:"change"}}},[r("el-select",{attrs:{placeholder:"请选择指定人员"},on:{change:function(t){return e.getAbbr(e.ruleForm.contractList[0])}},model:{value:e.ruleForm.contractList[0].departmentId,callback:function(t){e.$set(e.ruleForm.contractList[0],"departmentId",t)},expression:"ruleForm.contractList[0].departmentId"}},e._l(e.personSelect,function(e,t){return r("el-option",{key:e.jobId,attrs:{label:e.userName,value:e.departmentId}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{class:{top:!1,right:!1,bottom:!0,left:!1},attrs:{label:"合同编号",prop:"contractNum",rules:{required:!0,message:"请输入合同编号",trigger:"change"}}},[r("el-input",{attrs:{placeholder:"请输入合同编号"},model:{value:e.ruleForm.contractNum,callback:function(t){e.$set(e.ruleForm,"contractNum",t)},expression:"ruleForm.contractNum"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"cooperateContract",attrs:{label:"跨部门合作"}},[r("el-checkbox-group",{on:{change:e.cooperateContractChange},model:{value:e.ruleForm.cooperateContract,callback:function(t){e.$set(e.ruleForm,"cooperateContract",t)},expression:"ruleForm.cooperateContract"}},[r("el-checkbox",{attrs:{"true-label":1,"false-label":0,name:"cooperateContract"}})],1)],1)],1)],1)],1),e._v(" "),e.ruleForm.cooperateContract?r("div",{staticStyle:{"border-bottom":"1px solid #e3e3e3",padding:"10px 0"}},[r("span",[e._v("添加部门")]),e._v(" "),r("el-button",{staticClass:"linear",staticStyle:{width:"26px",height:"16px !important","line-height":"16px !important","border-radius":"5px",padding:"0 !important",border:"none","margin-left":"5px"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addPersonnel}})],1):e._e(),e._v(" "),e.ruleForm.cooperateContract?e._l(e.ruleForm.contractList,function(t,a){return r("div",{key:a,staticClass:"text item dynamically-add"},[a?[r("el-form-item",{class:{top:!1,right:!1,bottom:!0,left:!1},attrs:{label:"指定人员",prop:"contractList."+a+".departmentId",rules:{required:!0,message:"请选择指定人员",trigger:"change"}}},[r("el-select",{attrs:{placeholder:"请选择指定人员"},on:{change:function(a){return e.getAbbr(t)}},model:{value:t.departmentId,callback:function(a){e.$set(t,"departmentId",a)},expression:"item.departmentId"}},e._l(e.personSelect,function(e,t){return r("el-option",{key:e.jobId,attrs:{label:e.userName,value:e.departmentId}})}),1)],1),e._v(" "),r("i",{staticClass:"el-icon-close",attrs:{"data-v-3831ef16":""},on:{click:function(t){return e.delPersonnel(a)}}})]:e._e()],2)}):e._e()],2)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"collect"},[r("span",[e._v("汇总记录 ： ")]),e._v(" "),r("span",[e._v("合同已收款 ： "+e._s(e.collect.incomeReceivedSum)+" 元")]),e._v(" "),r("span",[e._v("合同金额 ： "+e._s(e.collect.contractAmountSum)+" 元")])]),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:"","span-method":e.objectSpanMethod,"cell-style":e.rowClass}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"项目编号","show-overflow-tooltip":!0,resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"text-overflow-ellipsis",staticStyle:{width:"100%"},attrs:{type:"text"},on:{click:function(a){return e.routerList(t.$index,t.row)}}},[e._v(e._s(t.row.projectNum))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",width:"70","class-name":"table-column",label:"合同数量",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t"+e._s(t.row.contractCount)+"\n\t\t\t")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","min-width":"200","class-name":"table-column",label:"项目名称",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t"+e._s(null==t.row.projectName?"-":t.row.projectName)+"\n\t\t\t")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","min-width":"130","class-name":"table-column",label:"合同编号","show-overflow-tooltip":!0,resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"text-overflow-ellipsis",staticStyle:{width:"100%"},attrs:{type:"text"},on:{click:function(a){return e.goToInfoPage(t.$index,t.row)}}},[e._v(e._s(null==t.row.contractNum?"-":t.row.contractNum))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","min-width":"200","class-name":"table-column",label:"合同名称","show-overflow-tooltip":!0,resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t"+e._s(null==t.row.contractName?"-":t.row.contractName)+"\n\t\t\t")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",width:"180","class-name":"table-column",label:"咨询类别",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t"+e._s(null==t.row.counselTypePeriod?"-":e.selectGetName(t.row.counselTypePeriod,e.radios))+"\n\t\t\t")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","min-width":"150","class-name":"table-column",label:"合作公司","show-overflow-tooltip":!0,resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t"+e._s(null==t.row.cooperateCompany?"-":t.row.cooperateCompany)+"\n\t\t\t")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同所属部门",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t"+e._s(null==t.row.departmentName?"-":t.row.departmentName)+"\n\t\t\t")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同负责人",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t"+e._s(null==t.row.dutyPeople?"-":t.row.dutyPeople)+"\n\t\t\t")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同签订时间",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t"+e._s(null==t.row.contractDate?"-":t.row.contractDate)+"\n\t\t\t")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同已收金额",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t"+e._s(null==t.row.incomeReceived?"-":t.row.incomeReceived)+"\n\t\t\t")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同金额",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t"+e._s(null==t.row.contractAmount?"-":t.row.contractAmount)+"\n\t\t\t")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"projectSts",label:"项目状态",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.projectIsInvalidFlag?r("span",{staticStyle:{color:"#FF0000",cursor:"pointer"}},[e._v("作废")]):"0"==t.row.projectSts?r("span",{staticStyle:{cursor:"pointer"}},[e._v("未完成")]):r("span",{staticStyle:{cursor:"pointer"}},[e._v("已完成")])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"isInvalidFlag",label:"合同状态",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.isInvalidFlag?r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"作废原因："+t.row.invalidReason,placement:"top"}},[r("span",{staticStyle:{color:"#FF0000",cursor:"pointer"}},[e._v("作废")])]):r("span",{staticStyle:{cursor:"pointer"}},[e._v("-")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])},staticRenderFns:[]};var T=a("VU/8")(D,x,!1,function(e){a("5YP2")},null,null).exports,N=a("lHA8"),I=a.n(N),A={props:["params"],data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],centerDialogVisible:!1,value1:"",searchUserName:"",searchTenderTaskName:"",userName:"",tenderTaskName:"",options:[],userCheckList:new I.a,userPowerInfo:this.SStorage.getItem("userPowerInfo"),ruleForm:{tenderTaskName:"",tenderTaskContent:"",startDate:"",mainUser:{userId:"",isMainDuty:1},userList:[]},userListFlag:!1,addUser:!1,formInline:{task:"",principal:""},rules:{tenderTaskName:[{required:!0,message:"请输入项目名称",trigger:"blur"},{max:20,message:"最长20字",trigger:"blur"}],tenderTaskContent:[{required:!0,message:"请输入项目概况",trigger:"blur"},{max:200,message:"最长200字",trigger:"blur"}],startDate:[{required:!0,message:"请设置开标时间",trigger:"blur"}]}}},mounted:function(){this.finduserList(),this.currentChangePage(1,10)},methods:{handClose:function(e){this.$refs[e].resetFields()},handleSizeChange:function(e){this.pageSize=e,this.currentChangePage(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.currentChangePage(this.currentPage,this.pageSize)},showAddTenderTaskForm:function(){this.finduserList(),this.centerDialogVisible=!0},finduserList:function(){var e=this,t={departmentId:this.params};e.apiAddress("/tenderTask/query/searchUsersByDepartmentId",t).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{var a=t.data.dataList;e.options=a}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},currentChangePage:function(e,t){var a=this,r={userName:this.userName,tenderTaskName:this.tenderTaskName,pageNumber:e,pageSize:t};a.$axios.post("/tenderTask/query/searchTenderTaskPeriodList",r,a.config).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.tabdata=t,a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},rowClass:function(e){var t=e.row;e.column,e.rowIndex;if(5===e.columnIndex)return"2"==t.tenderTaskSts?"color:#7fd680":"1"==t.tenderTaskSts?"color:#b1b1b1":"color:#dcaa3a"},checkmainUser:function(e,t,a){if(""==t)a(new Error("主编制人不为空"));else{for(var r=0,s=0;s<this.ruleForm.userList.length;s++)this.ruleForm.userList[s].userId==t&&r++;r>0?a(new Error("其他组员不可以和主编制人重复")):a()}},checkUserList:function(e,t,a){if(t)if(t==this.ruleForm.mainUser.userId)a(new Error("其他组员不可以和主编制人重复"));else{for(var r=0,s=0;s<this.ruleForm.userList.length;s++)this.ruleForm.userList[s].userId==t&&r++;if(r>1)return this.addUser=!0,!1;this.addUser=!1,a()}else a(new Error("其他组员不为空"))},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t.ruleForm.userList.concat(),r=t.ruleForm.startDate.getTime();a.push(t.ruleForm.mainUser);var s=t,o={userList:a,startDate:r,tenderTaskName:t.ruleForm.tenderTaskName,tenderTaskContent:t.ruleForm.tenderTaskContent,tenderTaskSts:0,departmentId:t.params};s.apiAddress("/tenderTask/insert/insertTenderTaskInfo",o).then(function(e){"failure"==e.data.status?s.$message({message:e.data.message,type:"error",center:!0}):(s.currentChangePage(s.currentPage,s.pageSize),s.centerDialogVisible=!1,s.$message({message:e.data.message,type:"success",center:!0}))}).catch(function(e){s.$message({message:e,type:"error",center:!0})})})},onSubmit:function(){this.userName=this.searchUserName,this.tenderTaskName=this.searchTenderTaskName,this.currentPage=1,this.pageSize=10,this.currentChangePage(this.currentPage,this.pageSize)},addCard:function(){this.ruleForm.userList.push({userId:"",isMainDuty:"0"})},removeCard:function(e){this.ruleForm.userList.splice(e,1)},routerPush:function(e){e.departmentId=this.params,this.SStorage.setItem("/page/work/contract/tenderTask",{rowInfo:e,stateFlag:"tenderTask",titleName:e.tenderTaskName}),this.$router.push({path:"/page/item/contract/tenderTask"})}}},S={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bazaar-itemList"},[r("el-row",{staticClass:"row-bg item-open",attrs:{type:"flex",justify:"end"}},[e.userPowerInfo.tenderTaskAdd?r("div",{staticClass:"item-tab-chuang",on:{click:e.showAddTenderTaskForm}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("新增\n    ")]):e._e(),e._v(" "),r("el-dialog",{attrs:{title:"创建项目",visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm")}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"项目名称",prop:"tenderTaskName"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入项目名称"},model:{value:e.ruleForm.tenderTaskName,callback:function(t){e.$set(e.ruleForm,"tenderTaskName",t)},expression:"ruleForm.tenderTaskName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"项目概况",prop:"tenderTaskContent"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入项目概况"},model:{value:e.ruleForm.tenderTaskContent,callback:function(t){e.$set(e.ruleForm,"tenderTaskContent",t)},expression:"ruleForm.tenderTaskContent"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"开标时间",prop:"startDate"}},[r("div",{staticClass:"block"},[r("el-date-picker",{attrs:{type:"date",placeholder:"请设置开标时间"},model:{value:e.ruleForm.startDate,callback:function(t){e.$set(e.ruleForm,"startDate",t)},expression:"ruleForm.startDate"}})],1)]),e._v(" "),r("div",{staticClass:"itemlist-dialog-bottom"},[r("p",[e._v("指定人员")]),e._v(" "),r("el-form-item",{attrs:{label:"主编制人",prop:"mainUser.userId",rules:[{validator:e.checkmainUser,trigger:"change"}]}},[r("el-select",{attrs:{placeholder:"请选择主编制人"},model:{value:e.ruleForm.mainUser.userId,callback:function(t){e.$set(e.ruleForm.mainUser,"userId",t)},expression:"ruleForm.mainUser.userId"}},e._l(e.options,function(e){return r("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})}),1)],1),e._v(" "),r("div",{staticClass:"addUser"},[r("span",[e._v("其他组员")]),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addCard}}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.addUser,expression:"addUser"}],staticClass:"el-form-item__error"},[e._v("\n              其他组员不可以重复\n            ")])],1),e._v(" "),e._l(e.ruleForm.userList,function(t,a){return r("el-form-item",{key:a,attrs:{prop:"userList["+a+"].userId",rules:[{validator:e.checkUserList,trigger:"change"}]}},[r("div",{staticClass:"addOption"},[r("el-select",{attrs:{placeholder:"请选择其他组员"},model:{value:t.userId,callback:function(a){e.$set(t,"userId",a)},expression:"i.userId"}},e._l(e.options,function(e){return r("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})}),1),e._v(" "),r("span",{staticClass:"el-icon-close",on:{click:function(t){return e.removeCard(a)}}})],1)])})],2)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),r("el-form",{ref:"formInline",staticClass:"demo-form-inline bazaar-form",attrs:{inline:!0}},[r("el-form-item",{attrs:{label:"投标任务名",prop:"tenderTaskName"}},[r("el-input",{attrs:{placeholder:"请输入投标任务名"},model:{value:e.searchTenderTaskName,callback:function(t){e.searchTenderTaskName=t},expression:"searchTenderTaskName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"主负责人",prop:"userName"}},[r("el-input",{attrs:{placeholder:"请输入主负责人"},model:{value:e.searchUserName,callback:function(t){e.searchUserName=t},expression:"searchUserName"}})],1),e._v(" "),r("el-form-item",{staticClass:"right-formItem"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("查询")])],1)],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:"","cell-style":e.rowClass}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"sortNum",label:"序号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"任务名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"text-overflow-ellipsis width100p",attrs:{type:"text"},on:{click:function(a){return e.routerPush(t.row)}}},[e._v(e._s(t.row.tenderTaskName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"tenderTaskContent","show-overflow-tooltip":!0,label:"任务概况"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"startDate",label:"开标时间"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"userName",label:"主负责人"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{attrs:{type:"text"}},[e._v("\n            "+e._s(1==t.row.tenderTaskSts?"未中标":2==t.row.tenderTaskSts?"已中标":"未开标")+"\n          ")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var L={data:function(){return{active:this.SStorage.getItem("userPowerInfo").projectList?"/page/item":"/page/item/bazaarItemList",userPowerInfo:this.SStorage.getItem("userPowerInfo")}},components:{"item-table":T,"bazaar-item":a("VU/8")(A,S,!1,function(e){a("APZK")},null,null).exports},methods:{}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"item"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[e.userPowerInfo.projectList?a("el-tab-pane",{attrs:{label:"合同项目",name:"/page/item",lazy:!0}},[a("div",{staticClass:"item-tab-bor linear"}),e._v(" "),a("item-table",{ref:"itemTable"})],1):e._e(),e._v(" "),e.userPowerInfo.tenderTaskList?a("el-tab-pane",{attrs:{label:"市场项目",name:"/page/item/bazaarItemList",lazy:!0}},[a("div",{staticClass:"item-tab-bor linear"}),e._v(" "),a("bazaar-item",{attrs:{params:"593df92d-fb21-442a-b279-a8b821bbc0d4"}})],1):e._e()],1)],1)},staticRenderFns:[]};var P=a("VU/8")(L,$,!1,function(e){a("Zv02"),a("uYHx")},"data-v-178abe18",null).exports,j={name:"common-combo-box",props:["formModel","data","dataFormat"],data:function(){return{selectFormModel:this.formModel,dataConverted:this.data}},created:function(){this.dataConverted=this.dataTrans(this.data)},methods:{valueChanged:function(e){this.$emit("optionChanged",e)},dataTrans:function(e){var t=[];if(this.dataFormat.label.indexOf(",")>0)for(var a=0;a<e.length;a++){t[a]={},t[a]=JSON.parse(m()(e[a]));for(var r=this.dataFormat.label.split(","),s="",o=0;o<r.length;o++)s+=e[a][r[o]]+" - ";s.endsWith(" - ")&&(s=s.substring(0,s.length-3)),t[a].label=s,t[a].value=e[a][this.dataFormat.value]}else for(var n=0;n<e.length;n++)t[n]={},t[n]=JSON.parse(m()(e[n])),t[n].label=e[n][this.dataFormat.label],t[n].value=e[n][this.dataFormat.value];return t}},watch:{formModel:function(e){this.selectFormModel=e,this.$emit("update:formModel",e)},data:{handler:function(e,t){var a=this;e!==t&&this.$nextTick(function(){a.dataConverted=a.dataTrans(e)})}}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{on:{change:e.valueChanged},model:{value:e.selectFormModel,callback:function(t){e.selectFormModel=t},expression:"selectFormModel"}},e._l(e.dataConverted,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e}})}),1)},staticRenderFns:[]};var R=a("VU/8")(j,q,!1,function(e){a("3vTm")},"data-v-5547ed8c",null).exports;var B={formRules:{processName:[{required:!0,message:"请选择流程",trigger:"change"}],nodeName:[{required:!0,message:"请选择节点",trigger:"change"}],departmentName:[{required:!0,message:"请选择业务线",trigger:"change"}],jobName:[{required:!0,message:"请选择职位",trigger:"change"}]},processConfigForm:{uuid:"",processDictId:"",processName:"",nodeId:"",nodeName:"",departmentId:"",departmentName:"",jobId:"",jobName:""},listHeaders:[{id:"processName",name:"流程名称"},{id:"nodeId",name:"节点ID"},{id:"nodeName",name:"节点名称"},{id:"departmentName",name:"所属业务线"},{id:"jobName",name:"节点职位"}],loadSelect:function(e,t,a,r){e.$axios.post(t,a,e.config).then(function(t){e[r]=t.data.dataList}).catch(function(e){})}},O={name:"pro-cfg-list-add",components:{CommonSelect:R},props:["isShowAddDialog"],data:function(){return{rules:B.formRules,processConfigForm:JSON.parse(m()(B.processConfigForm)),processName:"",departmentName:"",processSelectData:[],selectDataFormat:{value:"value",label:"text"},departmentSelectData:[],jobSelectData:[],nodeSelectData:[]}},watch:{processName:function(e){this.processName=e,this.processConfigForm.nodeName=""},departmentName:function(e){this.departmentName=e,this.processConfigForm.jobName=""}},mounted:function(){B.loadSelect(this,"/process/config/searchProcessConfigSelect",{},"processSelectData"),B.loadSelect(this,"/process/config/searchDepartmentSelect",{},"departmentSelectData")},methods:{onClose:function(){this.processConfigForm={},this.$emit("update:isShowAddDialog",!1)},processChange:function(e){var t=e.value;this.processName=e.label,B.loadSelect(this,"/process/config/searchNodeSelect",{processDictId:t},"nodeSelectData"),this.processConfigForm.processDictId=t,this.processConfigForm.processName=e.label},departmentChange:function(e){var t=e.value;this.departmentName=e.label,B.loadSelect(this,"/process/config/searchJobSelect",{departmentId:t},"jobSelectData"),this.processConfigForm.departmentId=t,this.processConfigForm.departmentName=e.label},jobChange:function(e){this.processConfigForm.jobId=e.value,this.processConfigForm.jobName=e.label},nodeChange:function(e){this.processConfigForm.nodeId=e.value,this.processConfigForm.nodeName=e.label},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var e=t;e.$axios.post("/process/config/saveProcessNodeRelation",m()(e.processConfigForm),e.config).then(function(t){"success"===t.data.status?(e.$emit("showDialog",!1),e.processConfigForm={},e.bus.$emit("refersPagingData"),e.$message({type:"success",message:t.data.message,center:!0})):e.$message({type:"error",message:t.data.message,center:!0})}).catch(function(t){e.$message({type:"error",message:t,center:!0})})}).catch(function(){})})}}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"新增",visible:e.isShowAddDialog,width:"500px",transition:"fade-in-linear",center:""},on:{close:e.onClose}},[a("el-form",{ref:"processConfigForm",staticClass:"demo-ruleForm",attrs:{model:e.processConfigForm,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"流程名称",prop:"processName"}},[a("common-select",{attrs:{formModel:e.processConfigForm.processName,data:e.processSelectData,dataFormat:this.selectDataFormat},on:{"update:formModel":function(t){return e.$set(e.processConfigForm,"processName",t)},"update:form-model":function(t){return e.$set(e.processConfigForm,"processName",t)},optionChanged:e.processChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"业务线",prop:"departmentName"}},[a("common-select",{attrs:{formModel:e.processConfigForm.departmentName,data:e.departmentSelectData,dataFormat:this.selectDataFormat},on:{"update:formModel":function(t){return e.$set(e.processConfigForm,"departmentName",t)},"update:form-model":function(t){return e.$set(e.processConfigForm,"departmentName",t)},optionChanged:e.departmentChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",prop:"jobName"}},[a("common-select",{attrs:{formModel:e.processConfigForm.jobName,data:e.jobSelectData,dataFormat:this.selectDataFormat},on:{"update:formModel":function(t){return e.$set(e.processConfigForm,"jobName",t)},"update:form-model":function(t){return e.$set(e.processConfigForm,"jobName",t)},optionChanged:e.jobChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"节点",prop:"nodeName"}},[a("common-select",{attrs:{formModel:e.processConfigForm.nodeName,data:e.nodeSelectData,dataFormat:this.selectDataFormat},on:{"update:formModel":function(t){return e.$set(e.processConfigForm,"nodeName",t)},"update:form-model":function(t){return e.$set(e.processConfigForm,"nodeName",t)},optionChanged:e.nodeChange}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("processConfigForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var M=a("VU/8")(O,z,!1,function(e){a("M4j+")},"data-v-85b77e7c",null).exports,V={name:"pro-cfg-list-btn-add",components:{ProCfgListAdd:M},data:function(){return{isShowAddDialog:!1}},methods:{showDialog:function(){this.isShowAddDialog=!1}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"item-tab-chuang",on:{click:function(t){e.isShowAddDialog=!0}}},[a("span",{staticClass:"el-icon-plus linear"}),e._v("新增\n  ")]),e._v(" "),a("pro-cfg-list-add",{attrs:{isShowAddDialog:e.isShowAddDialog},on:{"update:isShowAddDialog":function(t){e.isShowAddDialog=t},"update:is-show-add-dialog":function(t){e.isShowAddDialog=t},showDialog:e.showDialog}})],1)},staticRenderFns:[]};var E=a("VU/8")(V,U,!1,function(e){a("axj8")},"data-v-0157eea0",null).exports,H=a("woOf"),W=a.n(H),K={name:"common-paging",data:function(){return{currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100]}},mounted:function(){var e=this;this.bus.$on("refersPagingData",function(){e.refers()})},props:["total","queryUrl","queryCondition"],methods:{handleSizeChange:function(e){this.pageSize=e,this.refers()},handleCurrentChange:function(e){this.currentPage=e,this.refers()},refers:function(){var e=this,t={pageNumber:e.currentPage,pageSize:e.pageSize},a=W()({},this.queryCondition,t);e.$axios.post(e.queryUrl,m()(a),e.config).then(function(t){"success"===t.data.status?e.$emit("pagingQueryData",t):e.$message({type:"error",message:t.data.message})})}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[a("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])},staticRenderFns:[]};var Q=a("VU/8")(K,J,!1,function(e){a("2vc+")},"data-v-66df9912",null).exports,G={name:"pro-cfg-list-add",components:{CommonSelect:R},props:["isShowEditDialog","formData"],data:function(){return{rules:B.formRules,processConfigForm:JSON.parse(m()(B.processConfigForm)),processName:"",departmentName:"",processSelectData:[],departmentSelectData:[],selectDataFormat:{value:"value",label:"text"},jobSelectData:[],nodeSelectData:[]}},watch:{processName:function(e){this.processName=e,this.processConfigForm.nodeName=""},departmentName:function(e){this.departmentName=e,this.processConfigForm.jobName=""},formData:function(e){this.processConfigForm=JSON.parse(m()(e)),B.loadSelect(this,"/process/config/searchNodeSelect",{processDictId:this.processConfigForm.processDictId},"nodeSelectData"),B.loadSelect(this,"/process/config/searchJobSelect",{departmentId:this.processConfigForm.departmentId},"jobSelectData")}},mounted:function(){this.initData()},methods:{onClose:function(){this.$emit("update:isShowEditDialog",!1)},initData:function(){B.loadSelect(this,"/process/config/searchProcessConfigSelect",{},"processSelectData"),B.loadSelect(this,"/process/config/searchDepartmentSelect",{},"departmentSelectData")},processChange:function(e){var t=e.value;this.processName=e.label,B.loadSelect(this,"/process/config/searchNodeSelect",{processDictId:t},"nodeSelectData"),this.processConfigForm.processDictId=t,this.processConfigForm.processName=e.label},departmentChange:function(e){var t=e.value;this.departmentName=e.label,B.loadSelect(this,"/process/config/searchJobSelect",{departmentId:t},"jobSelectData"),this.processConfigForm.departmentId=t,this.processConfigForm.departmentName=e.label},jobChange:function(e){this.processConfigForm.jobId=e.value,this.processConfigForm.jobName=e.label},nodeChange:function(e){this.processConfigForm.nodeId=e.value,this.processConfigForm.nodeName=e.label},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var e=t;e.$axios.post("/process/config/updateProcessNodeRelation",m()(e.processConfigForm),e.config).then(function(t){"success"===t.data.status?(e.$emit("showDialog",!1),e.processConfigForm={},e.bus.$emit("refersPagingData"),e.$message({type:"success",message:t.data.message,center:!0})):e.$message({type:"error",message:t.data.message,center:!0})}).catch(function(t){e.$message({type:"error",message:t,center:!0})})}).catch(function(){})})}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"修改",visible:e.isShowEditDialog,width:"500px",transition:"fade-in-linear",center:""},on:{close:e.onClose}},[a("el-form",{ref:"processConfigForm",staticClass:"demo-ruleForm",attrs:{model:e.processConfigForm,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"流程名称",prop:"processName"}},[a("common-select",{attrs:{formModel:e.processConfigForm.processName,data:e.processSelectData,dataFormat:this.selectDataFormat},on:{"update:formModel":function(t){return e.$set(e.processConfigForm,"processName",t)},"update:form-model":function(t){return e.$set(e.processConfigForm,"processName",t)},optionChanged:e.processChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"业务线",prop:"departmentName"}},[a("common-select",{attrs:{formModel:e.processConfigForm.departmentName,data:e.departmentSelectData,dataFormat:this.selectDataFormat},on:{"update:formModel":function(t){return e.$set(e.processConfigForm,"departmentName",t)},"update:form-model":function(t){return e.$set(e.processConfigForm,"departmentName",t)},optionChanged:e.departmentChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",prop:"jobName"}},[a("common-select",{attrs:{formModel:e.processConfigForm.jobName,data:e.jobSelectData,dataFormat:this.selectDataFormat},on:{"update:formModel":function(t){return e.$set(e.processConfigForm,"jobName",t)},"update:form-model":function(t){return e.$set(e.processConfigForm,"jobName",t)},optionChanged:e.jobChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"节点",prop:"nodeName"}},[a("common-select",{attrs:{formModel:e.processConfigForm.nodeName,data:e.nodeSelectData,dataFormat:this.selectDataFormat},on:{"update:formModel":function(t){return e.$set(e.processConfigForm,"nodeName",t)},"update:form-model":function(t){return e.$set(e.processConfigForm,"nodeName",t)},optionChanged:e.nodeChange}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("processConfigForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var X={name:"pro-cfg-list",components:{CommonPaging:Q,ProCfgListAdd:M,ProCfgListEdit:a("VU/8")(G,Y,!1,function(e){a("321A")},"data-v-71a9475d",null).exports,CommonSelect:R},data:function(){return{currentPage:1,pageSize:10,dataHeaders:B.listHeaders,processName:"",processSelectData:[],departmentSelectData:[],queryUrl:"/process/config/searchProcessConfigInfo",isShowAddDialog:!1,isShowEditDialog:!1,rowData:"1"}},created:function(){this.initData()},computed:{processConfigData:{get:function(){return this.$store.state.processConfigObject.data},set:function(e){this.$store.state.processConfigObject.data=e}},total:{get:function(){return this.$store.state.processConfigObject.total},set:function(e){this.$store.state.processConfigObject.total=e}},queryCondition:{get:function(){return this.$store.state.processConfigObject.queryCondition}}},methods:{initData:function(){var e=this;e.$axios.post(e.queryUrl,m()({pageNumber:e.currentPage,pageSize:e.pageSize}),e.config).then(function(t){"success"===t.data.status?(e.processConfigData=t.data.pagedData.dataList,e.currentChangePage(e.processConfigData,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}),B.loadSelect(e,"/process/config/searchProcessConfigSelect",{},"processSelectData"),B.loadSelect(e,"/process/config/searchDepartmentSelect",{},"departmentSelectData")},update:function(e){this.isShowEditDialog=!0,this.rowData=e},delFun:function(e){var t=this;this.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t;a.$axios.post("/process/config/delProcessNodeRelation",m()({uuid:e.uuid}),a.config).then(function(e){"success"===e.data.status?(a.bus.$emit("refersPagingData"),a.$message({type:"success",message:e.data.message,center:!0})):a.$message({type:"error",message:e.data.message,center:!0})}).catch(function(e){a.$message({type:"error",message:e,center:!0})})}).catch(function(){})},showDialog:function(){this.isShowEditDialog=!1,this.isShowAddDialog=!1},pagingQueryData:function(e){var t=this;t.processConfigData=e.data.pagedData.dataList,t.currentChangePage(t.processConfigData,t.currentPage,t.pageSize),t.total=e.data.pagedData.dataCount},currentChangePage:function(e){this.processConfigData=e}}},Z={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.processConfigData,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),e._l(e.dataHeaders,function(t,a){return r("el-table-column",{key:a++,attrs:{align:"center","class-name":"table-column",label:t.name,prop:t.name},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n          "+e._s(e.processConfigData[a.$index][t.id])+"\n        ")]}}],null,!0)})}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.update(t.row)}}},[e._v("修改")]),e._v(" "),r("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.delFun(t.row)}}},[e._v("删除")])]}}])})],2)],1),e._v(" "),r("common-paging",{attrs:{total:this.total,queryUrl:e.queryUrl,queryCondition:e.queryCondition},on:{pagingQueryData:e.pagingQueryData}}),e._v(" "),r("pro-cfg-list-edit",{attrs:{isShowEditDialog:e.isShowEditDialog,formData:e.rowData},on:{"update:isShowEditDialog":function(t){e.isShowEditDialog=t},"update:is-show-edit-dialog":function(t){e.isShowEditDialog=t},showDialog:e.showDialog}})],1)},staticRenderFns:[]};var ee={name:"pro-cfg-query-ctn",components:{CommonSelect:R},data:function(){return{currentPage:1,pageSize:10,processConfigForm:JSON.parse(m()(B.processConfigForm)),processSelectData:[],departmentSelectData:[],selectDataFormat:{value:"value",label:"text"},queryUrl:"/process/config/searchProcessConfigInfo"}},computed:{processConfigData:{get:function(){return this.$store.state.processConfigObject.data},set:function(e){this.$store.state.processConfigObject.data=e}},total:{get:function(){return this.$store.state.processConfigObject.total},set:function(e){this.$store.state.processConfigObject.total=e}},queryCondition:{get:function(){return this.$store.state.processConfigObject.queryCondition},set:function(e){this.$store.state.processConfigObject.queryCondition=e}}},mounted:function(){B.loadSelect(this,"/process/config/searchProcessConfigSelect",{},"processSelectData"),B.loadSelect(this,"/process/config/searchDepartmentSelect",{},"departmentSelectData")},methods:{processChange:function(e){console.log(e),this.processConfigForm.processDictId=e.value,this.processConfigForm.processName=e.label},departmentChange:function(e){this.processConfigForm.departmentId=e.value,this.processConfigForm.departmentName=e.label},queryData:function(){var e=this,t={pageNumber:e.currentPage,pageSize:e.pageSize},a=this.processConfigForm,r=W()({},t,a);e.$axios.post(e.queryUrl,m()(r),e.config).then(function(t){"success"===t.data.status?(e.processConfigData=t.data.pagedData.dataList,e.currentChangePage(e.processConfigData,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount,e.queryCondition=a):e.$message({type:"error",message:t.data.message})}),B.loadSelect(e,"/process/config/searchProcessConfigSelect",{},"processSelectData"),B.loadSelect(e,"/process/config/searchDepartmentSelect",{},"departmentSelectData")},currentChangePage:function(e){this.processConfigData=e}}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline bazaar-form",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"流程名称",prop:"processName"}},[a("common-select",{attrs:{formModel:e.processConfigForm.processName,data:e.processSelectData,dataFormat:this.selectDataFormat},on:{"update:formModel":function(t){return e.$set(e.processConfigForm,"processName",t)},"update:form-model":function(t){return e.$set(e.processConfigForm,"processName",t)},optionChanged:e.processChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"业务线",prop:"departmentName"}},[a("common-select",{attrs:{formModel:e.processConfigForm.departmentName,data:e.departmentSelectData,dataFormat:this.selectDataFormat},on:{"update:formModel":function(t){return e.$set(e.processConfigForm,"departmentName",t)},"update:form-model":function(t){return e.$set(e.processConfigForm,"departmentName",t)},optionChanged:e.departmentChange}})],1),e._v(" "),a("el-form-item",{staticClass:"right-formItem"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.queryData()}}},[e._v("查询")])],1)],1)},staticRenderFns:[]};var ae={name:"process-config",components:{ProCfgList:a("VU/8")(X,Z,!1,function(e){a("o7Df")},"data-v-7c2d2f7e",null).exports,ProCfgListBtnAdd:E,ProCfgQueryCtn:a("VU/8")(ee,te,!1,function(e){a("AXIE")},"data-v-185e982b",null).exports}},re={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("pro-cfg-list-btn-add",{staticStyle:{float:"right"}}),this._v(" "),t("pro-cfg-query-ctn"),this._v(" "),t("pro-cfg-list")],1)},staticRenderFns:[]};var se=a("VU/8")(ae,re,!1,function(e){a("VS5V")},"data-v-0c107a1f",null).exports,oe={props:["formData"],data:function(){return{currentFormFata:{},searchProp:this.formData,tableData:[],show:!1,total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100]}},methods:{handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},searchList:function(e,t){var a=this,r={userId:a.searchProp.userId,searchDate:a.searchProp.searchDate,pageNumber:e,pageSize:t};a.apiAddress("/reportForm/query/searchHTUserQuestionRecordRelationList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.tableData=t,a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},handleClose:function(e){this.show=!1},handleOpen:function(){console.log("handleOpen",this.currentFormFata)}}},ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"人员扣分",visible:e.show,width:"900px",center:"","close-on-click-modal":!1},on:{open:e.handleOpen,close:e.handleClose}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("span",[e._v("姓名:"+e._s(e.formData.userName))]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("时间:"+e._s(e.formData.searchDate))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"businessNum",label:"合同编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"businessName",label:"扣分数据"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"approveTime",label:"审核时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"approveUserName",label:"审核人"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"questionName",label:"错误描述"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"questionNum",label:"错误数"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"grade",label:"扣分值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.grade*t.row.questionNum)+"%")])]}}])})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen",staticStyle:{"margin-top":"10px"}},[a("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])],1)],1)},staticRenderFns:[]};var ie=a("VU/8")(oe,ne,!1,function(e){a("CgPS")},null,null).exports,le={props:["searchType","tabName","searchProp"],data:function(){return{form:{date:this.tool.formatDate(new Date,"year"==this.searchType?"yyyy":"yyyy-MM")},currentsearchType:this.searchType||"year",userPowerInfo:this.SStorage.getItem("userPowerInfo")}},watch:{searchType:{handler:function(){this.currentsearchType=this.searchType},immediate:!0},tabName:{handler:function(){this.form.date=this.tool.formatDate(new Date,"year"==this.searchType?"yyyy":"yyyy-MM")},immediate:!0}},methods:{search:function(){this.$emit("click",this.form)},exportData:function(){var e=document.createElement("iframe");e.src="/reportForm/exprot/exportPerformanceReport?realFileName=绩效报表.xls&month="+this.searchProp,e.style.display="none",document.body.appendChild(e)}}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"search",attrs:{model:e.form}},[a("div",{staticClass:"item"},[a("label",{attrs:{for:""}},[e._v(e._s("year"==e.currentsearchType?"年份":"月份"))]),e._v(" "),a("el-date-picker",{attrs:{clearable:!1,editable:!1,type:"year"==e.currentsearchType?"year":"month",placeholder:"year"==e.currentsearchType?"选择年份":"选择月份","value-format":"year"==e.currentsearchType?"yyyy":"yyyy-MM"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),e.userPowerInfo.reportJXFormExport&&void 0==e.tabName?a("el-button",{staticClass:"linear",staticStyle:{position:"absolute",right:"120px",top:"15px"},attrs:{type:"primary"},on:{click:e.exportData}},[a("i",{staticClass:"iconfont",staticStyle:{"font-size":"12px"}},[e._v("")]),e._v("\n     导出\n  ")]):e._e(),e._v(" "),a("el-button",{staticClass:"linear",staticStyle:{position:"absolute",right:"20px",top:"15px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)},staticRenderFns:[]};var ue=a("VU/8")(le,ce,!1,function(e){a("U+F+")},null,null).exports,pe={components:{"dialog-table":ie,search:ue},data:function(){return{userFormData:{userId:"",userName:"",searchDate:""},activeTab:"newContractQuantity",searchProp:"",tableData:[],total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100]}},mounted:function(){this.searchData()},methods:{searchData:function(){this.currentPage=1,this.pageSize=10,this.searchProp=this.$refs.search.form.date,this.searchList(this.currentPage,this.pageSize)},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},searchList:function(e,t){var a=this,r={searchDate:a.searchProp,pageNumber:e,pageSize:t};a.apiAddress("/reportForm/query/searchUserAchievementsReportForm",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.tableData=t,a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},click:function(e){var t=this;console.log("row",e),t.userFormData.searchDate=t.searchProp,t.userFormData.userId=e.userId,t.userFormData.userName=e.userName,t.$refs.dialogTable.show=!0,t.$refs.dialogTable.currentPage=1,t.$refs.dialogTable.pageSize=10,t.$refs.dialogTable.searchList(1,10)}}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"report-performance"},[a("search",{ref:"search",attrs:{searchProp:this.searchProp,searchType:"month"},on:{click:function(t){return e.searchData()}}}),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"name",label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"click-entry",on:{click:function(a){return e.click(t.row)}}},[e._v(e._s(t.row.userName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"sumNum",label:"扣分合计"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.sumNum>100?100:t.row.sumNum)+"%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"contractCountNum",label:"扣分合同编撰数"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"taskCountNum",label:"扣分任务数"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"requestMenuCountNum",label:"扣分请款单数"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen",staticStyle:{"margin-top":"10px"}},[a("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])],1),e._v(" "),a("dialog-table",{ref:"dialogTable",attrs:{formData:e.userFormData}})],1)},staticRenderFns:[]};var de=a("VU/8")(pe,me,!1,function(e){a("6XTF")},null,null).exports,fe=a("XLwt"),ge=a.n(fe),he={props:["chartData"],data:function(){return{xData:this.chartData.xData,series:this.chartData.series,myChart:""}},mounted:function(){var e=this,t=document.getElementById("my_dataviz");t.style.width=t.offsetWidth,e.myChart=ge.a.init(t),window.onresize=function(){e.myChart.resize()},e.updataChart()},watch:{chartData:{handler:function(){var e=this;e.xData=e.chartData.xData,e.series=e.chartData.series,e.updataChart()},deep:!0,immediate:!0}},methods:{updataChart:function(){var e=this;if(e.myChart){for(var t=[],a=0,r=e.series.length;a<r;a++)t.push({data:e.series[a],type:"line"});e.myChart.setOption({xAxis:{type:"category",data:e.xData,boundaryGap:["20%","20%"]},yAxis:{type:"value"},series:t})}}}},ve={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{height:"500px","background-color":"white","border-radius":"10px 10px 0 0"},attrs:{id:"my_dataviz"}})},staticRenderFns:[]};var be={props:["tableData","showCols"],data:function(){return{currentTableData:this.tableData||[],currentShowCols:this.showCols}},watch:{tableData:{handler:function(){this.currentTableData=this.tableData,console.log("vm.currentTableData",this.currentTableData)},immediate:!0},showCols:{handler:function(){this.currentShowCols=this.showCols},immediate:!0}}},ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.currentTableData,"default-sort":{prop:"groupMonths",order:"descending"},border:""}},[e.currentShowCols.groupMonths?a("el-table-column",{attrs:{align:"center",prop:"groupMonths",label:"时间"}}):e._e(),e._v(" "),e.currentShowCols.addContractCount?a("el-table-column",{attrs:{align:"center",prop:"addContractCount",label:"新增合同数量"}}):e._e(),e._v(" "),e.currentShowCols.sumAddContractCount?a("el-table-column",{attrs:{align:"center",prop:"sumAddContractCount",label:"年度累计新增合同数量"}}):e._e(),e._v(" "),e.currentShowCols.doneContractCount?a("el-table-column",{attrs:{align:"center",prop:"doneContractCount",label:"完成合同数量"}}):e._e(),e._v(" "),e.currentShowCols.sumDoneContractCount?a("el-table-column",{attrs:{align:"center",prop:"sumDoneContractCount",label:"年度累计完成合同数量"}}):e._e(),e._v(" "),e.currentShowCols.requestTotalAmount?a("el-table-column",{attrs:{align:"center",prop:"requestTotalAmount",label:"请款金额"}}):e._e(),e._v(" "),e.currentShowCols.sumRequestTotalAmount?a("el-table-column",{attrs:{align:"center",prop:"sumRequestTotalAmount",label:"年度累计请款金额"}}):e._e(),e._v(" "),e.currentShowCols.paymentTotalAmount?a("el-table-column",{attrs:{align:"center",prop:"paymentTotalAmount",label:"到款金额"}}):e._e(),e._v(" "),e.currentShowCols.sumPaymentTotalAmount?a("el-table-column",{attrs:{align:"center",prop:"sumPaymentTotalAmount",label:"年度累计到款金额"}}):e._e(),e._v(" "),e.currentShowCols.differenceValue?a("el-table-column",{attrs:{align:"center",prop:"differenceValue",label:"未到金额"}}):e._e(),e._v(" "),e.currentShowCols.sumDifferenceValue?a("el-table-column",{attrs:{align:"center",prop:"sumDifferenceValue",label:"年度累计未到金额"}}):e._e()],1)},staticRenderFns:[]};var _e={props:["tabName","departmentId"],components:{search:ue,"line-chart":a("VU/8")(he,ve,!1,function(e){a("12O3")},null,null).exports,"table-synthetical-report-form":a("VU/8")(be,ye,!1,function(e){a("+OkA")},null,null).exports},beforemount:function(){console.log(1),this.searchData()},mounted:function(){var e=this;console.log(2),e.$nextTick(function(){e.tabClick({name:"newContractQuantity"})})},data:function(){return{showCols:{groupMonths:!0,addContractCount:!0,sumAddContractCount:!0,doneContractCount:!0,sumDoneContractCount:!0,requestTotalAmount:!0,sumRequestTotalAmount:!0,paymentTotalAmount:!0,sumPaymentTotalAmount:!0,differenceValue:!0,sumDifferenceValue:!0},lineChart:{xData:[],series:[]},activeTab:"newContractQuantity",tableData:[],addContractCountList:[],requestTotalAmountList:[],paymentTotalAmountList:[],countNum:"",tableShow:!0}},watch:{tabName:{handler:function(){this.changeShowCols(),this.searchData()},immediate:!0},departmentId:{handler:function(){},immediate:!0}},methods:{searchData:function(){var e=this;console.log("vm.lineChart",e.lineChart),this.$nextTick(function(){var t=this,a={searchDate:e.$refs.search.form.date,departmentId:e.departmentId};e.tableShow=!1,e.apiAddress("/reportForm/query/searchSyntheticalReportFormList",a).then(function(a){if("failure"==a.data.status)e.$message({message:a.data.message,type:"error",center:!0});else{var r=a.data.dataList;e.tableShow=!0,e.tableData=r,e.countNum=r[r.length-1].sumAddContractCount,"comprehensiveFinancial"==t.tabName&&(e.countNum=r[r.length-1].sumPaymentTotalAmount);for(var s=[],o=[],n=[],i=[],l=0;l<r.length;l++)s.push(r[l].groupMonths),o.push(r[l].addContractCount),n.push(r[l].requestTotalAmount),i.push(r[l].paymentTotalAmount);e.addContractCountList=o,e.requestTotalAmountList=n,e.paymentTotalAmountList=i,e.lineChart.xData=s,e.tabClick({name:e.activeTab})}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})})},tabClick:function(e){var t=this;switch(e.name){case"newContractQuantity":t.lineChart.series=[t.addContractCountList];break;case"pleaseIncreaseTheAmountOfMoney":t.lineChart.series=[t.requestTotalAmountList];break;case"toTheAmount":t.lineChart.series=[t.paymentTotalAmountList]}},changeShowCols:function(){var e=this;switch(e.activeTab="newContractQuantity",e.tabName){case"cost":case"tender":case"supervision":e.showCols={groupMonths:!0,addContractCount:!0,sumAddContractCount:!0,doneContractCount:!0,sumDoneContractCount:!0,requestTotalAmount:!0,sumRequestTotalAmount:!0,paymentTotalAmount:!0,sumPaymentTotalAmount:!0,differenceValue:!0,sumDifferenceValue:!0};break;case"comprehensiveFinancial":e.activeTab="pleaseIncreaseTheAmountOfMoney",e.showCols={groupMonths:!0,requestTotalAmount:!0,sumRequestTotalAmount:!0,paymentTotalAmount:!0,sumPaymentTotalAmount:!0,differenceValue:!0,sumDifferenceValue:!0};break;case"consolidatedContractStatement":e.showCols={groupMonths:!0,addContractCount:!0,sumAddContractCount:!0,doneContractCount:!0,sumDoneContractCount:!0}}}}},we={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"report-supervision"},[a("search",{ref:"search",attrs:{searchType:"year",tabName:e.tabName},on:{click:function(t){return e.searchData()}}}),e._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:24}},[e._v(" "+e._s("comprehensiveFinancial"==e.tabName?"年度总到款金额（元）":"年度合同数")+"："+e._s(e.countNum))])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},["comprehensiveFinancial"!=e.tabName?a("el-tab-pane",{attrs:{label:"新增合同数量",name:"newContractQuantity"}}):e._e(),e._v(" "),"consolidatedContractStatement"!=e.tabName?a("el-tab-pane",{attrs:{label:"请款金额",name:"pleaseIncreaseTheAmountOfMoney"}}):e._e(),e._v(" "),"consolidatedContractStatement"!=e.tabName?a("el-tab-pane",{attrs:{label:"到款金额",name:"toTheAmount"}}):e._e()],1),e._v(" "),a("div",{staticClass:"item-tab-bor linear"}),e._v(" "),a("line-chart",{attrs:{chartData:e.lineChart}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[e.tableShow?a("table-synthetical-report-form",{attrs:{tableData:e.tableData,showCols:e.showCols}}):e._e()],1)],1)],1)},staticRenderFns:[]};var Ce={components:{performance:de,fiveOne:a("VU/8")(_e,we,!1,function(e){a("XAI2")},null,null).exports},data:function(){return{nothing:!1,componentName:"fiveOne",activeTab:"cost",departmentId:this.manufactureDeptId,userPowerInfo:this.SStorage.getItem("userPowerInfo")}},watch:{userPowerInfo:{handler:function(){var e=this;e.userPowerInfo.reportZJForm?(e.activeTab="cost",e.departmentId=e.manufactureDeptId):e.userPowerInfo.reportZBForm?(e.activeTab="tender",e.departmentId=e.tenderDeptId):e.userPowerInfo.reportJLForm?(e.activeTab="supervision",e.departmentId=e.superviseDeptId):e.userPowerInfo.reportJXForm?(e.activeTab="performance",e.departmentId=null):e.userPowerInfo.reportZHCWForm?(e.activeTab="comprehensiveFinancial",e.departmentId=null):e.userPowerInfo.reportZHHTForm&&(e.activeTab="consolidatedContractStatement",e.departmentId=null),e.userPowerInfo.reportZJForm||e.userPowerInfo.reportZBForm||e.userPowerInfo.reportJLForm||e.userPowerInfo.reportJXForm||e.userPowerInfo.reportZHCWForm||e.userPowerInfo.reportZHHTForm?e.nothing=!1:e.nothing=!0,e.tabClick({name:e.activeTab})},immediate:!0}},methods:{chengeDeptId:function(e){console.log("deptId",e)},searchReportForm:function(e){console.log("val",e)},tabClick:function(e){var t=this;"performance"==e.name?t.componentName="performance":"cost"==e.name?(t.departmentId=t.manufactureDeptId,t.componentName="fiveOne"):"tender"==e.name?(t.departmentId=t.tenderDeptId,t.componentName="fiveOne"):"supervision"==e.name?(t.departmentId=t.superviseDeptId,t.componentName="fiveOne"):(t.departmentId=null,t.componentName="fiveOne")}}},ke={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-report"},[e.nothing?e._e():r("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e.userPowerInfo.reportZJForm?r("el-tab-pane",{attrs:{label:"造价报表",name:"cost"}}):e._e(),e._v(" "),e.userPowerInfo.reportZBForm?r("el-tab-pane",{attrs:{label:"招标报表",name:"tender"}}):e._e(),e._v(" "),e.userPowerInfo.reportJLForm?r("el-tab-pane",{attrs:{label:"监理报表",name:"supervision"}}):e._e(),e._v(" "),e.userPowerInfo.reportJXForm?r("el-tab-pane",{attrs:{label:"绩效报表",name:"performance"}}):e._e(),e._v(" "),e.userPowerInfo.reportZHCWForm?r("el-tab-pane",{attrs:{label:"综合财务报表",name:"comprehensiveFinancial"}}):e._e(),e._v(" "),e.userPowerInfo.reportZHHTForm?r("el-tab-pane",{attrs:{label:"综合合同报表",name:"consolidatedContractStatement"}}):e._e()],1),e._v(" "),e.nothing?e._e():r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),e.nothing?e._e():r(e.componentName,{tag:"component",attrs:{tabName:e.activeTab,departmentId:e.departmentId}}),e._v(" "),e.nothing?r("div",{staticStyle:{margin:"auto","text-align":"center","margin-top":"20%"}},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]):e._e()],1)},staticRenderFns:[]};var Fe=a("VU/8")(Ce,ke,!1,function(e){a("4enF")},null,null).exports,De={data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],biaodata:"",tabdata:[],ruleForm:{noticeName:"",releaseDate:"",userName:""},config:{headers:{"Content-Type":"application/json",Accept:"application/json"}}}},mounted:function(){this.refer()},methods:{handleSizeChange:function(e){this.pageSize=e,this.refers()},handleCurrentChange:function(e){this.currentPage=e,this.refers()},currentChangePage:function(e,t,a){this.tabdata=e},refer:function(){var e=this;e.$axios.post("/publicNoticeCenter/query/searchPublicNoticeCenterList",m()({pageNumber:1,pageSize:e.pageSize}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}).catch(function(e){console.log(e)})},refers:function(){var e=this;e.$axios.post("/publicNoticeCenter/query/searchPublicNoticeCenterList",m()({pageNumber:e.currentPage,pageSize:e.pageSize}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}).catch(function(e){console.log(e)})},download:function(e,t){var a=document.createElement("iframe");a.src="/commonModule/downloadFile?filePathName="+t.materialPath+"&realFileName="+t.materialName,a.style.display="none",document.body.appendChild(a)}}},xe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"notice"},[r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"公告名称","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",{staticClass:"text-overflow-ellipsis"},[e._v(e._s(t.row.noticeName))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.noticeId))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.materialPath))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.materialName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"200px",align:"center","class-name":"table-column",prop:"releaseDate",label:"发布时间","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{width:"200px",align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"download",attrs:{type:"text"},on:{click:function(a){return e.download(t.$index,t.row)}}},[e._v("下载")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])},staticRenderFns:[]};var Te=a("VU/8")(De,xe,!1,function(e){a("X8e+")},null,null).exports,Ne={data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],biaodata:[],tabdata:[],iconform:!1,iconform1:!0,config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},checkList:[]}},mounted:function(){this.searchList(1,10)},methods:{searchList:function(e,t){var a=this,r={pageNumber:e,pageSize:t};a.$axios.post("/message/query/searchMessageList",r,a.config).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.tabdata=e.data.pagedData.dataList,a.total=e.data.pagedData.dataCount)}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},rowClass:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);return 7===a?"color:#FC4053":"0"==t.isRead?0===a?"color:#06A1EE":"color:#424242":"1"==t.isRead?"color:#999999":void 0},open2:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var t=a,r={messageId:m()(e)};t.$axios.post("/message/delete/deleteMessageInfo",r,t.config).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.$message({type:"success",message:"删除成功!"}),t.bus.$emit("searchMessageDetailInfoFunc"),t.searchList(t.currentPage,t.pageSize))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}).catch(function(){})},isReadFunc:function(e,t){var a=this,r={messageId:e};a.$axios.post("/message/modify/updateMessageIsReadType",r,a.config).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.$message({type:"success",message:"操作成功!"}),a.bus.$emit("searchMessageDetailInfoFunc"),a.searchList(a.currentPage,a.pageSize))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},selectionChange:function(e){this.checkList=[];for(var t=0;t<e.length;t++)this.checkList.push("'"+e[t].messageId+"'")},batchDelete:function(){var e=this.checkList,t=this;null!=e&&0!=e.length?t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a={messageId:e.join(",")};t.$axios.post("/message/delete/deleteMessageInfo",a,t.config).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.$message({type:"success",message:"删除成功!"}),t.checkList=[],t.bus.$emit("searchMessageDetailInfoFunc"),t.currentPage=1,t.searchList(t.currentPage,t.pageSize))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}):t.$message({message:"请至少选取一条数据",type:"error",center:!0})}}},Ie={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"inform"},[r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:"","cell-style":e.rowClass},on:{"selection-change":e.selectionChange}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{prop:"state",width:"80px","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{on:{click:function(a){return e.isReadFunc(t.row.messageId,t.row.acceptUserId)}}},[r("span",{staticClass:"iconfont"},[e._v("")]),e._v("\n\t\t\t\t\t\t\t"+e._s("0"===t.row.isRead?"未读":"已读")+"\n\t\t\t\t\t\t")])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"createDate",label:"时间",width:"300","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column ",prop:"messageContent",label:"消息内容","show-overflow-tooltip":!0}})],2)],1),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.batchDelete()}}},[e._v("\n      批量删除\n    ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var Ae=a("VU/8")(Ne,Ie,!1,function(e){a("MyGo")},null,null).exports,Se={data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],biaodata:[],tabdata:[],ruleForm:{standardName:"",releaseDate:"",userName:""},config:{headers:{"Content-Type":"application/json",Accept:"application/json"}}}},created:function(){this.refer()},methods:{handleSizeChange:function(e){this.pageSize=e,this.refers()},handleCurrentChange:function(e){this.currentPage=e,this.refers()},currentChangePage:function(e,t,a){this.tabdata=e},refer:function(){var e=this;e.$axios.post("/technicalStandardCenter/query/searchTechnicalStandardCenterList",m()({pageNumber:1,pageSize:e.pageSize}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}).catch(function(e){console.log(e)})},refers:function(){var e=this;e.$axios.post("/technicalStandardCenter/query/searchTechnicalStandardCenterList",m()({pageNumber:e.currentPage,pageSize:e.pageSize}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}).catch(function(e){console.log(e)})},download:function(e,t){var a=document.createElement("iframe");a.src="/commonModule/downloadFile?filePathName="+t.materialPath+"&realFileName="+t.materialName,a.style.display="none",document.body.appendChild(a)}}},Le={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"skill"},[r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"技术标准名称","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",{staticClass:"text-overflow-ellipsis"},[e._v(e._s(t.row.standardName))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.standardId))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.materialPath))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.materialName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"200px",align:"center","class-name":"table-column",prop:"releaseDate",label:"发布时间","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{width:"200px",align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"download",attrs:{type:"text"},on:{click:function(a){return e.download(t.$index,t.row)}}},[e._v("下载")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])},staticRenderFns:[]};var $e=a("VU/8")(Se,Le,!1,function(e){a("8qv6")},null,null).exports,Pe={data:function(){return{closeFlag:!1,userName:"",educationName:"",deptName:"",companyName:"",entryDate:"",jobName:"",userAccount:"",signPathFile:"",fileList:[],active:"first",jobList:[],form:{oldPwd:"",newPwd:"",resetNewPwd:""},rules:{oldPwd:[{required:!0,message:"请输入原密码",trigger:"blur"}],newPwd:[{required:!0,message:"请输入新密码",trigger:"blur"}],resetNewPwd:[{required:!0,message:"请输入再次输入新密码",trigger:"blur"},{validator:this.checkResetNewPwd,trigger:"change"}]}}},mounted:function(){this.getUserInfo()},methods:{handleClick:function(){},onSubmit:function(e){var t=this,a=this;this.$refs[e].validate(function(r){if(!r)return console.log("error submit!!"),!1;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.$axios.post("/user/modify/updateUserPwd",{oldPwd:a.form.oldPwd,password:a.form.newPwd},a.config).then(function(e){"success"==e.data.status?a.$message({type:"success",message:e.data.message}):a.$message({type:"error",message:e.data.message})}).catch(function(e){a.$message({type:"error",message:e})}),t.centerDialogVisible1=!1,t.$refs[e].resetFields()}).catch(function(){})})},getUserInfo:function(){var e=this;e.$axios.post("/user/query/searchUserInfo",{},e.config).then(function(t){e.userName=t.data.dataVO.userName,e.educationName=t.data.dataVO.educationName,e.entryDate=t.data.dataVO.entryDate,e.userAccount=t.data.dataVO.userAccount,e.companyName=t.data.dataVO.companyName;var a=t.data.dataVO.flieList;if(null!=a&&a.length>0)for(var r=0;r<a.length;r++){var s={name:a[r].fileRelationId,url:a[r].fileUrl};e.fileList.push(s)}e.signPathFile=t.data.dataVO.signPath,e.jobList=t.data.dataVO.jobList}).catch(function(e){console.log(e)})},checkResetNewPwd:function(e,t,a){this.form.newPwd!=this.form.resetNewPwd?a(new Error("两次输入密码不相等，请重新输入")):a()}}},je={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{staticClass:"m-personal-center",attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("div",{staticClass:"item-tab-bor linear"}),e._v(" "),a("el-tab-pane",{attrs:{label:"修改密码",name:"first"}},[a("el-form",{ref:"ruleForm",attrs:{"status-icon":!0,model:e.form,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"登录账号"}},[e._v(e._s(e.userAccount))]),e._v(" "),a("el-form-item",{attrs:{label:"原密码",prop:"oldPwd"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入原密码"},model:{value:e.form.oldPwd,callback:function(t){e.$set(e.form,"oldPwd",t)},expression:"form.oldPwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"newPwd"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:e.form.newPwd,callback:function(t){e.$set(e.form,"newPwd",t)},expression:"form.newPwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"再次输入新密码",prop:"resetNewPwd"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入再次输入新密码"},model:{value:e.form.resetNewPwd,callback:function(t){e.$set(e.form,"resetNewPwd",t)},expression:"form.resetNewPwd"}})],1),e._v(" "),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("确定")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"个人信息",name:"second"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名"}},[e._v(e._s(e.userName))]),e._v(" "),a("el-form-item",{attrs:{label:"文化程度"}},[e._v(e._s(e.educationName))]),e._v(" "),a("el-form-item",{attrs:{label:"所属公司"}},[e._v(e._s(e.companyName))]),e._v(" "),a("el-form-item",{attrs:{label:"入职日期"}},[e._v(e._s(e.entryDate))]),e._v(" "),a("el-form-item",{attrs:{label:"职务"}},e._l(e.jobList,function(t,r){return a("el-alert",{key:r,attrs:{title:t.departmentJobName,"show-icon":"",closable:e.closeFlag}})}),1),e._v(" "),a("el-form-item",{attrs:{label:"拥有资质"}},[a("el-upload",{staticClass:"aptitude",attrs:{action:"#","list-type":"picture-card","auto-upload":!1,disabled:"","file-list":e.fileList}},[a("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"个人签名"}},[a("img",{attrs:{preview:"0",src:e.signPathFile,alt:""}})])],1)],1)],1)},staticRenderFns:[]};var qe=a("VU/8")(Pe,je,!1,function(e){a("g871"),a("sXhZ")},"data-v-b295178e",null).exports,Re={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"m-contract-information"},[t("router-view")],1)},staticRenderFns:[]};var Be=a("VU/8")({data:function(){return{}}},Re,!1,function(e){a("gu+r"),a("SOHp")},"data-v-a17228c2",null).exports,Oe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"m-wholeProcessCost"},[t("router-view")],1)},staticRenderFns:[]};var ze=a("VU/8")({data:function(){return{}}},Oe,!1,function(e){a("26kA")},"data-v-40d8501d",null).exports,Me={data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],biaodata:"",tabdata:[],centerDialogVisible:!1,centerDialogVisible1:!1,searchCompanyName:"",searchCondense:"",companyName:"",condense:"",config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},ruleForm:{companyName:"",condense:"",bankName:"",bankAccount:"",postCode:"",phoneNum:"",phoneForeign:"",faxNum:"",email:"",companyAddress:""},ruleForm1:{companyName:"",condense:"",bankName:"",bankAccount:"",postCode:"",phoneNum:"",phoneForeign:"",faxNum:"",email:"",companyAddress:"",updateDate:""},rules:{companyName:[{required:!0,message:"请输入公司名称",trigger:"blur"},{max:30,message:"最长30字",trigger:"blur"}],condense:[{required:!0,message:"请选择公司缩写",trigger:"blur"},{max:5,message:"最长5位",trigger:"blur"},{validator:this.capital,trigger:"blur"}],bankName:[{required:!0,message:"请输入开户行",trigger:"blur"},{max:50,message:"最长50字",trigger:"blur"}],bankAccount:[{required:!0,message:"请输入帐号",trigger:"blur"},{max:20,message:"最长20位",trigger:"blur"}],postCode:[{required:!0,message:"请输入邮编",trigger:"blur"},{max:6,message:"最长6位",trigger:"blur"}],phoneNum:[{required:!0,message:"请输入电话(开票用)",trigger:"blur"},{max:13,message:"最长13位",trigger:"blur"}],phoneForeign:[{required:!0,message:"请输入电话(对外联系用)",trigger:"blur"},{max:13,message:"最长13位",trigger:"blur"}],faxNum:[{required:!0,message:"请输入传真",trigger:"blur"},{max:20,message:"最长20位",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"必须输入邮箱格式",trigger:"blur"},{max:50,message:"最长50位",trigger:"blur"}],companyAddress:[{required:!0,message:"请输入公司地址",trigger:"blur"},{max:50,message:"最长40位",trigger:"blur"}]}}},mounted:function(){this.refer()},methods:{handleSizeChange:function(e){this.pageSize=e,this.refers()},handleCurrentChange:function(e){this.currentPage=e,this.refers()},currentChangePage:function(e,t,a){this.tabdata=e},refer:function(){var e=this;e.companyName=e.searchCompanyName,e.condense=e.searchCondense,e.currentPage=1,e.pageSize=10,e.refers()},refers:function(){var e=this;e.$axios.post("/config/company/query/searchCompanyList",m()({pageNumber:e.currentPage,pageSize:e.pageSize,companyName:e.companyName,condense:e.condense}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}).catch(function(e){console.log(e)})},submitForm:function(e){var t=this;t.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.$axios.post("/config/company/add/saveCompanyInfo",m()({companyName:t.ruleForm.companyName,condense:t.ruleForm.condense,bankName:t.ruleForm.bankName,bankAccount:t.ruleForm.bankAccount,postCode:t.ruleForm.postCode,phoneNum:t.ruleForm.phoneNum,phoneForeign:t.ruleForm.phoneForeign,faxNum:t.ruleForm.faxNum,email:t.ruleForm.email,companyAddress:t.ruleForm.companyAddress}),t.config).then(function(a){"success"==a.data.status?(t.centerDialogVisible=!1,t.$refs[e].resetFields(),t.refer(),t.stateDialog("success",a.data.message)):t.stateDialog("error",a.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})})},submitForm1:function(e){var t=this;t.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.$axios.post("/config/company/modify/updateCompanyInfo",m()({companyId:t.companyId,companyName:t.ruleForm1.companyName,condense:t.ruleForm1.condense,bankName:t.ruleForm1.bankName,bankAccount:t.ruleForm1.bankAccount,postCode:t.ruleForm1.postCode,phoneNum:t.ruleForm1.phoneNum,phoneForeign:t.ruleForm1.phoneForeign,faxNum:t.ruleForm1.faxNum,email:t.ruleForm1.email,companyAddress:t.ruleForm1.companyAddress,updateDate:t.ruleForm1.updateDate}),t.config).then(function(a){"success"==a.data.status?(t.centerDialogVisible1=!1,t.$refs[e].resetFields(),t.refer(),t.stateDialog("error",a.data.message)):t.stateDialog("error",a.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})})},changeTable:function(e,t){var a=this;a.centerDialogVisible1=!0,a.companyId=t.companyId,a.$axios.post("/config/company/query/searchCompanyInfo",m()({companyId:t.companyId}),a.config).then(function(e){a.ruleForm1.companyName=e.data.dataVO.companyName,a.ruleForm1.condense=e.data.dataVO.condense,a.ruleForm1.bankName=e.data.dataVO.bankName,a.ruleForm1.bankAccount=e.data.dataVO.bankAccount,a.ruleForm1.postCode=e.data.dataVO.postCode,a.ruleForm1.phoneNum=e.data.dataVO.phoneNum,a.ruleForm1.phoneForeign=e.data.dataVO.phoneForeign,a.ruleForm1.faxNum=e.data.dataVO.faxNum,a.ruleForm1.email=e.data.dataVO.email,a.ruleForm1.companyAddress=e.data.dataVO.companyAddress,a.ruleForm1.updateDate=e.data.dataVO.updateDate}).catch(function(e){console.log(e)})}}},Ve={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"set-inform"},[r("el-row",{staticClass:"row-bg item-open",attrs:{type:"flex",justify:"end"}},[r("div",{staticClass:"item-tab-chuang",on:{click:function(t){e.centerDialogVisible=!0}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("新增\n\t\t")]),e._v(" "),r("el-dialog",{attrs:{title:"新增",visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"公司名称",prop:"companyName"}},[r("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.ruleForm.companyName,callback:function(t){e.$set(e.ruleForm,"companyName",t)},expression:"ruleForm.companyName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公司缩写",prop:"condense"}},[r("el-input",{attrs:{placeholder:"请输入公司缩写"},model:{value:e.ruleForm.condense,callback:function(t){e.$set(e.ruleForm,"condense",t)},expression:"ruleForm.condense"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"开户行",prop:"bankName"}},[r("el-input",{attrs:{placeholder:"请输入开户行"},model:{value:e.ruleForm.bankName,callback:function(t){e.$set(e.ruleForm,"bankName",t)},expression:"ruleForm.bankName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"帐号",prop:"bankAccount"}},[r("el-input",{attrs:{placeholder:"请输入帐号"},model:{value:e.ruleForm.bankAccount,callback:function(t){e.$set(e.ruleForm,"bankAccount",t)},expression:"ruleForm.bankAccount"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮编",prop:"postCode"}},[r("el-input",{attrs:{placeholder:"请输入邮编"},model:{value:e.ruleForm.postCode,callback:function(t){e.$set(e.ruleForm,"postCode",t)},expression:"ruleForm.postCode"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电话(开票用)",prop:"phoneNum"}},[r("el-input",{attrs:{placeholder:"请输入电话(开票用)"},model:{value:e.ruleForm.phoneNum,callback:function(t){e.$set(e.ruleForm,"phoneNum",t)},expression:"ruleForm.phoneNum"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电话(对外联系用)",prop:"phoneForeign"}},[r("el-input",{attrs:{placeholder:"请输入(对外联系用)"},model:{value:e.ruleForm.phoneForeign,callback:function(t){e.$set(e.ruleForm,"phoneForeign",t)},expression:"ruleForm.phoneForeign"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"传真",prop:"faxNum"}},[r("el-input",{attrs:{placeholder:"请输入传真"},model:{value:e.ruleForm.faxNum,callback:function(t){e.$set(e.ruleForm,"faxNum",t)},expression:"ruleForm.faxNum"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公司地址",prop:"companyAddress"}},[r("el-input",{attrs:{placeholder:"请输入公司地址"},model:{value:e.ruleForm.companyAddress,callback:function(t){e.$set(e.ruleForm,"companyAddress",t)},expression:"ruleForm.companyAddress"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改",visible:e.centerDialogVisible1,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible1=t}}},[r("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm1,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"公司名称",prop:"companyName"}},[r("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.ruleForm1.companyName,callback:function(t){e.$set(e.ruleForm1,"companyName",t)},expression:"ruleForm1.companyName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公司缩写",prop:"condense"}},[r("el-input",{attrs:{placeholder:"请输入公司缩写"},model:{value:e.ruleForm1.condense,callback:function(t){e.$set(e.ruleForm1,"condense",t)},expression:"ruleForm1.condense"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"开户行",prop:"bankName"}},[r("el-input",{attrs:{placeholder:"请输入开户行"},model:{value:e.ruleForm1.bankName,callback:function(t){e.$set(e.ruleForm1,"bankName",t)},expression:"ruleForm1.bankName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"帐号",prop:"bankAccount"}},[r("el-input",{attrs:{placeholder:"请输入帐号"},model:{value:e.ruleForm1.bankAccount,callback:function(t){e.$set(e.ruleForm1,"bankAccount",t)},expression:"ruleForm1.bankAccount"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮编",prop:"postCode"}},[r("el-input",{attrs:{placeholder:"请输入邮编"},model:{value:e.ruleForm1.postCode,callback:function(t){e.$set(e.ruleForm1,"postCode",t)},expression:"ruleForm1.postCode"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电话(开票用)",prop:"phoneNum"}},[r("el-input",{attrs:{placeholder:"请输入电话(开票用)"},model:{value:e.ruleForm1.phoneNum,callback:function(t){e.$set(e.ruleForm1,"phoneNum",t)},expression:"ruleForm1.phoneNum"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电话(对外联系用)",prop:"phoneForeign"}},[r("el-input",{attrs:{placeholder:"请输入(对外联系用)"},model:{value:e.ruleForm1.phoneForeign,callback:function(t){e.$set(e.ruleForm1,"phoneForeign",t)},expression:"ruleForm1.phoneForeign"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"传真",prop:"faxNum"}},[r("el-input",{attrs:{placeholder:"请输入传真"},model:{value:e.ruleForm1.faxNum,callback:function(t){e.$set(e.ruleForm1,"faxNum",t)},expression:"ruleForm1.faxNum"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.ruleForm1.email,callback:function(t){e.$set(e.ruleForm1,"email",t)},expression:"ruleForm1.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公司地址",prop:"companyAddress"}},[r("el-input",{attrs:{placeholder:"请输入公司地址"},model:{value:e.ruleForm1.companyAddress,callback:function(t){e.$set(e.ruleForm1,"companyAddress",t)},expression:"ruleForm1.companyAddress"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm1("ruleForm1")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),r("div",{staticClass:"item-from"},[r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i1"}},[e._v("公司名称")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入公司名称",id:"i1"},model:{value:e.searchCompanyName,callback:function(t){e.searchCompanyName=t},expression:"searchCompanyName"}})],1),e._v(" "),r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i2"}},[e._v("公司缩写")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入公司缩写",id:"i2"},model:{value:e.searchCondense,callback:function(t){e.searchCondense=t},expression:"searchCondense"}})],1),e._v(" "),r("div",{staticClass:"itemfrom-right"},[r("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.refer}},[e._v("查询")])],1)]),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"companyName",label:"公司名称","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",{staticClass:"text-overflow-ellipsis"},[e._v(e._s(t.row.companyName))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.companyId))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"condense",label:"公司缩写","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"bankName",label:"开户行","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"bankAccount",label:"账号","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"postCode",label:"邮编","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"phoneNum",label:"电话","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"download",attrs:{type:"text"},on:{click:function(a){return e.changeTable(t.$index,t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var Ue=a("VU/8")(Me,Ve,!1,function(e){a("u6Xt")},null,null).exports,Ee={data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],biaodata:"",tabdata:[],centerDialogVisible:!1,centerDialogVisible1:!1,searchCompanyName:"",companyName:"",config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},ruleForm:{companyName:"",serialNum:"",companyAddress:"",chargePeople:"",phoneNum:""},ruleForm1:{companyName:"",serialNum:"",companyAddress:"",chargePeople:"",phoneNum:"",updateDate:""},rules:{companyName:[{required:!0,message:"请输入合作公司名称",trigger:"blur"},{max:30,message:"最长30字",trigger:"blur"}],serialNum:[{required:!0,message:"请输入序号",trigger:"blur"},{max:3,message:"最长3位",trigger:"blur"},{validator:this.integer,trigger:"blur"}],companyAddress:[{required:!0,message:"请输入地址",trigger:"blur"},{max:30,message:"最长30字",trigger:"blur"}],chargePeople:[{required:!0,message:"请输入负责人",trigger:"blur"},{max:10,message:"最长10字",trigger:"blur"}],phoneNum:[{required:!0,message:"请输入电话",trigger:"blur"},{max:11,message:"最长11位",trigger:"blur"}]}}},mounted:function(){this.refer()},methods:{handleSizeChange:function(e){this.pageSize=e,this.refers()},handleCurrentChange:function(e){this.currentPage=e,this.refers()},currentChangePage:function(e,t,a){this.tabdata=e},searchDataList:function(){this.companyName=this.searchCompanyName,this.currentPage=1,this.pageSize=10,this.refer()},refer:function(){var e=this;e.$axios.post("/config/cooperationCompany/query/searchCooperationCompanyList",m()({pageNumber:1,pageSize:e.pageSize,companyName:e.companyName}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}).catch(function(e){console.log(e)})},refers:function(){var e=this;e.$axios.post("/config/cooperationCompany/query/searchCooperationCompanyList",m()({pageNumber:e.currentPage,pageSize:e.pageSize,companyName:e.companyName}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}).catch(function(e){console.log(e)})},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(r){if(!r)return console.log("error submit!!"),!1;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.$axios.post("/config/cooperationCompany/add/saveCooperationCompanyInfo",m()({companyName:a.ruleForm.companyName,serialNum:a.ruleForm.serialNum,companyAddress:a.ruleForm.companyAddress,chargePeople:a.ruleForm.chargePeople,phoneNum:a.ruleForm.phoneNum}),a.config).then(function(t){"success"==t.data.status?(a.centerDialogVisible=!1,a.$refs[e].resetFields(),a.refer(),a.$message({type:"success",message:t.data.message,center:!0})):a.$message({type:"error",message:t.data.message,center:!0})}).catch(function(e){a.$message({type:"error",message:e,center:!0})})}).catch(function(){})})},submitForm1:function(e){var t=this,a=this;this.$refs[e].validate(function(r){if(!r)return console.log("error submit!!"),!1;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.$axios.post("/config/cooperationCompany/modify/updateCooperationCompanyInfo",m()({companyId:a.companyId,companyName:a.ruleForm1.companyName,serialNum:a.ruleForm1.serialNum,companyAddress:a.ruleForm1.companyAddress,chargePeople:a.ruleForm1.chargePeople,phoneNum:a.ruleForm1.phoneNum,updateDate:a.ruleForm1.updateDate}),a.config).then(function(t){"success"==t.data.status?(a.centerDialogVisible1=!1,a.$refs[e].resetFields(),a.refer(),a.$message({type:"success",message:t.data.message,center:!0})):a.$message({type:"error",message:t.data.message,center:!0})}).catch(function(e){a.$message({type:"error",message:e,center:!0})})}).catch(function(){})})},changeTable:function(e,t){var a=this;this.centerDialogVisible1=!0,a.companyId=t.companyId,a.$axios.post("/config/cooperationCompany/query/searchCooperationCompanyInfo",m()({companyId:t.companyId}),a.config).then(function(e){a.ruleForm1.companyName=e.data.dataVO.companyName,a.ruleForm1.serialNum=e.data.dataVO.serialNum,a.ruleForm1.companyAddress=e.data.dataVO.companyAddress,a.ruleForm1.chargePeople=e.data.dataVO.chargePeople,a.ruleForm1.phoneNum=e.data.dataVO.phoneNum,a.ruleForm1.updateDate=e.data.dataVO.updateDate}).catch(function(e){console.log(e)})}}},He={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-collaborate"},[r("el-row",{staticClass:"row-bg item-open",attrs:{type:"flex",justify:"end"}},[r("div",{staticClass:"item-tab-chuang",on:{click:function(t){e.centerDialogVisible=!0}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("新增\n\t\t")]),e._v(" "),r("el-dialog",{attrs:{title:"新增",visible:e.centerDialogVisible,width:"600px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"合作公司名称",prop:"companyName"}},[r("el-input",{attrs:{placeholder:"请输入合作公司名称"},model:{value:e.ruleForm.companyName,callback:function(t){e.$set(e.ruleForm,"companyName",t)},expression:"ruleForm.companyName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"序号",prop:"serialNum"}},[r("el-input",{attrs:{placeholder:"请输入序号"},model:{value:e.ruleForm.serialNum,callback:function(t){e.$set(e.ruleForm,"serialNum",t)},expression:"ruleForm.serialNum"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"地址",prop:"companyAddress"}},[r("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.ruleForm.companyAddress,callback:function(t){e.$set(e.ruleForm,"companyAddress",t)},expression:"ruleForm.companyAddress"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"负责人",prop:"chargePeople"}},[r("el-input",{attrs:{placeholder:"请输入负责人"},model:{value:e.ruleForm.chargePeople,callback:function(t){e.$set(e.ruleForm,"chargePeople",t)},expression:"ruleForm.chargePeople"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电话",prop:"phoneNum"}},[r("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.ruleForm.phoneNum,callback:function(t){e.$set(e.ruleForm,"phoneNum",t)},expression:"ruleForm.phoneNum"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改",visible:e.centerDialogVisible1,width:"600px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible1=t}}},[r("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm1,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"合作公司名称",prop:"companyName"}},[r("el-input",{attrs:{placeholder:"请输入合作公司名称"},model:{value:e.ruleForm1.companyName,callback:function(t){e.$set(e.ruleForm1,"companyName",t)},expression:"ruleForm1.companyName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"序号",prop:"serialNum"}},[r("el-input",{attrs:{placeholder:"请输入序号"},model:{value:e.ruleForm1.serialNum,callback:function(t){e.$set(e.ruleForm1,"serialNum",t)},expression:"ruleForm1.serialNum"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"地址",prop:"companyAddress"}},[r("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.ruleForm1.companyAddress,callback:function(t){e.$set(e.ruleForm1,"companyAddress",t)},expression:"ruleForm1.companyAddress"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"负责人",prop:"chargePeople"}},[r("el-input",{attrs:{placeholder:"请输入负责人"},model:{value:e.ruleForm1.chargePeople,callback:function(t){e.$set(e.ruleForm1,"chargePeople",t)},expression:"ruleForm1.chargePeople"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电话",prop:"phoneNum"}},[r("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.ruleForm1.phoneNum,callback:function(t){e.$set(e.ruleForm1,"phoneNum",t)},expression:"ruleForm1.phoneNum"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm1("ruleForm1")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),r("div",{staticClass:"item-from"},[r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i1"}},[e._v("合作公司名称")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入公司名称",id:"i1"},model:{value:e.searchCompanyName,callback:function(t){e.searchCompanyName=t},expression:"searchCompanyName"}})],1),e._v(" "),r("div",{staticClass:"itemfrom-right"},[r("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchDataList}},[e._v("查询")])],1)]),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"companyName",label:"合作公司名称","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",{staticClass:"text-overflow-ellipsis"},[e._v(e._s(t.row.companyName))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.companyId))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"serialNum",label:"序号","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"companyAddress",label:"地址","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"chargePeople",label:"负责人","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"phoneNum",label:"电话","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"download",attrs:{type:"text"},on:{click:function(a){return e.changeTable(t.$index,t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var We=a("VU/8")(Ee,He,!1,function(e){a("fYk7")},null,null).exports,Ke={data:function(){var e=this;return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],menuTreeDate:[],updateRoleId:"",parentMenuIdList:[],centerDialogVisible:!1,searchRoleName:"",roleName:"",formTitle:"新增",config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},ruleForm:{name:"",updateDate:""},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"blur"},{max:20,message:"最长20字",trigger:"blur"}],tree:[{validator:function(t,a,r){0==e.$refs.menuTree.getCheckedKeys().length?r(new Error("请选择访问权限")):r()},trigger:"change"}]},props:{label:"menuName",children:"childrenList"},count:1}},mounted:function(){this.searchList(1,this.pageSize,null),this.searchMenuList()},methods:{handleClose:function(e){this.$refs.ruleForm.resetFields(),this.$refs.menuTree.setCheckedKeys([]),e()},refer:function(){this.roleName=this.searchRoleName,this.searchList(this.currentPage,this.pageSize,this.roleName)},deleteRole:function(e){var t=this;this.$confirm("是否删除该角色","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t;a.$axios.post("/config/role/delete/deleteRoleInfo",{roleId:e},a.config).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):a.$message({message:e.data.message,type:"success",center:!0}),a.refer()}).catch(function(e){a.$message({message:e,type:"error",center:!0})})}).catch(function(){})},searchList:function(e,t,a){var r=this,s={roleName:a,pageNumber:e,pageSize:t};r.$axios.post("/config/role/query/findRoleList",s,r.config).then(function(e){if("failure"==e.data.status)r.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.pagedData.dataList;r.tabdata=t,r.total=e.data.pagedData.dataCount}}).catch(function(e){r.$message({message:e,type:"error",center:!0})})},searchMenuList:function(){var e=this;e.$axios.post("/config/role/query/findAllMenuList",{},e.config).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{for(var a=t.data.pagedData.dataList,r=0;r<a.length;r++)0!=a[r].childrenList.length&&e.parentMenuIdList.push(a[r].menuId);e.menuTreeDate=a}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},addRole:function(){this.centerDialogVisible=!0,this.formTitle="新增"},updateRole:function(e){this.centerDialogVisible=!0,this.formTitle="修改",this.updateRoleId=e;var t=this;t.$axios.post("/config/role/query/findRoleInfo",{roleId:e},t.config).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{t.ruleForm.name=e.data.dataVO.roleName,t.ruleForm.updateDate=e.data.dataVO.updateDate;var a=e.data.dataVO.menuVOList;if(t.parentMenuIdList.length>0)for(var r=0;r<t.parentMenuIdList.length;r++)for(var s=0;s<a.length;s++)a[s]==t.parentMenuIdList[r]&&(a.splice(s,1),s--);t.$refs.menuTree.setCheckedKeys(a)}t.refer()}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize,this.roleName)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize,this.roleName)},submitRolefunc:function(e){var t=this;this.$refs[e].validate(function(e){var a=t.$refs.menuTree.getCheckedKeys(),r=t.$refs.menuTree.getHalfCheckedKeys();if(a=a.concat(r),!e)return console.log("error submit!!"),!1;var s={roleName:t.ruleForm.name,menuVOList:a},o="/config/role/add/insertRoleInfo";"修改"==t.formTitle&&(s={roleId:t.updateRoleId,roleName:t.ruleForm.name,updateDate:t.ruleForm.updateDate,menuVOList:a},o="/config/role/modify/updateRoleInfo");var n=t;n.$axios.post(o,s,n.config).then(function(e){"failure"==e.data.status?n.$message({message:e.data.message,type:"error",center:!0}):(n.refer(),n.$message({message:e.data.message,type:"success",center:!0}))}).catch(function(e){n.$message({message:e,type:"error",center:!0})}),t.centerDialogVisible=!1})}}},Je={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-role"},[r("el-row",{staticClass:"row-bg item-open",attrs:{type:"flex",justify:"end"}},[r("div",{staticClass:"item-tab-chuang",on:{click:function(t){return e.addRole()}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("\n\t\t\t新增\n\t\t")]),e._v(" "),r("el-dialog",{attrs:{title:e.formTitle,visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{staticClass:"tree-error",attrs:{label:"访问权限",prop:"tree"}},[r("el-tree",{ref:"menuTree",attrs:{data:e.menuTreeDate,"show-checkbox":"","default-expand-all":"","node-key":"menuId","highlight-current":"",props:e.props}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitRolefunc("ruleForm")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),r("div",{staticClass:"item-from"},[r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i1"}},[e._v("角色名称")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入角色名称",id:"roleName"},model:{value:e.searchRoleName,callback:function(t){e.searchRoleName=t},expression:"searchRoleName"}})],1),e._v(" "),r("div",{staticClass:"itemfrom-right"},[r("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.refer}},[e._v("查询")])],1)]),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"roleName",label:"角色名称","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"createUserName",label:"创建人","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"menuNames",label:"角色权限","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.updateRole(t.row.roleId)}}},[e._v("修改")]),e._v(" "),r("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.deleteRole(t.row.roleId)}}},[e._v("删除")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var Qe=a("VU/8")(Ke,Je,!1,function(e){a("g5m3")},null,null).exports,Ge={data:function(){var e=this;return{powerTreeDate:[],parentMenuIdList:[],formTitle:"修改职位权限",rules:{tree:[{validator:function(t,a,r){0==e.$refs.powerTree.getCheckedKeys().length?r(new Error("请选择访问权限")):r()},trigger:"change"}]},ruleForm:{jobId:"",jobName:"",updateDate:""},props:{label:"powerName"}}},mounted:function(){this.excSearchAllPowerList()},methods:{updatePowerRelationFunc:function(e){this.formTitle="职位权限",this.ruleForm.jobId=e;var t=this,a={jobId:e};t.apiAddress("/config/powerConfig/query/searchJobInfo",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{var a=e.data.dataVO;t.ruleForm={jobId:a.jobId,jobName:a.jobName};for(var r=[],s=a.htJobPowerRelationVOList,o=0;o<s.length;o++)r.push(s[o].powerId);t.$refs.powerTree.setCheckedKeys(r)}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},excSearchAllPowerList:function(){var e=this;e.apiAddress("/config/powerConfig/query/searchAllPowerList",{}).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{var a=t.data.dataList;e.powerTreeDate=a}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},submitRolefunc:function(e){var t=this;this.$refs[e].validate(function(e){for(var a=t.$refs.powerTree.getCheckedKeys(),r=[],s=0;s<a.length;s++){var o={powerId:a[s]};r.push(o)}if(!e)return console.log("error submit!!"),!1;var n={jobId:t.ruleForm.jobId,htJobPowerRelationVOList:r},i=t;i.apiAddress("/config/powerConfig/modify/updatePowers",n).then(function(e){"failure"==e.data.status?i.$message({message:e.data.message,type:"error",center:!0}):(i.$message({message:e.data.message,type:"success",center:!0}),t.$parent.reflashData(),t.$parent.centerDialogVisible=!1)}).catch(function(e){i.$message({message:e,type:"error",center:!0})})})},handleClose:function(e){this.$refs.ruleForm.resetFields(),e(),console.log("------------",this.$parent.centerDialogVisible),this.$parent.centerDialogVisible=!1}}},Ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"jurisdiction"},[a("el-dialog",{attrs:{title:e.formTitle,visible:!0,width:"700px",transition:"fade-in-linear",center:"","before-close":e.handleClose}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"职位名称",prop:"jobName"}},[a("span",[e._v(e._s(e.ruleForm.jobName))])]),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"权限",prop:"tree"}},[a("el-tree",{ref:"powerTree",attrs:{data:e.powerTreeDate,"show-checkbox":"","default-expand-all":"","node-key":"powerId","highlight-current":"",props:e.props}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitRolefunc("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Xe={data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],departmentList:[],updateRoleId:"",jobName:"",departmentId:"",searchJobName:"",searchDepartmentId:"",centerDialogVisible:!1}},components:{PowerConfigForm:a("VU/8")(Ge,Ye,!1,function(e){a("gMk4")},null,null).exports},mounted:function(){this.currentPage=1,this.jobName=null,this.searchList(this.currentPage,this.pageSize,this.jobName,this.departmentId),this.searchAllDepartments()},methods:{updatePowerRelation:function(e){var t=this;t.centerDialogVisible=!0,t.$nextTick(function(){t.$refs.childForm.updatePowerRelationFunc(e)})},reflashData:function(){var e=this;this.centerDialogVisible=!1,this.$nextTick(function(){e.searchList(e.currentPage,e.pageSize,e.jobName,e.departmentId)})},handleClose:function(e){this.$refs.ruleForm.resetFields(),this.$refs.menuTree.setCheckedKeys([]),e()},refer:function(){this.jobName=this.searchJobName,this.departmentId=this.searchDepartmentId,this.currentPage=1,this.pageSize=10,this.searchList(this.currentPage,this.pageSize,this.jobName,this.departmentId)},searchAllDepartments:function(){var e=this;e.apiAddress("/config/powerConfig/query/searchAllDepartments",{}).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{var a=t.data.dataList;e.departmentList=a,console.log("vm.departmentList",e.departmentList)}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},searchList:function(e,t,a,r){var s=this,o={jobName:a,departmentId:r,pageNumber:e,pageSize:t};s.apiAddress("/config/powerConfig/query/searchJobList",o).then(function(e){if("failure"==e.data.status)s.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;s.tabdata=t,s.total=e.data.dataCount}}).catch(function(e){s.$message({message:e,type:"error",center:!0})})},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize,this.jobName,this.departmentId)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize,this.jobName,this.departmentId)}}},Ze={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-role"},[r("div",{staticClass:"item-from"},[r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i1"}},[e._v("职位名称")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入职位名称",id:"jobName"},model:{value:e.searchJobName,callback:function(t){e.searchJobName=t},expression:"searchJobName"}})],1),e._v(" "),r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i1"}},[e._v("部门")]),e._v(" "),r("el-select",{attrs:{placeholder:"请选择部门",clearable:""},model:{value:e.searchDepartmentId,callback:function(t){e.searchDepartmentId=t},expression:"searchDepartmentId"}},e._l(e.departmentList,function(t,a){return r("el-option",{key:a,attrs:{label:t.departmentName,value:t.departmentId}},[e._v(e._s(t.departmentName))])}),1)],1),e._v(" "),r("div",{staticClass:"itemfrom-right"},[r("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.refer}},[e._v("查询")])],1)]),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"departmentName",label:"部门","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"jobName",label:"职位名称","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"powerNames",label:"职位权限","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.updatePowerRelation(t.row.jobId)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1),e._v(" "),e.centerDialogVisible?r("power-config-form",{ref:"childForm"}):e._e()],1)},staticRenderFns:[]};var et=a("VU/8")(Xe,Ze,!1,function(e){a("eL4Y")},null,null).exports,tt={data:function(){return{total:100,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],biaodata:[],tabdata:[],centerDialogVisible:!1,centerDialogVisible1:!1,fileList:[],modifyfileList:[],dialogVisible:!1,formData:new FormData,modifyformData:new FormData,config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},searchUserName:"",searchDepartmentId:"",searchIsIncumbent:"",option:"",options:[],arr:[],option1:[{label:"是",value:1},{label:"否",value:0}],culturelist:[],companylist:[],rolelist:[],deleteResourceList:[],majorlist:[],postlist:[],ruleForm:{name:"",culture:"",account:"",section:"",password:"123456",company:"",post:"",role:"",major:"",email:"",date:"",dialogImageUrl:"",signPathFile:""},ruleForm1:{name:"",culture:"",account:"",section:"",password1:0,company:"",post:"",role:"",major:"",email:"",date:"",dialogImageUrl:"",signPathFile:"",isIncumbent:""},rules:{name:[{required:!0,message:"请输入成员名称",trigger:"blur"}],culture:[{required:!0,message:"请选择文化程度",trigger:"change"}],account:[{required:!0,message:"请输入登录帐号",trigger:"blur"}],company:[{required:!0,message:"请选择所属公司",trigger:"change"}],role:[{required:!0,message:"请选择角色",trigger:"change"}],major:[{required:!0,message:"请输入所属专业",trigger:"change"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"必须输入邮箱格式",trigger:"blur"},{max:50,message:"最长50位",trigger:"blur"}],date:[{required:!0,message:"请选择入职日期",trigger:"blur"}],signPathFile:[{required:!0,message:"请选择个人签名",trigger:"blur"}]},resourcePathFileList_update:[],content:[],contentShow:!1,jobIds:[],disabled:!1,disabled1:!1,condUserName:"",condIsIncumbent:""}},created:function(){this.refer(),this.getAllData(this)},methods:{addCard:function(e){this.str1="",this.str2="";for(var t=0;t<this.options.length;t++)0==e?this.options[t].deptId===this.ruleForm.section&&(this.str1=this.options[t].deptName):1==e&&this.options[t].deptId===this.ruleForm1.section&&(this.str1=this.options[t].deptName);var a="";for(t=0;t<this.postlist.length;t++)0==e?this.postlist[t].jobId===this.ruleForm.post&&(this.str2=this.postlist[t].jobName,a=this.postlist[t].jobId):1==e&&this.postlist[t].jobId===this.ruleForm1.post&&(this.str2=this.postlist[t].jobName,a=this.postlist[t].jobId);var r={departmentJobName:this.str1+"-"+this.str2,jobId:a};this.content.push(r),this.content.length>0&&(this.contentShow=!1)},changeDisabled:function(){var e=this;""!==e.ruleForm.post&&""!==e.ruleForm.section?e.disabled=!1:e.disabled=!0,""!==e.ruleForm1.post&&""!==e.ruleForm1.section?e.disabled1=!1:e.disabled1=!0},selectchange:function(e){var t=this;t.condDeptId=e,t.ruleForm.post="",t.ruleForm1.post="",t.$axios.post("/config/user/query/searchJobListByDeptId",m()({deptId:t.condDeptId}),t.config).then(function(e){t.postlist=e.data.dataList}).catch(function(e){console.log(e)}),t.changeDisabled()},searchDataList:function(){var e=this;e.condDeptId1=e.searchDepartmentId,e.condUserName=e.searchUserName,e.condIsIncumbent=e.searchIsIncumbent,e.refer()},selectchange2:function(){this.changeDisabled()},refer:function(){var e=this;e.$axios.post("/config/user/query/searchUserList",m()({pageNumber:1,pageSize:e.pageSize,condUserName:e.condUserName,condDeptId:e.condDeptId1,condIsIncumbent:e.condIsIncumbent}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({message:t.data.message,type:"error",center:!0})}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},refers:function(){var e=this;e.$axios.post("/config/user/query/searchUserList",m()({pageNumber:e.currentPage,pageSize:e.pageSize,condUserName:e.condUserName,condDeptId:e.condDeptId1,condIsIncumbent:e.condIsIncumbent}),e.config).then(function(t){e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount}).catch(function(e){console.log(e)})},getAllData:function(e){e.$axios.post("/config/user/query/searchDeptTree",{},e.config).then(function(t){e.option=t.data.dataList}).catch(function(e){console.log(e)})},requestcommit:function(){var e=this;e.$axios.post("/config/user/query/searchEducationList",{},e.config).then(function(t){e.culturelist=t.data.dataList}).catch(function(e){console.log(e)}),e.$axios.post("/config/user/query/searchCompanyList",{},e.config).then(function(t){e.companylist=t.data.dataList}).catch(function(e){console.log(e)}),e.$axios.post("/config/user/query/searchRoleList",{},e.config).then(function(t){e.rolelist=t.data.dataList}).catch(function(e){console.log(e)}),e.$axios.post("/config/user/query/searchDeptTree",{},e.config).then(function(t){e.options=t.data.dataList}).catch(function(e){console.log(e)})},requestForm:function(){this.fileList=[],this.centerDialogVisible=!0,this.requestcommit(),this.changeDisabled()},changeTable:function(e,t){this.centerDialogVisible1=!0;var a=this;this.content=[],this.requestcommit(),a.userId=t.userId,a.$axios.post("/config/user/query/searchUserInfo",m()({userId:t.userId}),a.config).then(function(e){a.fileList=[],a.ruleForm1.name=e.data.dataVO.userName,a.ruleForm1.culture=e.data.dataVO.educationId,a.ruleForm1.account=e.data.dataVO.userAccount,a.ruleForm1.email=e.data.dataVO.email,a.ruleForm1.section=e.data.dataVO.deptId,a.ruleForm1.company=e.data.dataVO.companyId,a.ruleForm1.role=e.data.dataVO.roleId,a.ruleForm1.major=e.data.dataVO.professionalName,a.ruleForm1.date=e.data.dataVO.entryDate,console.info("isIncumbent:"+e.data.dataVO.isIncumbent),a.ruleForm1.isIncumbent=e.data.dataVO.isIncumbent,console.info("isIncumbent11:"+a.ruleForm1.isIncumbent),e.data.dataVO.jobList?a.content=e.data.dataVO.jobList:a.content=[];var t=e.data.dataVO.flieList;if(null!=t&&t.length>0)for(var r=0;r<t.length;r++){var s={name:t[r].fileRelationId,url:t[r].fileUrl};a.fileList.push(s)}var o=e.data.dataVO.signPath;a.ruleForm1.signPathFile=o;var n=e.data.dataVO.jobId;a.updateDate=e.data.dataVO.updateDate,a.$axios.post("/config/user/query/searchJobListByDeptId",m()({deptId:a.ruleForm1.section}),a.config).then(function(e){a.postlist=e.data.dataList,a.ruleForm1.post=n,a.changeDisabled()}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},handlePictureCardPreview:function(e,t){this.ruleForm1.dialogImageUrl=e.url},beforeAvatarUpload1:function(e){return this.fileList.push(e),!1},modifyBeforeAvatarUpload1:function(e){return this.modifyfileList.push(e),!1},modifyFormHandleAvatarSuccess:function(e,t){"image/png"===e.raw.type?this.ruleForm1.signPathFile=URL.createObjectURL(e.raw):this.$message.error("上传个人签名图片只能是 PNG 格式!")},handleAvatarSuccess:function(e,t){"image/png"===e.raw.type?this.ruleForm.signPathFile=URL.createObjectURL(e.raw):this.$message.error("上传个人签名图片只能是 PNG 格式!")},beforeAvatarUpload:function(e,t){return this.formData.set("signPathFile",e),!1},modifyBeforeAvatarUpload:function(e,t){return this.modifyformData.set("signPathFile",e),!1},closeTip:function(e,t){this.content.splice(e,1)},handleRemove:function(e,t){var a=this.fileList.slice(0);if(t.length>0)for(var r=0;r<t.length;r++)for(var s=0;s<a.length;s++)t[r].name==a[s].name&&(a.splice(s,1),s--);this.deleteResourceList=a},closeDialog:function(){this.content=[],this.$refs.ruleForm.resetFields()},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!(e&&t.content.length>0))return 0==t.content.length&&(t.contentShow=!0),!1;var a=t;a.jobIds=[],a.formData.set("userName ",a.ruleForm.name),a.formData.set("userAccount",a.ruleForm.account),a.formData.set("password",a.ruleForm.password),a.formData.set("companyId",a.ruleForm.company),a.formData.set("roleId",a.ruleForm.role),a.formData.set("professionalName",a.ruleForm.major),a.formData.set("email",a.ruleForm.email),a.formData.set("educationId",a.ruleForm.culture),a.formData.set("deptId",a.ruleForm.section);for(var r=0;r<a.content.length;r++)a.jobIds.push(a.content[r].jobId);a.formData.set("jobIds",a.jobIds);var s=new Date(a.ruleForm.date),o=s.getFullYear()+"-"+(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"-"+(s.getDate()<10?"0"+s.getDate():s.getDate());a.formData.set("entryDate",o),a.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.$refs.upload.submit(),a.$refs.upload1.submit(),a.formData.set("resourceFiles",null);for(var e=0;e<a.fileList.length;e++)a.formData.append("resourceFiles",a.fileList[e]);a.$axios.post("/config/user/add/saveUserInfo",a.formData,{headers:{"Content-Type":"application/x-www-form-urlencode;charset=utf-8"}}).then(function(e){a.centerDialogVisible=!1,a.formData=new FormData;for(var t=0;t<a.$refs.upload1.$el.children[0].children.length;t++)a.$refs.upload1.$el.children[0].children[t].style.display="none";a.fileList=[],a.content=[],"success"==e.data.status?(a.refer(),a.$message({type:"success",message:e.data.message,center:!0})):a.$message({type:"error",message:e.data.message,center:!0})}).catch(function(e){a.$message({type:"error",message:e,center:!0})})}).catch(function(){})})},submitForm1:function(e){var t=this;t.$refs[e].validate(function(e){if(!(e&&t.content.length>0))return 0==t.content.length&&(t.contentShow=!0),!1;t.jobIds=[],t.modifyformData.set("userId",t.userId),t.modifyformData.set("userName",t.ruleForm1.name),t.modifyformData.set("userAccount",t.ruleForm1.account),t.modifyformData.set("companyId",t.ruleForm1.company),t.modifyformData.set("roleId",t.ruleForm1.role),t.modifyformData.set("professionalName",t.ruleForm1.major),t.modifyformData.set("email",t.ruleForm1.email),t.modifyformData.set("educationId",t.ruleForm1.culture),t.modifyformData.set("isIncumbent",t.ruleForm1.isIncumbent);for(var a=0;a<t.content.length;a++)t.jobIds.push(t.content[a].jobId);t.modifyformData.set("jobIds",t.jobIds);var r=[];for(a=0;a<t.deleteResourceList.length;a++)r.push(t.deleteResourceList[a].name);t.modifyformData.set("deleteResourceList",r);var s=new Date(t.ruleForm1.date),o=s.getFullYear()+"-"+(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"-"+(s.getDate()<10?"0"+s.getDate():s.getDate());t.modifyformData.set("entryDate",o),t.modifyformData.set("updateDate",t.updateDate),t.modifyformData.set("isResetPwd",t.ruleForm1.password1),t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.$refs.modifyUpload.submit(),t.$refs.modifyUpload1.submit(),t.modifyformData.set("resourceFiles",null);for(var e=0;e<t.modifyfileList.length;e++)t.modifyformData.append("resourceFiles",t.modifyfileList[e]);t.$axios.post("/config/user/modify/updateUserInfo",t.modifyformData,{headers:{"Content-Type":"application/x-www-form-urlencode;charset=utf-8"}}).then(function(e){t.modifyformData=new FormData,t.modifyfileList=[],t.centerDialogVisible1=!1,"success"==e.data.status?(t.refers(),t.$message({type:"success",message:e.data.message,center:!0})):t.$message({type:"error",message:e.data.message,center:!0})}).catch(function(e){t.modifyformData=new FormData,t.modifyfileList=[],t.$message({type:"error",message:response.data.status,center:!0})})}).catch(function(){})})},handleSizeChange:function(e){this.pageSize=e,this.refers()},handleCurrentChange:function(e){this.currentPage=e,this.refers()},currentChangePage:function(e,t,a){this.tabdata=e}}},at={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"set-member"},[r("el-row",{staticClass:"row-bg item-open",attrs:{type:"flex",justify:"end"}},[r("div",{staticClass:"item-tab-chuang",on:{click:e.requestForm}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("\n      新增\n    ")]),e._v(" "),r("el-dialog",{attrs:{title:"新增",visible:e.centerDialogVisible,width:"710px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t},close:e.closeDialog}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文化程度",prop:"culture"}},[r("el-select",{attrs:{placeholder:"请选择文化程度"},model:{value:e.ruleForm.culture,callback:function(t){e.$set(e.ruleForm,"culture",t)},expression:"ruleForm.culture"}},e._l(e.culturelist,function(t){return r("el-option",{key:t.educationId,attrs:{label:t.educationName,value:t.educationId}},[e._v(e._s(t.educationName))])}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"登录帐号",prop:"account"}},[r("el-input",{attrs:{placeholder:"请输入登录帐号"},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所属公司",prop:"company"}},[r("el-select",{attrs:{placeholder:"请选择所属公司"},model:{value:e.ruleForm.company,callback:function(t){e.$set(e.ruleForm,"company",t)},expression:"ruleForm.company"}},e._l(e.companylist,function(t){return r("el-option",{key:t.companyId,attrs:{label:t.companyName,value:t.companyId}},[e._v(e._s(t.companyName))])}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[r("el-input",{staticClass:"loginpass",attrs:{placeholder:"请输入登录密码",readonly:""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"角色权限",prop:"role"}},[r("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.ruleForm.role,callback:function(t){e.$set(e.ruleForm,"role",t)},expression:"ruleForm.role"}},e._l(e.rolelist,function(t){return r("el-option",{key:t.roleId,attrs:{label:t.roleName,value:t.roleId}},[e._v(e._s(t.roleName))])}),1)],1),e._v(" "),r("div",{staticClass:"module is-required is-error",staticStyle:{overflow:"hidden"}},[r("div",{staticClass:"module1"},[r("el-form-item",{attrs:{label:"所属部门"}},[r("el-select",{attrs:{placeholder:"请选择所属部门"},on:{change:e.selectchange},model:{value:e.ruleForm.section,callback:function(t){e.$set(e.ruleForm,"section",t)},expression:"ruleForm.section"}},e._l(e.options,function(t){return r("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}},[e._v(e._s(t.deptName))])}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"职务",prop:"post"}},[r("el-select",{attrs:{placeholder:"请选择职务"},on:{change:e.selectchange2},model:{value:e.ruleForm.post,callback:function(t){e.$set(e.ruleForm,"post",t)},expression:"ruleForm.post"}},e._l(e.postlist,function(t){return r("el-option",{key:t.jobId,attrs:{label:t.jobName,value:t.jobId}},[e._v(e._s(t.jobName))])}),1)],1)],1),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",disabled:e.disabled,icon:"el-icon-plus"},on:{click:function(t){return e.addCard(0)}}}),e._v(" "),e._l(e.content,function(t,a){return r("el-alert",{key:a,attrs:{title:t.departmentJobName,"show-icon":""},on:{close:function(t){return e.closeTip(a)}}})}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.contentShow,expression:"contentShow"}],staticClass:"el-form-item__error"},[e._v("最少选择一个")])],2),e._v(" "),r("el-form-item",{attrs:{label:"所属专业",prop:"major"}},[r("el-input",{attrs:{placeholder:"请输入专业"},model:{value:e.ruleForm.major,callback:function(t){e.$set(e.ruleForm,"major",t)},expression:"ruleForm.major"}})],1),e._v(" "),r("el-form-item",{staticClass:"du",attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱地址"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),r("el-form-item",{staticClass:"du",attrs:{label:"入职日期",prop:"date"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择入职日期"},model:{value:e.ruleForm.date,callback:function(t){e.$set(e.ruleForm,"date",t)},expression:"ruleForm.date"}})],1),e._v(" "),r("el-form-item",{staticClass:"upload",attrs:{label:"拥有资质",prop:"dialogImageUrl"}},[r("el-upload",{ref:"upload1",staticClass:"aptitude",attrs:{action:"#","list-type":"picture-card","on-change":e.handlePictureCardPreview,"auto-upload":!1,"before-upload":e.beforeAvatarUpload1,"file-list":e.fileList,"on-remove":e.handleRemove}},[r("i",{staticClass:"el-icon-plus"})]),e._v(" "),r("el-dialog",[r("img",{attrs:{width:"100%",src:e.ruleForm.dialogImageUrl,alt:""}})])],1),e._v(" "),r("el-form-item",{staticClass:"upload upload1",attrs:{label:"个人签名",prop:"signPathFile"}},[r("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUpload,data:e.ruleForm}},[r("el-button",[r("span",{staticClass:"iconfont"},[e._v("")]),e._v("\n              上传签名\n            ")]),e._v(" "),r("br"),e._v(" "),r("span",{staticClass:"sample"},[e._v("示例图")]),e._v(" "),e.ruleForm.signPathFile?r("img",{staticClass:"avatar",attrs:{src:e.ruleForm.signPathFile}}):e._e(),e._v(" "),r("p",{staticClass:"sampleP"},[e._v("271px × 120px")])],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改",visible:e.centerDialogVisible1,width:"710px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible1=t},close:e.closeDialog}},[r("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm1,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm1.name,callback:function(t){e.$set(e.ruleForm1,"name",t)},expression:"ruleForm1.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"文化程度",prop:"culture"}},[r("el-select",{attrs:{placeholder:"请选择文化程度"},model:{value:e.ruleForm1.culture,callback:function(t){e.$set(e.ruleForm1,"culture",t)},expression:"ruleForm1.culture"}},e._l(e.culturelist,function(t){return r("el-option",{key:t.educationId,attrs:{label:t.educationName,value:t.educationId}},[e._v(e._s(t.educationName))])}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"登录帐号",prop:"account"}},[r("el-input",{attrs:{placeholder:"请输入登录帐号"},model:{value:e.ruleForm1.account,callback:function(t){e.$set(e.ruleForm1,"account",t)},expression:"ruleForm1.account"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所属公司",prop:"company"}},[r("el-select",{attrs:{placeholder:"请选择所属公司"},model:{value:e.ruleForm1.company,callback:function(t){e.$set(e.ruleForm1,"company",t)},expression:"ruleForm1.company"}},e._l(e.companylist,function(t){return r("el-option",{key:t.companyId,attrs:{label:t.companyName,value:t.companyId}},[e._v(e._s(t.companyName))])}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"重置密码",prop:"password1"}},[r("el-radio-group",{model:{value:e.ruleForm1.password1,callback:function(t){e.$set(e.ruleForm1,"password1",t)},expression:"ruleForm1.password1"}},[r("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"角色权限",prop:"role"}},[r("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.ruleForm1.role,callback:function(t){e.$set(e.ruleForm1,"role",t)},expression:"ruleForm1.role"}},e._l(e.rolelist,function(t){return r("el-option",{key:t.roleId,attrs:{label:t.roleName,value:t.roleId}},[e._v(e._s(t.roleName))])}),1)],1),e._v(" "),r("div",{staticClass:"module is-required is-error"},[r("div",{staticClass:"module1"},[r("el-form-item",{attrs:{label:"所属部门"}},[r("el-select",{attrs:{placeholder:"请选择所属部门"},on:{change:e.selectchange},model:{value:e.ruleForm1.section,callback:function(t){e.$set(e.ruleForm1,"section",t)},expression:"ruleForm1.section"}},e._l(e.options,function(t){return r("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}},[e._v(e._s(t.deptName))])}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"职务"}},[r("el-select",{attrs:{placeholder:"请选择职务"},on:{change:e.selectchange2},model:{value:e.ruleForm1.post,callback:function(t){e.$set(e.ruleForm1,"post",t)},expression:"ruleForm1.post"}},e._l(e.postlist,function(t){return r("el-option",{key:t.jobId,attrs:{label:t.jobName,value:t.jobId}},[e._v(e._s(t.jobName))])}),1)],1)],1),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",disabled:e.disabled1,icon:"el-icon-plus"},on:{click:function(t){return e.addCard(1)}}}),e._v(" "),e._l(e.content,function(t,a){return r("el-alert",{key:a,attrs:{title:t.departmentJobName,"show-icon":""},on:{close:function(t){return e.closeTip(a)}}})}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.contentShow,expression:"contentShow"}],staticClass:"el-form-item__error"},[e._v("最少选择一个")])],2),e._v(" "),r("el-form-item",{staticClass:"du",attrs:{label:"所属专业",prop:"major"}},[r("el-input",{attrs:{placeholder:"请输入专业"},model:{value:e.ruleForm1.major,callback:function(t){e.$set(e.ruleForm1,"major",t)},expression:"ruleForm1.major"}})],1),e._v(" "),r("el-form-item",{staticClass:"du",attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱地址"},model:{value:e.ruleForm1.email,callback:function(t){e.$set(e.ruleForm1,"email",t)},expression:"ruleForm1.email"}})],1),e._v(" "),r("el-form-item",{staticClass:"du",attrs:{label:"入职日期",prop:"date"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择入职日期"},model:{value:e.ruleForm1.date,callback:function(t){e.$set(e.ruleForm1,"date",t)},expression:"ruleForm1.date"}})],1),e._v(" "),r("el-form-item",{staticClass:"upload",attrs:{label:"拥有资质"}},[r("el-upload",{ref:"modifyUpload1",staticClass:"aptitude",attrs:{action:"#","list-type":"picture-card","on-change":e.handlePictureCardPreview,"auto-upload":!1,"before-upload":e.modifyBeforeAvatarUpload1,"file-list":e.modifyfileList,"on-remove":e.handleRemove}},[r("i",{staticClass:"el-icon-plus"})]),e._v(" "),r("el-dialog",[r("img",{attrs:{width:"100%",src:e.ruleForm1.dialogImageUrl,alt:""}})])],1),e._v(" "),r("el-form-item",{staticClass:"upload upload1",attrs:{label:"个人签名",prop:"signPathFile"}},[r("el-upload",{ref:"modifyUpload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.modifyFormHandleAvatarSuccess,"auto-upload":!1,"before-upload":e.modifyBeforeAvatarUpload,data:e.ruleForm}},[r("el-button",[r("span",{staticClass:"iconfont"},[e._v("")]),e._v("\n              上传签名\n            ")]),e._v(" "),r("br"),e._v(" "),r("span",{staticClass:"sample"},[e._v("示例图")]),e._v(" "),e.ruleForm1.signPathFile?r("img",{staticClass:"avatar",attrs:{src:e.ruleForm1.signPathFile}}):e._e(),e._v(" "),r("p",{staticClass:"sampleP"},[e._v("271px × 120px")])],1)],1),e._v(" "),r("el-form-item",{staticClass:"quan",attrs:{label:"是否在职",prop:"isIncumbent"}},[r("el-radio-group",{model:{value:e.ruleForm1.isIncumbent,callback:function(t){e.$set(e.ruleForm1,"isIncumbent",t)},expression:"ruleForm1.isIncumbent"}},[r("el-radio",{attrs:{label:"1"}},[e._v("在职")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("离职")])],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm1("ruleForm1")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),r("div",{staticClass:"item-from"},[r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i1"}},[e._v("姓名")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入姓名",id:"i1"},model:{value:e.searchUserName,callback:function(t){e.searchUserName=t},expression:"searchUserName"}})],1),e._v(" "),r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i2"}},[e._v("部门")]),e._v(" "),r("el-select",{attrs:{placeholder:"请选择部门",clearable:""},model:{value:e.searchDepartmentId,callback:function(t){e.searchDepartmentId=t},expression:"searchDepartmentId"}},e._l(e.option,function(t){return r("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}},[e._v(e._s(t.deptName))])}),1)],1),e._v(" "),r("div",{staticClass:"item-input"},[r("label",{attrs:{for:"i3"}},[e._v("是否在职")]),e._v(" "),r("el-select",{attrs:{placeholder:"请选择在职状态",clearable:""},model:{value:e.searchIsIncumbent,callback:function(t){e.searchIsIncumbent=t},expression:"searchIsIncumbent"}},e._l(e.option1,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("div",{staticClass:"itemfrom-right"},[r("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchDataList}},[e._v("查询")])],1)]),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"姓名","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[e._v(e._s(t.row.userName))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.userId))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"userAccount",label:"账号","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"educationName",label:"文化程度","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"deptName",label:"所属部门","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"entryDate",label:"入职日期","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"isIncumbent",label:"是否在职","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"isCooperateCompany",label:"是否是合作公司","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"signPath",label:"个人签名","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{key:"imageKey",attrs:{placement:"right",title:"",trigger:"hover"}},[r("img",{staticStyle:{height:"500px",width:"500px"},attrs:{src:t.row.signPath}}),e._v(" "),r("img",{staticStyle:{"max-height":"50px","max-width":"130px"},attrs:{slot:"reference",src:t.row.signPath,alt:""},slot:"reference"})])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"download",attrs:{type:"text"},on:{click:function(a){return e.changeTable(t.$index,t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var rt=a("VU/8")(tt,at,!1,function(e){a("l7ly")},null,null).exports,st={data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],biaodata:"",tabdata:[],iconform:!1,iconform1:!0,centerDialogVisible:!1,centerDialogVisible1:!1,fileList:[],formData:new FormData,formData1:new FormData,ruleForm:{noticeName:"",releaseDate:"",userName:"",signPathFile:"",materialName:""},ruleForm1:{noticeName:"",releaseDate:"",userName:"",signPathFile:"",materialName:"",updateDate:""},config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},rules:{noticeName:[{required:!0,message:"请输入公告名称",trigger:"blur"},{max:120,message:"最长120字",trigger:"blur"}],signPathFile:[{required:!0,message:"请选择公告文件",trigger:"blur"}]}}},mounted:function(){this.refer()},methods:{handleSizeChange:function(e){this.pageSize=e,this.refers()},handleCurrentChange:function(e){this.currentPage=e,this.refers()},currentChangePage:function(e,t,a){this.tabdata=e},refer:function(){var e=this;e.$axios.post("/config/publicNotice/query/searchPublicNoticeList",m()({pageNumber:1,pageSize:e.pageSize}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}).catch(function(e){console.log(e)})},refers:function(){var e=this;e.$axios.post("/config/publicNotice/query/searchPublicNoticeList",m()({pageNumber:e.currentPage,pageSize:e.pageSize}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}).catch(function(e){console.log(e)})},handleAvatarSuccess:function(e,t){if(!this.checkFileType(e,"(doc|docx|xls|xlsx|pdf)","ig"))return this.$message.error("文件格式必须为doc、docx、xls、xlsx、pdf");this.ruleForm.signPathFile=URL.createObjectURL(e.raw),this.ruleForm.materialName=e.name},handleAvatarSuccess1:function(e,t){if(!this.checkFileType(e,"(doc|docx|xls|xlsx|pdf)","ig"))return this.$message.error("文件格式必须为doc、docx、xls、xlsx、pdf");this.ruleForm1.signPathFile=URL.createObjectURL(e.raw),this.ruleForm1.materialName=e.name},beforeAvatarUpload:function(e,t){return this.filedata=e,!1},beforeAvatarUpload1:function(e,t){return this.filedata1=e,!1},fileSuccess:function(e,t,a){},checkFileType:function(e,t,a){if(!e)return console.error("文件不能为空");if(!e.name)return console.error("文件名不能为空");var r=new RegExp(t,a),s=e.name.split("."),o=s[s.length-1];return r.test(o)},submitForm:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;t.formData.append("noticeName ",t.ruleForm.noticeName),t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.$refs.upload.submit(),t.formData.append("signPathFile",t.filedata),t.ruleForm.materialName="",t.$axios.post("/config/publicNotice/add/savePublicNoticeInfo",t.formData,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){t.formData=new FormData,"success"==a.data.status?(t.centerDialogVisible=!1,t.$refs[e].resetFields(),t.refer(),t.$message({type:"success",message:a.data.message,center:!0})):t.$message({type:"error",message:a.data.message,center:!0})}).catch(function(e){t.formData=new FormData,t.$message({type:"error",message:e,center:!0})})}).catch(function(){})})},submitForm1:function(e){var t=this,a=this;this.$refs[e].validate(function(r){if(!r)return console.log("error submit!!"),!1;a.formData1.append("noticeId ",a.noticeId),a.formData1.append("noticeName ",a.ruleForm1.noticeName),t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.$refs.upload.submit(),a.formData1.append("signPathFile",a.filedata1),a.ruleForm1.materialName="",a.formData1.append("updateDate",a.ruleForm1.updateDate),a.$axios.post("/config/publicNotice/modify/updatePublicNoticeInfo",a.formData1,{headers:{"Content-Type":"application/x-www-form-urlencode;charset=utf-8"}}).then(function(t){a.formData1=new FormData,"success"==t.data.status?(a.centerDialogVisible1=!1,a.$refs[e].resetFields(),a.refer(),a.$message({type:"success",message:t.data.message,center:!0})):a.$message({type:"error",message:t.data.message,center:!0})}).catch(function(e){a.formData1=new FormData,a.$message({type:"error",message:e,center:!0})})}).catch(function(){})})},changeTable:function(e,t){var a=this;this.centerDialogVisible1=!0,a.noticeId=t.noticeId,a.$axios.post("/config/publicNotice/query/searchPublicNoticeInfo",m()({noticeId:t.noticeId}),a.config).then(function(e){a.ruleForm1.noticeName=e.data.dataVO.noticeName,a.ruleForm1.materialName=e.data.dataVO.materialName,a.ruleForm1.updateDate=e.data.dataVO.updateDate}).catch(function(e){console.log(e)})},deleteTable:function(e,t){var a=this;a.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.$axios.post("/config/publicNotice/delete/deletePublicNoticeInfo",m()({noticeId:t.noticeId}),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){"success"==e.data.status?(a.currentPage=1,a.refer(),a.$message({type:"success",message:e.data.message,center:!0})):a.$message({type:"error",message:e.data.message,center:!0})}).catch(function(e){a.$message({type:"error",message:e,center:!0})})}).catch(function(){})},download:function(e,t){var a=document.createElement("iframe");a.src="/commonModule/downloadFile?filePathName="+t.materialPath+"&realFileName="+t.materialName,a.style.display="none",document.body.appendChild(a)}}},ot={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"set-notice"},[r("el-row",{staticClass:"row-bg item-open",attrs:{type:"flex",justify:"end"}},[r("div",{staticClass:"item-tab-chuang",on:{click:function(t){e.centerDialogVisible=!0}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("新增\n\t\t")]),e._v(" "),r("el-dialog",{attrs:{title:"新增",visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"公告名称",prop:"noticeName"}},[r("el-input",{attrs:{placeholder:"请输入公告名称"},model:{value:e.ruleForm.noticeName,callback:function(t){e.$set(e.ruleForm,"noticeName",t)},expression:"ruleForm.noticeName"}})],1),e._v(" "),r("el-form-item",{staticClass:"upload upload1",attrs:{label:"公告文件",prop:"signPathFile"}},[e._e(),e._v(" "),r("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUpload,data:e.ruleForm,"on-success":e.fileSuccess}},[r("el-button",[r("span",{staticClass:"iconfont"},[e._v("")]),e._v("上传附件")]),e._v(" "),r("br"),e._v(" "),r("el-input",{attrs:{placeholder:"请输入公告文件名称",disabled:!0},model:{value:e.ruleForm.materialName,callback:function(t){e.$set(e.ruleForm,"materialName",t)},expression:"ruleForm.materialName"}})],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改",visible:e.centerDialogVisible1,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible1=t}}},[r("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm1,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"公告名称",prop:"noticeName"}},[r("el-input",{attrs:{placeholder:"请输入公告名称"},model:{value:e.ruleForm1.noticeName,callback:function(t){e.$set(e.ruleForm1,"noticeName",t)},expression:"ruleForm1.noticeName"}})],1),e._v(" "),r("el-form-item",{staticClass:"upload upload1",attrs:{label:"公告文件"}},[e._e(),e._v(" "),r("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess1,"auto-upload":!1,"before-upload":e.beforeAvatarUpload1,data:e.ruleForm,"on-success":e.fileSuccess}},[r("el-button",[r("span",{staticClass:"iconfont"},[e._v("")]),e._v("上传附件")]),e._v(" "),r("br"),e._v(" "),r("el-input",{attrs:{placeholder:"请输入公告文件名称",disabled:!0},model:{value:e.ruleForm1.materialName,callback:function(t){e.$set(e.ruleForm1,"materialName",t)},expression:"ruleForm1.materialName"}})],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm1("ruleForm1")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"公告名称","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",{staticClass:"text-overflow-ellipsis"},[e._v(e._s(t.row.noticeName))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.noticeId))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.materialPath))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.materialName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"200px",align:"center","class-name":"table-column",prop:"releaseDate",label:"发布时间","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{width:"200px",align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"download",attrs:{type:"text"},on:{click:function(a){return e.download(t.$index,t.row)}}},[e._v("下载")]),e._v(" "),r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.changeTable(t.$index,t.row)}}},[e._v("修改")]),e._v(" "),r("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.deleteTable(t.$index,t.row)}}},[e._v("删除")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var nt=a("VU/8")(st,ot,!1,function(e){a("JrMx")},null,null).exports,it={data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],biaodata:"",tabdata:[],iconform:!1,iconform1:!0,centerDialogVisible:!1,centerDialogVisible1:!1,fileList:[],formData:new FormData,formData1:new FormData,ruleForm:{standardName:"",releaseDate:"",userName:"",signPathFile:"",materialName:""},ruleForm1:{standardName:"",releaseDate:"",userName:"",signPathFile:"",materialName:"",updateDate:""},config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},rules:{standardName:[{required:!0,message:"请输入技术标准名称",trigger:"blur"},{max:120,message:"最长120字",trigger:"blur"}],signPathFile:[{required:!0,message:"请选择技术标准文件",trigger:"blur"}]}}},mounted:function(){this.refer()},methods:{handleSizeChange:function(e){this.pageSize=e,this.refers()},handleCurrentChange:function(e){this.currentPage=e,this.refers()},currentChangePage:function(e,t,a){this.tabdata=e},refer:function(){var e=this;e.$axios.post("/config/technicalStandard/query/searchTechnicalStandardList",m()({pageNumber:1,pageSize:e.pageSize}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}).catch(function(e){console.log(e)})},refers:function(){var e=this;e.$axios.post("/config/technicalStandard/query/searchTechnicalStandardList",m()({pageNumber:e.currentPage,pageSize:e.pageSize}),e.config).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}).catch(function(e){console.log(e)})},handleAvatarSuccess:function(e,t){if(!this.checkFileType(e,"(doc|docx|xls|xlsx|pdf)","ig"))return this.$message.error("文件格式必须为doc、docx、xls、xlsx、pdf");this.ruleForm.signPathFile=URL.createObjectURL(e.raw),this.ruleForm.materialName=e.name},handleAvatarSuccess1:function(e,t){if(!this.checkFileType(e,"(doc|docx|xls|xlsx|pdf)","ig"))return this.$message.error("文件格式必须为doc、docx、xls、xlsx、pdf");this.ruleForm1.signPathFile=URL.createObjectURL(e.raw),this.ruleForm1.materialName=e.name},beforeAvatarUpload:function(e,t){return this.filedata=e,!1},beforeAvatarUpload1:function(e,t){return this.filedata1=e,!1},fileSuccess:function(e,t,a){},checkFileType:function(e,t,a){if(!e)return console.error("文件不能为空");if(!e.name)return console.error("文件名不能为空");var r=new RegExp(t,a),s=e.name.split("."),o=s[s.length-1];return r.test(o)},submitForm:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;t.formData.append("standardName ",t.ruleForm.standardName),t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.$refs.upload.submit(),t.formData.append("signPathFile",t.filedata),t.ruleForm.materialName="",t.$axios.post("/config/technicalStandard/add/saveTechnicalStandardInfo",t.formData,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){t.formData=new FormData,"success"==a.data.status?(t.centerDialogVisible=!1,t.$refs[e].resetFields(),t.refer(),t.$message({type:"success",message:a.data.message,center:!0})):t.$message({type:"error",message:a.data.message,center:!0})}).catch(function(e){t.formData=new FormData,t.$message({type:"error",message:e,center:!0})})}).catch(function(){})})},submitForm1:function(e){var t=this,a=this;this.$refs[e].validate(function(r){if(!r)return console.log("error submit!!"),!1;a.formData1.append("standardId ",a.standardId),a.formData1.append("standardName ",a.ruleForm1.standardName),t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.$refs.upload.submit(),a.formData1.append("signPathFile",a.filedata1),a.ruleForm1.materialName="",a.formData1.append("updateDate",a.ruleForm1.updateDate),a.$axios.post("/config/technicalStandard/modify/updateTechnicalStandardInfo",a.formData1,{headers:{"Content-Type":"application/x-www-form-urlencode;charset=utf-8"}}).then(function(t){a.formData1=new FormData,"success"==t.data.status?(a.centerDialogVisible1=!1,a.$refs[e].resetFields(),a.refer(),a.$message({type:"success",message:t.data.message,center:!0})):a.$message({type:"error",message:t.data.message,center:!0})}).catch(function(e){a.formData1=new FormData,a.$message({type:"error",message:e,center:!0})})}).catch(function(){})})},changeTable:function(e,t){var a=this;this.centerDialogVisible1=!0,a.standardId=t.standardId,a.$axios.post("/config/technicalStandard/query/searchTechnicalStandardInfo",m()({standardId:t.standardId}),a.config).then(function(e){a.ruleForm1.standardName=e.data.dataVO.standardName,a.ruleForm1.materialName=e.data.dataVO.materialName,a.ruleForm1.updateDate=e.data.dataVO.updateDate}).catch(function(e){console.log(e)})},deleteTable:function(e,t){var a=this;a.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.$axios.post("/config/technicalStandard/delete/deleteTechnicalStandardInfo",m()({standardId:t.standardId}),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){"success"==e.data.status?(a.currentPage=1,a.refer(),a.$message({type:"success",message:e.data.message,center:!0})):a.$message({type:"error",message:e.data.message,center:!0})}).catch(function(e){a.$message({type:"error",message:e,center:!0})})}).catch(function(){})},download:function(e,t){var a=document.createElement("iframe");a.src="/commonModule/downloadFile?filePathName="+t.materialPath+"&realFileName="+t.materialName,a.style.display="none",document.body.appendChild(a)}}},lt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"set-notice"},[r("el-row",{staticClass:"row-bg item-open",attrs:{type:"flex",justify:"end"}},[r("div",{staticClass:"item-tab-chuang",on:{click:function(t){e.centerDialogVisible=!0}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("新增\n\t\t")]),e._v(" "),r("el-dialog",{attrs:{title:"新增",visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"技术标准名称",prop:"standardName"}},[r("el-input",{attrs:{placeholder:"请输入技术标准名称"},model:{value:e.ruleForm.standardName,callback:function(t){e.$set(e.ruleForm,"standardName",t)},expression:"ruleForm.standardName"}})],1),e._v(" "),r("el-form-item",{staticClass:"upload upload1",attrs:{label:"技术标准文件",prop:"signPathFile"}},[e._e(),e._v(" "),r("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUpload,data:e.ruleForm,"on-success":e.fileSuccess}},[r("el-button",[r("span",{staticClass:"iconfont"},[e._v("")]),e._v("上传附件")]),e._v(" "),r("br"),e._v(" "),r("el-input",{attrs:{placeholder:"请输入技术标准文件名称",disabled:!0},model:{value:e.ruleForm.materialName,callback:function(t){e.$set(e.ruleForm,"materialName",t)},expression:"ruleForm.materialName"}})],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改",visible:e.centerDialogVisible1,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible1=t}}},[r("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm1,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"技术标准名称",prop:"standardName"}},[r("el-input",{attrs:{placeholder:"请输入技术标准名称"},model:{value:e.ruleForm1.standardName,callback:function(t){e.$set(e.ruleForm1,"standardName",t)},expression:"ruleForm1.standardName"}})],1),e._v(" "),r("el-form-item",{staticClass:"upload upload1",attrs:{label:"技术标准文件"}},[e._e(),e._v(" "),r("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess1,"auto-upload":!1,"before-upload":e.beforeAvatarUpload1,data:e.ruleForm,"on-success":e.fileSuccess}},[r("el-button",[r("span",{staticClass:"iconfont"},[e._v("")]),e._v("上传附件")]),e._v(" "),r("br"),e._v(" "),r("el-input",{attrs:{placeholder:"请输入技术标准文件名称",disabled:!0},model:{value:e.ruleForm1.materialName,callback:function(t){e.$set(e.ruleForm1,"materialName",t)},expression:"ruleForm1.materialName"}})],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm1("ruleForm1")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"技术标准","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",{staticClass:"text-overflow-ellipsis"},[e._v(e._s(t.row.standardName))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.standardId))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.materialPath))]),e._v(" "),r("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.materialName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"200px",align:"center","class-name":"table-column",prop:"releaseDate",label:"发布时间","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{width:"200px",align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"download",attrs:{type:"text"},on:{click:function(a){return e.download(t.$index,t.row)}}},[e._v("下载")]),e._v(" "),r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.changeTable(t.$index,t.row)}}},[e._v("修改")]),e._v(" "),r("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.deleteTable(t.$index,t.row)}}},[e._v("删除")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var ct=a("VU/8")(it,lt,!1,function(e){a("XerO")},null,null).exports,ut={data:function(){return{total:100,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],biaodata:[{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"},{number:"北京汉腾工程顾问有限公司",count:"BJHTGCGW",contract:"中国邮政储蓄银行分行营业部",tel:"010-66789123",stage:"修改"}],tabdata:"",centerDialogVisible:!1,ruleForm:{name:"",address:"",open:"",account:"",postcode:"",tel:"",fax:"",email:""},rules:{name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],address:[{required:!0,message:"请输入公司地址",trigger:"blur"}],open:[{required:!0,message:"请输入开户行",trigger:"blur"}],account:[{required:!0,message:"请输入帐号",trigger:"blur"}],postcode:[{required:!0,message:"请输入邮编",trigger:"blur"}],tel:[{required:!0,message:"请输入电话",trigger:"blur"}],fax:[{required:!0,message:"请输入传真",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}]}}},created:function(){this.currentChangePage(this.biaodata,this.currentPage,this.pageSize)},methods:{handleSizeChange:function(e){this.pageSize=e,this.currentChangePage(this.biaodata,this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.currentChangePage(this.biaodata,this.currentPage,this.pageSize)},currentChangePage:function(e,t,a){this.tabdata=e.slice((t-1)*a,t*a)},rowClass:function(e){e.row,e.column,e.rowIndex;if(4===e.columnIndex)return"color:#06A1EE"},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$message({message:"恭喜你，提交成功",type:"success",center:!0}),t.centerDialogVisible=!1})},open2:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.$message({type:"success",message:"删除成功!"})}).catch(function(){})}}},pt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-collaborate"},[r("el-row",{staticClass:"row-bg item-open",attrs:{type:"flex",justify:"end"}},[r("el-dialog",{attrs:{title:"新增",visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"部门名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"部门职位",prop:"address"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择所属部门"},model:{value:e.ruleForm.region,callback:function(t){e.$set(e.ruleForm,"region",t)},expression:"ruleForm.region"}},[r("el-option",{attrs:{label:"区域一",value:"shanghai"}}),e._v(" "),r("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"open"}},[r("el-input",{staticStyle:{},attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.ruleForm.region,callback:function(t){e.$set(e.ruleForm,"region",t)},expression:"ruleForm.region"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:"","cell-style":e.rowClass}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"number",label:"部门名称"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"count",label:"上级部门"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"contract",label:"部门流"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"tel",label:"部门职位"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.centerDialogVisible=!0}}},[e._v("修改")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.centerDialogVisible=!0}}},[e._v("新增")]),e._v(" "),r("el-button",{staticClass:"delete",attrs:{type:"text",size:"small"},on:{click:e.open2}},[e._v("删除")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var mt=a("VU/8")(ut,pt,!1,function(e){a("k1jn")},null,null).exports,dt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"explain-cost"},[r("el-dialog",{attrs:{title:"修改",visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"工作阶段说明",prop:"periodDesc"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请填写工作阶段说明"},model:{value:e.ruleForm.periodDesc,callback:function(t){e.$set(e.ruleForm,"periodDesc",t)},expression:"ruleForm.periodDesc"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:"","cell-style":e.rowClass}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"periodName",width:"200",label:"工作阶段","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"periodDesc",label:"工作阶段说明","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"状态",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return r("div",{staticClass:"modifyBtn",on:{click:function(a){return e.showUpdateTaskPeriodForm(t.row.periodId,t.row.periodDesc,t.row.updateDate)}}},[e._v("修改")])}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var ft=a("VU/8")({data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],centerDialogVisible:!1,dictDepartmentId:this.childSearchId,ruleForm:{periodDesc:"",periodId:"",updateDate:""},rules:{periodDesc:[{required:!0,message:"请填写工作阶段说明",trigger:"blur"},{max:100,message:"最长100字",trigger:"blur"}]}}},props:["childSearchId"],mounted:function(){this.currentChangePage(this.dictDepartmentId,this.currentPage,this.pageSize)},updated:function(){},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a=t,r={periodId:t.ruleForm.periodId,periodDesc:t.ruleForm.periodDesc,updateDate:t.ruleForm.updateDate};a.$axios.post("/config/taskPeriod/modify/updateTaskPeriodInfo",r,a.config).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):a.$message({message:e.data.message,type:"success",center:!0}),a.centerDialogVisible=!1,a.currentChangePage(a.dictDepartmentId,a.currentPage,a.pageSize)})}})},handleSizeChange:function(e){this.pageSize=e,this.currentChangePage(this.dictDepartmentId,this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.currentChangePage(this.dictDepartmentId,this.currentPage,this.pageSize)},currentChangePage:function(e,t,a){var r=this,s={dictDepartmentId:e,pageNumber:t,pageSize:a};r.$axios.post("/config/taskPeriod/query/searchTaskPeriodList",s,r.config).then(function(e){r.tabdata=e.data.pagedData.dataList,r.total=e.data.pagedData.dataCount}).catch(function(e){r.$message({message:e,type:"error",center:!0})})},refreshComponent:function(){this.currentPage=1,this.pageSize=10},showUpdateTaskPeriodForm:function(e,t,a){this.ruleForm.periodId=e,this.ruleForm.periodDesc=t,this.ruleForm.updateDate=a,this.centerDialogVisible=!0},rowClass:function(e){if(e.row,e.column,e.rowIndex,4===e.columnIndex)return"color:#06A1EE"}}},dt,!1,function(e){a("XEjp")},null,null).exports,gt={data:function(){return{loadChild:!0,current:ft,activeIndex:"1",childSearchId:"db5e76f9-9fbd-11e9-a036-0e411fd5cf91"}},components:{MHadSetExplainConst:ft},methods:{toggleTab:function(e){var t=this;this.childSearchId=e,this.loadChild=!1,this.$nextTick(function(){t.loadChild=!0}),this.$refs.myChild.refreshComponent()}}},ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"set-explain"},[a("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","default-active":e.activeIndex}},[a("el-menu-item",{attrs:{index:"1"},on:{click:function(t){return e.toggleTab("db5e76f9-9fbd-11e9-a036-0e411fd5cf91")}}},[e._v("造价部")]),e._v(" "),a("el-menu-item",{attrs:{index:"2"},on:{click:function(t){return e.toggleTab("dea3cd5d-9fbd-11e9-a036-0e411fd5cf91")}}},[e._v("招标代理部")]),e._v(" "),a("el-menu-item",{attrs:{index:"3"},on:{click:function(t){return e.toggleTab("593df92d-fb21-442a-b279-a8b821bbc0d4")}}},[e._v("市场部")]),e._v(" "),a("el-menu-item",{attrs:{index:"4"},on:{click:function(t){return e.toggleTab("eb1f8c91-960d-4717-84ee-cc3b8137ccd3")}}},[e._v("项目部")])],1),e._v(" "),e.loadChild?a(e.current,{ref:"myChild",tag:"component",attrs:{childSearchId:e.childSearchId}}):e._e()],1)},staticRenderFns:[]};var vt=a("VU/8")(gt,ht,!1,function(e){a("Foqo")},null,null).exports,bt={props:["btns","searchFlagObj"],data:function(){return{inquireDateArr:"",weekDialogVisible:!1,nowDate:new Date,uniqueId:"",form:{department:{id:"",display:""},tenderTaskName:"",projectNum:"",contractNum:"",userName:"",projectName:""},financial:"092fcf86-7eed-4ec3-8b37-5c7c0c156072",theMarketingDepartment:"593df92d-fb21-442a-b279-a8b821bbc0d4",administrationDepartment:"d60c4000-9fbd-11e9-a036-0e411fd5cf91",costOf:"db5e76f9-9fbd-11e9-a036-0e411fd5cf91",biddingAgencyDepartment:"dea3cd5d-9fbd-11e9-a036-0e411fd5cf91",executives:"e18edd98-9fbd-11e9-a036-0e411fd5cf91",projectSupervisionDepartment:"eb1f8c91-960d-4717-84ee-cc3b8137ccd3",qualityInspectionDepartment:"eb9bfd9a-7519-473e-8f08-502ae74cdb40",currentBtns:this.btns||[],userPowerInfo:this.SStorage.getItem("userPowerInfo")}},watch:{btns:{handler:function(){var e=this;e.btns&&e.btns[0]&&((!e.searchFlagObj||e.searchFlagObj&&!e.searchFlagObj.isBacklog)&&e.btnActive(e.btns[0]),e.currentBtns=e.tool.deepCopy(e.btns,e.tool.deepCopy))},deep:!0,immediate:!0},searchFlagObj:{handler:function(){var e=this;if(e.searchFlagObj&&e.searchFlagObj.currentDeptId)for(var t=0,a=e.currentBtns.length;t<a;t++)e.searchFlagObj.currentDeptId==e.currentBtns[t].id&&(e.form.department.id="",e.form.department.display="",e.form.tenderTaskName="",e.uniqueId=e.currentBtns[t].uniqueId,e.form.department.id=e.currentBtns[t].id,e.form.department.display=e.currentBtns[t].name,e.bus.$emit("changeDepartmentId",e.form.department.id))},deep:!0,immediate:!0}},methods:{btnActive:function(e){var t=this;t.form.department.id="",t.form.department.display="",t.form.tenderTaskName="",t.uniqueId=e.uniqueId,t.form.department.id=e.id,t.form.department.display=e.name,t.search()},search:function(){var e=this;e.$emit("click",{id:e.form.department.id,tenderTaskName:e.form.tenderTaskName,projectNum:e.form.projectNum,contractNum:e.form.contractNum,userName:e.form.userName,projectName:e.form.projectName}),e.bus.$emit("changeDepartmentId",e.form.department.id)},exportWeekBtn:function(){var e="",t="";null!=this.inquireDateArr&&(e=this.inquireDateArr[0],t=this.inquireDateArr[1]);var a=document.createElement("iframe");a.src="/work/export/exportWeekInfo?realFileName=周报.xls&startTime="+e+"&endTime="+t,a.style.display="none",document.body.appendChild(a)}}},yt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"formSearch--work-default",attrs:{"el-form":"",model:e.form,"label-width":"80px"}},[a("div",{staticClass:"screening"},e._l(e.currentBtns,function(t,r){return a("el-badge",{key:r,ref:"departmentBtns",refInFor:!0,staticClass:"item",attrs:{"is-dot":!!t.departmentBtnFlag}},[a("el-button",{class:{active:t.id==e.form.department.id},attrs:{size:"mini"},on:{click:function(a){return e.btnActive(t)}}},[e._v(e._s(t.name))])],1)}),1),e._v(" "),a("div",{staticClass:"screeningInput",class:{"margin-plus":e.userPowerInfo&&"1"==e.userPowerInfo.doneListExport&&e.searchFlagObj.showExport}},[e.theMarketingDepartment==e.uniqueId||"投标任务"==e.uniqueId?a("div",{staticClass:"form-goup"},[a("div",{staticClass:"item-input"},[a("label",[e._v("投标任务名")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入投标任务名"},model:{value:e.form.tenderTaskName,callback:function(t){e.$set(e.form,"tenderTaskName",t)},expression:"form.tenderTaskName"}})],1)]):e._e(),e._v(" "),"合同"==e.uniqueId||e.costOf==e.uniqueId||e.biddingAgencyDepartment==e.uniqueId||"监理业务"==e.uniqueId||e.projectSupervisionDepartment==e.uniqueId?a("div",{staticClass:"form-goup"},[a("div",{staticClass:"item-input"},[a("label",[e._v("项目编号")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入项目编号"},model:{value:e.form.projectNum,callback:function(t){e.$set(e.form,"projectNum",t)},expression:"form.projectNum"}})],1),e._v(" "),"合同"==e.uniqueId?a("div",{staticClass:"item-input"},[a("label",[e._v("合同编号")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入合同编号"},model:{value:e.form.contractNum,callback:function(t){e.$set(e.form,"contractNum",t)},expression:"form.contractNum"}})],1):e._e(),e._v(" "),e.searchFlagObj&&e.searchFlagObj.projectNameFlag||e.projectSupervisionDepartment==e.uniqueId?a("div",{staticClass:"item-input"},[a("label",[e._v("项目名称")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1):e._e()]):e._e(),e._v(" "),e.qualityInspectionDepartment==e.uniqueId||e.administrationDepartment==e.uniqueId||e.financial==e.uniqueId?a("div",{staticClass:"form-goup"},[a("div",{staticClass:"item-input"},[a("label",[e._v("提审人")]),e._v(" "),a("el-input",{attrs:{placeholder:"请选择提审人"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),a("div",{staticClass:"item-input"},[a("label",[e._v("项目编号")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入项目编号"},model:{value:e.form.projectNum,callback:function(t){e.$set(e.form,"projectNum",t)},expression:"form.projectNum"}})],1),e._v(" "),e.searchFlagObj&&e.searchFlagObj.projectNameFlag?a("div",{staticClass:"item-input"},[a("label",[e._v("项目名称")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"item-input search-btn-container item-date"},[e.userPowerInfo&&"1"==e.userPowerInfo.doneListExport&&e.searchFlagObj.showExport?a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){e.weekDialogVisible=!0}}},[e._v("导出周报")]):e._e(),e._v(" "),a("el-dialog",{staticClass:"picker",attrs:{title:"选择日期",visible:e.weekDialogVisible,width:"35%",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.weekDialogVisible=t}}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期","default-value":e.nowDate},model:{value:e.inquireDateArr,callback:function(t){e.inquireDateArr=t},expression:"inquireDateArr"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.weekDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:e.exportWeekBtn}},[e._v("导 出")])],1)],1),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1)])])},staticRenderFns:[]};var _t=a("VU/8")(bt,yt,!1,function(e){a("Htqd"),a("Y76v")},"data-v-740c6fad",null).exports,wt={components:{"form-search":_t},created:function(){this.currentChangePage(this.currentPage,this.pageSize),this.searchDepartmentList()},data:function(){return{tableShow:!0,btns:[],departmentId:"",tenderTaskName:"",total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tableData:[],dataVOParamKeyMap:{},projectNum:"",projectName:"",userName:"",checkList:[],btnFlag:!0,dialogImageVisible:!1,processPicUrl:"",radios:[{display:"造价咨询-编制",val:"0-0"},{display:"造价咨询-审核",val:"0-1"},{display:"造价咨询-全过程跟踪审计",val:"0-2"},{display:"造价咨询-全过程工程造价咨询",val:"0-3"},{display:"招标代理-施工",val:"1-0"},{display:"招标代理-监理",val:"1-1"},{display:"招标代理-设计",val:"1-2"},{display:"招标代理-勘察",val:"1-3"},{display:"招标代理-服务类",val:"1-4"},{display:"招标代理-采购",val:"1-5"},{display:"招标代理-其他",val:"1-6"}]}},methods:{search:function(e){var t=this;t.departmentId=e.id,t.tenderTaskName=e.tenderTaskName,t.projectNum=e.projectNum,t.projectName=e.projectName,t.userName=e.userName,t.currentChangePage(1,this.pageSize)},selectable:function(e,t){return"0"!=e.isPass&&(this.btnFlag=!1,!0)},selectGetName:function(e,t){for(var a=0;a<t.length;a++)if(t[a].val==e)return t[a].display},toContract:function(e){"593df92d-fb21-442a-b279-a8b821bbc0d4"==e.departmentId?(this.SStorage.setItem("/page/work/contract/tenderTask",{rowInfo:e,stateFlag:"tenderTask",titleName:e.tenderTaskName}),this.$router.push("/page/work/contract/tenderTask")):(this.SStorage.setItem("/page/work/contract/FoundItem",e),this.$router.push("/page/work/contract/FoundItem"))},handleSizeChange:function(e){this.pageSize=e,this.currentChangePage(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.currentChangePage(this.currentPage,this.pageSize)},currentChangePage:function(e,t){var a=this,r=this,s={tenderTaskName:r.tenderTaskName,departmentId:r.departmentId,pageNumber:e,pageSize:t,projectNum:r.projectNum,projectName:r.projectName,userName:r.userName};r.tableShow=!1,r.apiAddress("/work/query/searchPendingList",s).then(function(e){"failure"==e.data.status?r.$message({message:e.data.message,type:"error",center:!0}):(r.dataVOParamKeyMap=e.data.dataVOParamKeyMap,r.tableData=e.data.dataList,r.total=e.data.dataCount,a.btnFlag=!0,r.tableShow=!0)}).catch(function(e){r.$message({message:e,type:"error",center:!0})})},searchDepartmentList:function(){var e=this;e.apiAddress("/work/query/searchAllDepartmentList",{colseLoadingFlag:!0}).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{e.departmentId||(e.departmentId=t.data.dataList[0].departmentId);var a=t.data.dataList,r=t.data.dataCount;e.$parent.backlogLabel=r;for(var s=a.length-1;s>=0;s--)a[s].uniqueId=a[s].departmentId,a[s]=JSON.parse(m()(a[s]).replace(/departmentId/g,"id")),a[s]=JSON.parse(m()(a[s]).replace(/departmentName/g,"name")),1==a.length&&(a[s]=JSON.parse(m()(a[s]).replace(/departmentBtnFlag/g,"flag")));e.btns=a}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},rowClass:function(e){e.row,e.column,e.rowIndex;if(10===e.columnIndex)return"color:#06A1EE"},showProcessPic:function(e){this.dialogImageVisible=!0,this.processPicUrl="http://localhost:18866/process/getFlowDiagram?processInstId="+e.processInstId,console.log("rowInfo",e)},approval:function(e){var t=this,a=this,r={isPass:"1",delegateTaskId:e.delegateTaskId,submitNode:e.submitNode,updateDate:e.updateDate},s="";"0"==e.sourceType?(r.contractId=e.contractId,s="/contract/audit/auditingHTContract"):"1-1"==e.sourceType?(r.relationId=e.businessId,s="/task/add/auditingTaskOutcomeDocumentPeriod"):"1-2"==e.sourceType?(r.relationId=e.businessId,s="/task/add/auditingTaskA3Period"):"1-3"==e.sourceType?(r.relationId=e.businessId,s="任务重新编辑-待签发"!=e.delegateTaskKey?"/task/add/auditingOutcomeDocumentPeriodReeditApplication":"/task/add/reeditApplicationIssue"):"2"==e.sourceType?(r.tenderTaskId=e.tenderTaskId,s="/tenderTask/insert/auditingHTTenderTask"):"3"==e.sourceType&&(r.requestMenuId=e.businessId,s="/requestMenu/modify/auditingQuestionMenu"),this.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress(s,r).then(function(e){"failure"==e.data.status?t.stateDialog("error",e.data.message):(t.stateDialog("success",e.data.message),a.currentChangePage(1,t.pageSize))}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},batchPass:function(){var e=this,t=this.checkList,a=this;null!=t&&0!=t.length?a.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.apiAddress("/work/update/batchPassCheckBusinessList",t).then(function(t){"failure"==t.data.status?a.$message({message:t.data.message,type:"error",center:!0}):(a.$message({message:t.data.message,type:"success",center:!0}),e.checkList=[],e.searchDepartmentList(),a.currentPage=1,a.currentChangePage(1,e.pageSize))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})}):a.$message({message:"请至少选取一条数据",type:"error",center:!0})},selectionChange:function(e){this.checkList=e}}},Ct={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"tableBacklog--work-default"},[r("form-search",{attrs:{btns:e.btns,searchFlagObj:{projectNameFlag:e.dataVOParamKeyMap.projectName,isBacklog:!0,currentDeptId:e.departmentId}},on:{click:e.search}}),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[e.tableShow?r("el-table",{ref:"multipleTable",staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","cell-style":e.rowClass},on:{"selection-change":e.selectionChange}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{type:"selection",width:"50",selectable:e.selectable}}),e._v(" "),e.dataVOParamKeyMap.sortNum?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center",width:"50","class-name":"table-column",prop:"sortNum",label:"序号"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.projectNum?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","min-width":"50","class-name":"table-column",prop:"projectNum",label:"项目编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(null==t.row.projectNum||""==t.row.projectNum?"-":t.row.projectNum)+"\n        ")]}}],null,!1,1262014893)}):e._e(),e._v(" "),e.dataVOParamKeyMap.projectName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","min-width":"60","class-name":"table-column",prop:"projectName",label:"项目名称"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.contractNum?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"contractNum",label:"合同编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(null==t.row.contractNum||""==t.row.contractNum?"-":t.row.contractNum)+"\n        ")]}}],null,!1,1977274730)}):e._e(),e._v(" "),e.dataVOParamKeyMap.contractName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","min-width":"60","class-name":"table-column",prop:"contractName",label:"合同名称"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.counselTypePeriod?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"counselTypePeriod",label:"咨询类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(null==t.row.counselTypePeriod||""==t.row.counselTypePeriod?"-":e.selectGetName(t.row.counselTypePeriod,e.radios))+"\n        ")]}}],null,!1,3307459688)}):e._e(),e._v(" "),e.dataVOParamKeyMap.cooperateCompany?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"cooperateCompany",label:"合作公司"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(null==t.row.cooperateCompany||""==t.row.cooperateCompany?"-":t.row.cooperateCompany)+"\n        ")]}}],null,!1,1386810365)}):e._e(),e._v(" "),e.dataVOParamKeyMap.seniorManagerName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"seniorManagerName",label:"所属高管"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.tenderTaskName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"tenderTaskName",label:"任务名称"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.departmentName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"departmentName",label:"所属部门"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.startDate?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"startDate",label:"开标时间"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.userName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"userName",label:"提审人"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.createUserName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"compilationUserName",label:"流转人"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.compilationUserName?t.row.compilationUserName:"历史数据，暂无流转人 "))])]}}],null,!1,1382154128)}):e._e(),e._v(" "),e._e(),e._v(" "),e.dataVOParamKeyMap.handleDate?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"handleDate",label:"流转时间"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.pending?r("el-table-column",{attrs:{"show-overflow-tooltip":!1,align:"center","class-name":"table-column line-breaking",prop:"pending",label:"任务"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{width:"50",type:"text",size:"small"},on:{click:function(a){return e.toContract(t.row)}}},[e._v(e._s(t.row.delegateTaskKey))])]}}],null,!1,673721193)}):e._e(),e._v(" "),e.dataVOParamKeyMap.currentStateName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"currentStateName",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.toContract(t.row)}}},[e._v(e._s(t.row.currentStateName))])]}}],null,!1,2196796512)}):e._e()],2):e._e()],1),e._v(" "),r("div",{staticStyle:{"margin-top":"30px"}},[r("el-button",{staticClass:"linear",attrs:{disabled:e.btnFlag,type:"primary"},on:{click:function(t){return e.batchPass()}}},[e._v("\n      批量通过\n    ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"查看流程图",visible:e.dialogImageVisible,width:"80%"},on:{"update:visible":function(t){e.dialogImageVisible=t}}},[r("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.processPicUrl}})],1)],1)},staticRenderFns:[]};var kt={components:{"form-search":_t},data:function(){return{tableShow:!0,total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],userPowerInfo:this.SStorage.getItem("userPowerInfo"),biaodata:[],screening:!!this.$route.query.screening,btns:[],searchType:"",projectName:"",dataVOParamKeyMap:{},radios:[{display:"造价咨询-编制",val:"0-0"},{display:"造价咨询-审核",val:"0-1"},{display:"造价咨询-全过程跟踪审计",val:"0-2"},{display:"造价咨询-全过程工程造价咨询",val:"0-3"},{display:"招标代理-施工",val:"1-0"},{display:"招标代理-监理",val:"1-1"},{display:"招标代理-设计",val:"1-2"},{display:"招标代理-勘察",val:"1-3"},{display:"招标代理-服务类",val:"1-4"},{display:"招标代理-采购",val:"1-5"},{display:"招标代理-其他",val:"1-6"}]}},created:function(){var e=this;if(e.btns=[],e.userPowerInfo.projectList){e.btns.push({id:"contract",name:"合同",uniqueId:"合同"})}if(e.userPowerInfo.tenderTaskList){e.btns.push({id:"tenderTask",name:"投标任务",uniqueId:"投标任务"})}},updated:function(){},methods:{search:function(e){var t=this;t.searchType=e.id,t.tenderTaskName=e.tenderTaskName,t.projectNum=e.projectNum,t.projectName=e.projectName,t.contractNum=e.contractNum,this.currentPage=1,t.currentChangePage(this.currentPage,t.pageSize)},toContract:function(e){"tenderTask"==this.searchType?(this.SStorage.setItem("/page/work/contract/tenderTask",{rowInfo:e,stateFlag:"tenderTask",titleName:e.tenderTaskName}),this.$router.push("/page/work/contract/tenderTask")):(this.SStorage.setItem("/page/work/contract/FoundItem",e),this.$router.push("/page/work/contract/FoundItem"))},handleSizeChange:function(e){this.pageSize=e,this.currentChangePage(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.currentChangePage(this.currentPage,this.pageSize)},currentChangePage:function(e,t){var a=this,r={searchType:a.searchType,tenderTaskName:a.tenderTaskName,pageNumber:e,pageSize:t,projectNum:a.projectNum,projectName:a.projectName,contractNum:a.contractNum};a.tableShow=!1,a.apiAddress("/work/query/searchCompletedList",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.dataVOParamKeyMap=e.data.dataVOParamKeyMap,a.biaodata=e.data.dataList,a.total=e.data.dataCount,a.tableShow=!0,e.data.dataCount?a.$emit("changeLabel",{name:"finishedLabel",count:a.total}):a.$emit("changeLabel",{name:"finishedLabel",count:0}))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},rowClass:function(e){e.row,e.column,e.rowIndex;if(10===e.columnIndex)return"color:#06A1EE"},selectGetName:function(e,t){for(var a=0;a<t.length;a++)if(t[a].val==e)return t[a].display}}},Ft={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"tableFinished--work-default"},[r("form-search",{attrs:{btns:e.btns,searchFlagObj:{projectNameFlag:e.dataVOParamKeyMap.projectName,showExport:!0}},on:{click:e.search}}),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[e.tableShow?r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.biaodata,border:"","cell-style":e.rowClass}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),e.dataVOParamKeyMap.sortNum?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"sortNum",label:"序号"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.projectNum?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"projectNum",label:"项目编号"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.projectName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","min-width":"200","class-name":"table-column",prop:"projectName",label:"项目名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t            \t"+e._s(""==t.row.projectName?"-":t.row.projectName)+"\n\t          \t")]}}],null,!1,649674357)}):e._e(),e._v(" "),e.dataVOParamKeyMap.contractNum?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,"min-width":"100",align:"center","class-name":"table-column",prop:"contractNum",label:"合同编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.toContract(t.row)}}},[e._v(e._s(""==t.row.contractNum?"-":t.row.contractNum))])]}}],null,!1,159890545)}):e._e(),e._v(" "),e.dataVOParamKeyMap.contractName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","min-width":"200","class-name":"table-column",prop:"contractName",label:"合同名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t            \t"+e._s(""==t.row.contractName?"-":t.row.contractName)+"\n\t          \t")]}}],null,!1,2388541525)}):e._e(),e._v(" "),e.dataVOParamKeyMap.tenderTaskName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"tenderTaskName",label:"任务名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t"+e._s(""==t.row.tenderTaskName?"-":t.row.tenderTaskName)+"\n\t\t\t\t\t")]}}],null,!1,2714961821)}):e._e(),e._v(" "),e.dataVOParamKeyMap.counselTypePeriod?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"counselTypePeriod",label:"咨询类型阶段"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t            "+e._s(null==t.row.counselTypePeriod||""==t.row.counselTypePeriod?"-":e.selectGetName(t.row.counselTypePeriod,e.radios))+"\n\t          ")]}}],null,!1,2662748392)}):e._e(),e._v(" "),e.dataVOParamKeyMap.cooperateCompany?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"cooperateCompany",label:"合作公司"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t            "+e._s(null==t.row.cooperateCompany||""==t.row.cooperateCompany?"-":t.row.cooperateCompany)+"\n\t          ")]}}],null,!1,2424277373)}):e._e(),e._v(" "),e.dataVOParamKeyMap.compilationUserName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"compilationUserName",label:"办理人"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.compilationUserName?t.row.compilationUserName:"历史数据，暂无办理人 "))])]}}],null,!1,2426603909)}):e._e(),e._v(" "),e.dataVOParamKeyMap.handleDate?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"handleDate",label:"办理时间"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.startDate?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"startDate",label:"开标时间"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.userName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"userName",label:"投标任务创建人"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.departmentName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"departmentName",label:"所属部门"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.createUserName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"createUserName",label:"创建人"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.createDate?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"createDate",label:"创建时间"}}):e._e()],2):e._e()],1),e._v(" "),r("div",{staticStyle:{"margin-top":"30px"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])],1)},staticRenderFns:[]};var Dt={components:{"form-search":_t},data:function(){return{tableShow:!0,total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],biaodata:[],tenderTaskName:"",userPowerInfo:this.SStorage.getItem("userPowerInfo"),searchType:"",projectName:"",btns:[],screening:!!this.$route.query.screening,dataVOParamKeyMap:{}}},created:function(){var e=this;if(e.btns=[],e.userPowerInfo.projectList){e.btns.push({id:"contract",name:"合同",uniqueId:"合同"})}if(e.userPowerInfo.tenderTaskList){e.btns.push({id:"tenderTask",name:"投标任务",uniqueId:"投标任务"})}},updated:function(){},methods:{search:function(e){var t=this;t.searchType=e.id,t.tenderTaskName=e.tenderTaskName,t.projectNum=e.projectNum,t.projectName=e.projectName,t.contractNum=e.contractNum,t.currentChangePage(1,t.pageSize)},toContract:function(e){"tenderTask"==this.searchType?(this.SStorage.setItem("/page/work/contract/tenderTask",{rowInfo:e,stateFlag:"tenderTask",titleName:e.tenderTaskName}),this.$router.push("/page/work/contract/tenderTask")):(this.SStorage.setItem("/page/work/contract/FoundItem",e),this.$router.push("/page/work/contract/FoundItem"))},handleSizeChange:function(e){this.pageSize=e,this.currentChangePage(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.currentChangePage(this.currentPage,this.pageSize)},currentChangePage:function(e,t){var a=this,r={searchType:a.searchType,tenderTaskName:a.tenderTaskName,pageNumber:e,pageSize:t,projectNum:a.projectNum,projectName:a.projectName,contractNum:a.contractNum};a.tableShow=!1,a.apiAddress("/work/query/searchHandleList",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.dataVOParamKeyMap=e.data.dataVOParamKeyMap,a.biaodata=e.data.dataList,a.total=e.data.dataCount,a.tableShow=!0,e.data.dataCount?a.$emit("changeLabel",{name:"handleLabel",count:a.total}):a.$emit("changeLabel",{name:"handleLabel",count:0}))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},rowClass:function(e){e.row,e.column,e.rowIndex;if(10===e.columnIndex)return"color:#06A1EE"}}},xt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"tableHandle--work-default"},[r("form-search",{attrs:{btns:e.btns,searchFlagObj:{projectNameFlag:e.dataVOParamKeyMap.projectName}},on:{click:e.search}}),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[e.tableShow?r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.biaodata,border:"","cell-style":e.rowClass}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),e.dataVOParamKeyMap.sortNum?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"sortNum",label:"序号"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.projectNum?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"projectNum",label:"项目编号"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.projectName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","min-width":"200","class-name":"table-column",prop:"projectName",label:"项目名称"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.contractNum?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"contractNum",label:"合同编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.toContract(t.row)}}},[e._v(e._s(t.row.contractNum))])]}}],null,!1,4205638653)}):e._e(),e._v(" "),e.dataVOParamKeyMap.contractName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","min-width":"200","class-name":"table-column",prop:"contractName",label:"合同名称"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.tenderTaskName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"tenderTaskName",label:"任务名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.toContract(t.row)}}},[e._v(e._s(t.row.tenderTaskName))])]}}],null,!1,758461951)}):e._e(),e._v(" "),e.dataVOParamKeyMap.startDate?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"startDate",label:"开标时间"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.userName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"userName",label:"投标任务创建人"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.tenderTaskSts?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"tenderTaskSts",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[e._v(e._s(1==t.row.tenderTaskSts?"未中标":"已中标"))])]}}],null,!1,1640371715)}):e._e(),e._v(" "),e.dataVOParamKeyMap.createDate?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"createDate",label:"创建时间"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.departmentName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"departmentName",label:"所属部门"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.endProjectUserName?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"endProjectUserName",label:"项目结束人"}}):e._e(),e._v(" "),e.dataVOParamKeyMap.endDate?r("el-table-column",{attrs:{"show-overflow-tooltip":!0,align:"center","class-name":"table-column",prop:"endDate",label:"项目结束时间"}}):e._e()],2):e._e()],1),e._v(" "),r("div",{staticStyle:{"margin-top":"30px"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])],1)},staticRenderFns:[]};var Tt={data:function(){return{show:!1,userPowerInfo:this.SStorage.getItem("userPowerInfo"),form:{newDate:"",tableData:[],customTab:[]},hourReasonFlag:!1,customizeHourFlag:!1}},created:function(){},methods:{deleteRow:function(e,t){t.splice(e,1)},addRow:function(e){e.push({taskName:null,completeTime:null,predictTime:null,allocatedTime:null,todayTime:null,reason:null})},handClose:function(e){this.$refs[e].resetFields()},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$confirm("确认提交吗?",{center:!0}).then(function(){t.apiAddress("/task/modify/updateMyHourListInfo",{taskList:t.form.tableData,nowDate:t.form.newDate}).then(function(e){e.data.status,t.saveTab(e.data.status)}).catch(function(e){t.stateDialog("error")})}).catch(function(e){})})},saveTab:function(e){var t=this;console.log("form",this.form.customTab),console.log(this.form.customTab),this.apiAddress("/task/save/saveCustomTime ",{userCustomTimes:this.form.customTab}).then(function(a){"success"==a.data.status&&"success"==e?(t.show=!1,t.stateDialog("success",a.data.message)):t.stateDialog("error",a.data.message)}).catch(function(e){t.stateDialog("error")})},hourslist:function(){this.$router.push("/page/work/hoursList")},searchMyHourListInfo:function(){var e=this;this.show=!0,this.apiAddress("/task/query/searchMyHourListInfo",{}).then(function(t){"success"==t.data.status?(e.form.newDate=t.data.currentDate,e.form.tableData=t.data.dataList):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error")}),this.apiAddress("/task/query/queryCustomTimeList",{}).then(function(t){"success"==t.data.status?e.form.customTab=t.data.dataList:e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error")})}}},Nt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"btnTool--work-defalut"},[a("div",[e.userPowerInfo&&e.userPowerInfo.hoursList?a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:e.hourslist}},[e._v("工时列表")]):e._e(),e._v(" "),e.userPowerInfo&&e.userPowerInfo.myHour?a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:e.searchMyHourListInfo}},[e._v("我的工时")]):e._e()],1),e._v(" "),a("el-dialog",{staticClass:"customManHour",attrs:{title:"我的工时",visible:e.show,width:"1200px",top:"20vh",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t},close:function(t){return e.handClose("form")}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-position":"top"}},[a("el-row",[a("el-col",{attrs:{span:12}},[e._v("当前日期："+e._s(e.form.newDate))])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("当日任务：")])],1),e._v(" "),a("el-table",{staticClass:"tabData",staticStyle:{width:"100%"},attrs:{data:e.form.tableData,border:""}},[a("el-table-column",{attrs:{prop:"taskName",label:"任务名称","show-overflow-tooltip":!0,align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endDate",label:"完成时间","show-overflow-tooltip":!0,align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"needHour",label:"预计占用工时","show-overflow-tooltip":!0,align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actualHourSum",label:"已分配工时合计","show-overflow-tooltip":!0,align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"今日工时分配",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{staticClass:"tab-formItem"},[a("el-input",{attrs:{placeholder:"请输入今日工时"},model:{value:t.row.actualHour,callback:function(a){e.$set(t.row,"actualHour",a)},expression:"scope.row.actualHour"}}),e._v(" "),a("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.taskUserId))]),e._v(" "),a("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.relationId))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"customizeHour",label:"自定义工时",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{staticClass:"tab-formItem"},[a("el-input",{attrs:{placeholder:"请输入自定义工时"},model:{value:t.row.customizeHour,callback:function(a){e.$set(t.row,"customizeHour",a)},expression:"scope.row.customizeHour"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"hourReason",label:"原因",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{staticClass:"tab-formItem"},[a("el-input",{attrs:{placeholder:"请输入原因"},model:{value:t.row.hourReason,callback:function(a){e.$set(t.row,"hourReason",a)},expression:"scope.row.hourReason"}})],1)]}}])})],1),e._v(" "),a("el-button",{staticClass:"linear customBtn",attrs:{type:"primary"},on:{click:function(t){return e.addRow(e.form.customTab)}}},[e._v("增加自定义工时")]),e._v(" "),a("el-table",{staticClass:"tabData",staticStyle:{width:"100%"},attrs:{data:e.form.customTab,border:""}},[a("el-table-column",{attrs:{label:"任务名称","show-overflow-tooltip":!0,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{staticClass:"tab-formItem",attrs:{prop:"customTab["+t.$index+"].taskName",rules:[{required:!0}]}},[a("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:t.row.taskName,callback:function(a){e.$set(t.row,"taskName",a)},expression:"scope.row.taskName"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"完成时间","show-overflow-tooltip":!0,align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{staticClass:"tab-formItem",attrs:{prop:"customTab["+t.$index+"].completeTime",rules:[{required:!0}]}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择完成时间"},model:{value:t.row.completeTime,callback:function(a){e.$set(t.row,"completeTime",a)},expression:"scope.row.completeTime"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"预计占用工时","show-overflow-tooltip":!0,align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{staticClass:"tab-formItem",attrs:{prop:"customTab["+t.$index+"].predictTime",rules:[{required:!0},{type:"number"}]}},[a("el-input",{attrs:{placeholder:"请输入预计占用工时"},model:{value:t.row.predictTime,callback:function(a){e.$set(t.row,"predictTime",e._n(a))},expression:"scope.row.predictTime"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"已分配工时合计","show-overflow-tooltip":!0,align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{staticClass:"tab-formItem",attrs:{prop:"customTab["+t.$index+"].allocatedTime",rules:[{required:!0},{type:"number"}]}},[a("el-input",{attrs:{placeholder:"请输入已分配工时合计"},model:{value:t.row.allocatedTime,callback:function(a){e.$set(t.row,"allocatedTime",e._n(a))},expression:"scope.row.allocatedTime"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"今日工时分配",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{staticClass:"tab-formItem",attrs:{prop:"customTab["+t.$index+"].todayTime",rules:[{required:!0},{type:"number"}]}},[a("el-input",{attrs:{placeholder:"请输入今日工时"},model:{value:t.row.todayTime,callback:function(a){e.$set(t.row,"todayTime",e._n(a))},expression:"scope.row.todayTime"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"原因",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{staticClass:"tab-formItem",attrs:{prop:"customTab["+t.$index+"].reason",rules:[{required:!0}]}},[a("el-input",{attrs:{placeholder:"请输入原因"},model:{value:t.row.reason,callback:function(a){e.$set(t.row,"reason",a)},expression:"scope.row.reason"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"hourReason",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,e.form.customTab)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var It={components:{"table-backlog":a("VU/8")(wt,Ct,!1,function(e){a("xw2/"),a("ATg0")},"data-v-0bd29a7c",null).exports,"table-finished":a("VU/8")(kt,Ft,!1,function(e){a("59A7"),a("l1sj")},"data-v-0e029a6a",null).exports,"table-handle":a("VU/8")(Dt,xt,!1,function(e){a("x1wu"),a("FLZe")},"data-v-3cc459d2",null).exports,"btn-tool":a("VU/8")(Tt,Nt,!1,function(e){a("5BAQ"),a("yxAv")},"data-v-43e09314",null).exports},data:function(){return{backlogLabel:0,finishedLabel:0,handleLabel:0,active:"backlog",newDate:"",isShowBadge:!1,departmentId:""}},created:function(){var e=this;this.newDate=(new Date).toLocaleDateString().replace(/\//g,"-"),this.bus.$on("changeDepartmentId",function(t){e.departmentId=t});var t=this;t.$axios.post("/workbench/sealApply/query/hasSealApplyTodo",{},t.config).then(function(e){t.isShowBadge=e.data}).catch()},methods:{changeLabel:function(e){this[e.name]=e.count},tabClick:function(e){this.active=e.name},toPleaseChapter:function(){this.$router.push({path:"/page/work/pleaseChapter",query:{departmentId:this.departmentId}})},handClose:function(e){this.$refs[e].resetFields()},submitForm:function(e){},hourslist:function(){this.$router.push("/page/work/hoursList")}}},At={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-defalut"},[a("el-badge",{staticClass:"item",attrs:{"is-dot":e.isShowBadge}},[a("el-button",{staticClass:"btn-please-chapter",attrs:{type:"primary"},on:{click:e.toPleaseChapter}},[a("i",{staticClass:"iconfont"},[e._v("")]),e._v("请章\n    ")])],1),e._v(" "),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabClick},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-tab-pane",{attrs:{label:"待办("+e.backlogLabel+")",name:"backlog"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已办",name:"finished"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"经手",name:"handle"}})],1),e._v(" "),a("btn-tool",{staticClass:"manHour"}),e._v(" "),a("div",{staticClass:"item-tab-bor linear"}),e._v(" "),a("table-"+e.active,{ref:e.active,tag:"component",on:{changeLabel:e.changeLabel}})],1)},staticRenderFns:[]};var St=a("VU/8")(It,At,!1,function(e){a("tDe1"),a("Ocdf")},"data-v-5faed5c4",null).exports,Lt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hoursList"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"任务名称"}},[a("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.formInline.taskName,callback:function(t){e.$set(e.formInline,"taskName",t)},expression:"formInline.taskName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.formInline.userName,callback:function(t){e.$set(e.formInline,"userName",t)},expression:"formInline.userName"}})],1),e._v(" "),a("el-form-item",{staticClass:"form-right"},[a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"span-method":e.objectSpanMethod,border:""}},[a("el-table-column",{attrs:{prop:"userName",label:"姓名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:{liang:"0"==t.row.highlight}},[e._v(e._s(t.row.taskName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"endDate",label:"任务完成时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:{liang:"0"==t.row.highlight}},[e._v(e._s(t.row.endDate))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"needHour",label:"预计占用工时",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:{liang:"0"==t.row.highlight}},[e._v(e._s(t.row.needHour))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"actualHourSum",label:"已占用工时",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:{liang:"0"==t.row.highlight}},[e._v(e._s(t.row.actualHourSum))])]}}])}),e._v(" "),e.userPowerInfo.hourListRemark?a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.goToModifyRemarks(t.$index,t.row)}}},[e._v("备注")]),e._v(" "),a("p",{staticStyle:{display:"none"}},[e._v(e._s(t.row.relationId))])]}}],null,!1,1619549324)}):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"工时备注",visible:e.centerDialogVisible,width:"700px",top:"30vh",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-position":"top"}},[a("el-form-item",{attrs:{prop:"desc"}},[a("el-input",{attrs:{type:"textarea",rows:8},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[a("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var $t=a("VU/8")({data:function(){return{formInline:{taskName:"",userName:"",date:""},tableData:[],spanArr:[],pos:0,total:0,currentPage:1,pageSizes:[10,20,30,40,50,60,70,80,90],pageSize:10,centerDialogVisible:!1,userPowerInfo:this.SStorage.getItem("userPowerInfo"),ruleForm:{desc:""},rules:{desc:[{required:!0,message:"请输入工时备注",trigger:"blur"}]},relationId:""}},created:function(){this.refer()},methods:{handClose:function(e){this.$refs[e].resetFields()},refer:function(){var e=this;this.apiAddress("/task/query/searchHourListInfo",{pageNumber:1,pageSize:this.pageSize,taskName:this.formInline.taskName,userName:this.formInline.userName,createDate:this.formInline.date}).then(function(t){"success"==t.data.status?(e.tableData=t.data.pagedData.dataList,e.total=t.data.pagedData.dataCount,e.currentChangePage(e.tableData,e.currentPage,e.pageSize)):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error")})},refers:function(){var e=this;this.apiAddress("/task/query/searchHourListInfo",{pageNumber:this.currentPage,pageSize:this.pageSize,taskName:this.formInline.taskName,userName:this.formInline.userName,createDate:this.formInline.date}).then(function(t){"success"==t.data.status?(e.tableData=t.data.pagedData.dataList,e.total=t.data.pagedData.dataCount,e.currentChangePage(e.tableData,e.currentPage,e.pageSize)):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error")})},onSubmit:function(){this.refer()},currentChangePage:function(e,t,a){for(this.tableData=e,this.spanArr=[],this.contentSpanArr=[],t=0;t<this.tableData.length;t++)0===t?(this.spanArr.push(1),this.pos=0,this.contentSpanArr.push(1),this.position=0):this.tableData[t].userId===this.tableData[t-1].userId?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=t)},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex;if(0===e.columnIndex){var a=this.spanArr[t];return{rowspan:a,colspan:a>0?1:0}}},handleSizeChange:function(e){this.pageSize=e,this.refers()},handleCurrentChange:function(e){this.currentPage=e,this.refers()},goToModifyRemarks:function(e,t){var a=this;this.centerDialogVisible=!0,this.relationId=t.relationId,this.apiAddress("/task/query/searchRemarksByRelationId",{relationId:this.relationId}).then(function(e){"success"==e.data.status?a.ruleForm.desc=e.data.dataVO.remarks:a.stateDialog("error",e.data.message)}).catch(function(e){a.stateDialog("error")})},submitForm:function(e){var t=this;this.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress("/task/modify/updateRemarksInfo",{relationId:t.relationId,remarks:t.ruleForm.desc}).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.centerDialogVisible=!1):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error")})}).catch(function(){})}}},Lt,!1,function(e){a("+U0j"),a("QF1x")},"data-v-219e6bb8",null).exports,Pt={data:function(){return{tabdata:[],total:100,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},dialogVisible:!1,isRead:!1,form:{refusalReason:"",approveUserName:"",delegateTaskId:""},biaodata:[]}},filters:{formatState:function(e){var t="";return"0"==e&&(t="未通过"),"1"==e&&(t="已通过"),"2"==e&&(t="审批中"),t},formatIsPagingSeal:function(e){var t="-";return"0"==e&&(t="否"),"1"==e&&(t="是"),t}},created:function(){this.querySealApplyRecord()},mounted:function(){var e=this;this.bus.$on("reLoadData",function(t){e.querySealApplyRecord()})},methods:{toDetails:function(e){this.$router.push(e.path)},handleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(a){t.form.refusalReason="",e()}).catch(function(e){})},chanel:function(){this.dialogVisible=!1,this.form.refusalReason=""},approval:function(e,t){"2"===t&&(this.dialogVisible=!0,this.isRead=!1,this.form.refusalReason=e.rejectReason,this.form.approveUserName=e.approveUserName)},querySealApplyRecord:function(){var e=this;e.$axios.post("/workbench/sealApply/query/querySealApplyRecord",m()({pageNumber:e.currentPage,pageSize:e.pageSize}),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(t){"success"==t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({message:t.data.message,type:"error",center:!0})}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},handleSizeChange:function(e){this.pageSize=e,this.querySealApplyRecord()},handleCurrentChange:function(e){this.currentPage=e,this.querySealApplyRecord()},currentChangePage:function(e,t,a){this.tabdata=e},rowClass:function(e){e.row,e.column,e.rowIndex;if(10===e.columnIndex)return"color:#06A1EE"}}},jt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tablePleaseRecordInChapter--work-pleaseChapter"},[r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:"","cell-style":e.rowClass}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"applyTime",label:"创建时间"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"applyReason",label:"用章原因","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"sealTypeText",label:"用章类型"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"isPagingSeal",label:"是否骑缝"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("formatIsPagingSeal")(t.row.isPagingSeal))+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"verifyState",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e._f("formatState")(t.row.verifyState))+"\n              "),e._v(" "),"0"==t.row.verifyState?r("span",{staticStyle:{display:"inline-block",height:"28px","line-height":"28px",color:"red",cursor:"pointer"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.approval(t.row,"2")}}},[e._v("拒绝原因")]):e._e()]}}])})],2)],1),e._v(" "),r("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[e.isRead?e._e():r("el-form-item",{attrs:{label:"拒绝人"}},[r("el-input",{attrs:{type:"text",disabled:!0},model:{value:e.form.approveUserName,callback:function(t){e.$set(e.form,"approveUserName",t)},expression:"form.approveUserName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"拒绝原因"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入拒绝原因",disabled:!e.isRead},model:{value:e.form.refusalReason,callback:function(t){e.$set(e.form,"refusalReason",t)},expression:"form.refusalReason"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.chanel}},[e._v("取 消")]),e._v(" "),e.isRead?r("el-button",{attrs:{type:"primary"},on:{click:e.noApproval}},[e._v("确 定")]):e._e()],1)],1),e._v(" "),r("div",{staticStyle:{"margin-top":"30px"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])],1)},staticRenderFns:[]};var qt,Rt=a("VU/8")(Pt,jt,!1,function(e){a("xVGA"),a("PuT5")},"data-v-6589df1c",null).exports,Bt=a("bOdI"),Ot=a.n(Bt),zt={data:function(){return{tabdata:[],total:100,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},delegateTaskId:"",attachmentPath:"",reReason:"",attachmentName:"",biaodata:[],screening:!!this.$route.query.screening,dialogVisible:!1,isRead:!1,form:{refusalReason:"",approveUserName:"",delegateTaskId:""},recordId:"",rules:{refusalReason:[{required:!0,message:"请输入拒绝原因",trigger:"change"}]},applyTime:"",delegateTaskKey:"",applyUserId:""}},filters:{formatState:function(e){var t="";return"0"==e&&(t="未通过"),"1"==e&&(t="已通过"),"2"==e&&(t="审批中"),t},formatIsPagingSeal:function(e){var t="-";return"0"==e&&(t="否"),"1"==e&&(t="是"),t},formatNull:function(e){return e||"-"}},props:["departmentId"],created:function(){this.queryApproveList()},mounted:function(){var e=this;this.bus.$on("b",function(t){e.queryApproveList()}),this.bus.$on("reLoadVerifyData",function(t){e.queryApproveList()})},methods:(qt={noApproval:function(){var e=this,t=this.form.refusalReason;this.$refs.form.validate(function(a){if(a){var r=e;r.$axios.post("/workbench/sealApply/modify/verify",m()({pageNumber:r.currentPage,pageSize:r.pageSize,rejectReason:t,recordId:e.form.recordId,departmentId:e._props.departmentId,delegateTaskId:e.form.delegateTaskId,applyTime:r.applyTime,delegateTaskKey:r.delegateTaskKey,applyUserId:r.applyUserId}),r.config).then(function(e){"success"===e.data.status?(r.dialogVisible=!1,r.bus.$emit("reLoadVerifyData")):(r.dialogVisible=!1,r.$message({message:e.data.message,type:"error",center:!0})),r.form.refusalReason=""}).catch(function(e){r.$message({message:e,type:"error",center:!0})})}})},chanel:function(){this.dialogVisible=!1,this.form.refusalReason=""},download:function(e,t){var a=document.createElement("iframe");a.src="/commonModule/downloadFile?filePathName="+t.attachmentPath+"&realFileName="+t.attachmentName,a.style.display="none",document.body.appendChild(a)},handleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(a){t.form.refusalReason="",e()}).catch(function(e){})},approval:function(e,t){var a=this,r=this;return r.applyTime=e.applyTime,r.delegateTaskKey=e.delegateTaskKey,r.applyUserId=e.applyUserId,"0"===t?(r.dialogVisible=!0,r.isRead=!0,r.form.delegateTaskId=e.delegateTaskId,void(r.form.recordId=e.recordId)):"2"===t?(r.dialogVisible=!0,r.isRead=!1,r.form.refusalReason=e.rejectReason,void(r.form.approveUserName=e.approveUserName)):void r.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){r.$axios.post("/workbench/sealApply/modify/verify",m()({pageNumber:r.currentPage,pageSize:r.pageSize,delegateTaskId:e.delegateTaskId,applyTime:e.applyTime,departmentId:a._props.departmentId,recordId:e.recordId,delegateTaskKey:e.delegateTaskKey,applyUserId:e.applyUserId,applyUserName:e.applyUserName}),r.config).then(function(e){"success"===e.data.status?r.queryApproveList():r.$message({message:e.data.message,type:"error",center:!0})}).catch(function(e){r.$message({message:e,type:"error",center:!0})})})},toDetails:function(e){this.$router.push(e.path)},handleSizeChange:function(e){this.pageSize=e,this.currentChangePage(this.biaodata,this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.currentChangePage(this.biaodata,this.currentPage,this.pageSize)},queryApproveList:function(){var e=this;e.$axios.post("/workbench/sealApply/query/queryApproveList",m()({pageNumber:e.currentPage,pageSize:e.pageSize}),e.config).then(function(t){"success"===t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({message:t.data.message,type:"error",center:!0})}).catch(function(t){e.$message({message:t,type:"error",center:!0})})}},Ot()(qt,"handleSizeChange",function(e){this.pageSize=e,this.queryApproveList()}),Ot()(qt,"handleCurrentChange",function(e){this.currentPage=e,this.queryApproveList()}),Ot()(qt,"currentChangePage",function(e,t,a){this.tabdata=e}),Ot()(qt,"rowClass",function(e){e.row,e.column,e.rowIndex;if(10===e.columnIndex)return"color:#06A1EE"}),qt)},Mt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tableInChapterReview--work-pleaseChapter"},[r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:"","cell-style":e.rowClass}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"applyTime",label:"创建时间"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"applyReason",label:"用章原因","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"sealTypeText",label:"用章类型","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"isPagingSeal",label:"是否骑缝"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("formatIsPagingSeal")(t.row.isPagingSeal))+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"applyUserName",label:"申请人"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"approveTime",label:"审批时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("formatNull")(t.row.approveTime))+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"verifyState",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.isHistory&&1!=t.row.isViewReason?r("label",[e._v("已通过")]):r("label",[e._v(e._s(e._f("formatState")(t.row.verifyState)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"t5",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.download(t.$index,t.row)}}},[e._v("下载")]),e._v(" "),0==t.row.isHistory?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.approval(t.row,"1")}}},[e._v("通过")]):e._e(),e._v(" "),0==t.row.isHistory?r("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.approval(t.row,"0")}}},[e._v("拒绝")]):e._e(),e._v(" "),1==t.row.isHistory&&1==t.row.isViewReason?r("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.approval(t.row,"2")}}},[e._v("拒绝原因")]):e._e()]}}])})],2)],1),e._v(" "),r("div",{staticStyle:{"margin-top":"30px"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)]),e._v(" "),r("el-dialog",{attrs:{title:"拒绝原因",visible:e.dialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules}},[e.isRead?e._e():r("el-form-item",{attrs:{label:"拒绝人"}},[r("el-label",[e._v(e._s(e.form.approveUserName))])],1),e._v(" "),e.isRead?r("el-form-item",{attrs:{label:"拒绝原因",prop:"refusalReason"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入拒绝原因",disabled:!e.isRead},model:{value:e.form.refusalReason,callback:function(t){e.$set(e.form,"refusalReason",t)},expression:"form.refusalReason"}})],1):r("el-form-item",{attrs:{label:"拒绝原因"}},[r("el-label",[e._v(e._s(e.form.refusalReason))])],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.chanel}},[e._v("取 消")]),e._v(" "),e.isRead?r("el-button",{attrs:{type:"primary"},on:{click:e.noApproval}},[e._v("确 定")]):e._e()],1)],1)],1)},staticRenderFns:[]};var Vt=a("VU/8")(zt,Mt,!1,function(e){a("iqBp"),a("TcNT")},"data-v-6e90e308",null).exports,Ut={props:["file","type","id","formData"],mounted:function(){},data:function(){return{zindex1:!0,zindex2:!1,show:!1,show2:!1,reviewHref:"",srcReviewHref:"",fileType:1,path:""}},watch:{show:{handler:function(){var e=this,t=e.file.materialPath;if(e.file.isGeneratedFile)e.show&&(e.show=!1,e.fileType=2,e.file.noSubmitPreview?e.noSubmitPreview():e.byFileStream());else if(e.show&&e.file&&t){e.show=!1;var a=t.substring(t.lastIndexOf("."),t.length);".jpg"==a||".jpeg"==a||".png"==a||".JPG"==a||".JPEG"==a||".PNG"==a?(e.fileType=1,e.preview(t)):".doc"==a||".docx"==a||".pdf"==a||".DOC"==a||".DOCX"==a||".PDF"==a?(e.fileType=2,e.preview(t)):e.stateDialog("error","只能支持.pdf、.docx、.doc、.png、.jpg、.jpeg、.JPG、.JPEG、.PNG、.DOC、.DOCX、.PDF格式")}},immediate:!0}},methods:{noSubmitPreview:function(){var e=this;e.apiAddress("/preview/checkFile/byFileStreamNoSubmitPreview",e.formData).then(function(t){if("success"===t.data.status){var a=t.data.prefixViewer,r=t.data.openOfficeServerIp,s=(t.data.prefixPath,t.data.filePath);s=s.replace(/\\/g,"/"),e.reviewHref=a+encodeURIComponent(r+s),e.show2=!0}else e.show=!1,e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})},byFileStream:function(){var e=this;e.$axios.post("/preview/checkFile/byFileStream",e.config).then(function(t){if("success"===t.data.status){var a=t.data.prefixViewer,r=t.data.openOfficeServerIp;e.reviewHref=a+encodeURIComponent(r+"?type="+e.type+"&id="+e.id),e.show2=!0}else e.show=!1,e.stateDialog("error",t.data.message)})},preview:function(e){var t=this;t.$axios.post("/preview/checkFile?filePath="+e,t.config).then(function(a){if("success"===a.data.status){var r=a.data.prefixViewer,s=a.data.openOfficeServerIp,o=a.data.prefixPath;t.reviewHref=r+encodeURIComponent(s+o+e),t.srcReviewHref=s+o+e,t.show2=!0}else t.show=!1,t.stateDialog("error",a.data.message)})},beforeClose:function(){this.show=!1,this.show2=!1,this.reviewHref="",this.srcReviewHref=""},open:function(){var e=this,t=0,a=setInterval(function(){e.zindex1=!e.zindex1,e.zindex2=!e.zindex2,100==++t&&clearInterval(a)},1e3);e.$previewRefresh()}}},Et={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dialog__browse-file",on:{click:function(e){e.stopPropagation()}}},[a("el-dialog",{class:{zindex1:e.zindex1,zindex2:e.zindex2},attrs:{visible:e.show2,width:"100%",height:"100%",center:"","before-close":e.beforeClose,"modal-append-to-body":!0,"close-on-click-modal":!1},on:{open:e.open}},[1==e.fileType?a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{preview:"0",src:e.srcReviewHref,alt:""}})]):a("div",{staticStyle:{"text-align":"center"}},[a("iframe",{attrs:{src:e.reviewHref,width:"99%",height:"900"}})])])],1)},staticRenderFns:[]};var Ht=a("VU/8")(Ut,Et,!1,function(e){a("aL9s"),a("WUTh")},"data-v-790d1530",null).exports,Wt={props:["file","type","id","formData"],mounted:function(){},data:function(){return{zindex1:!0,zindex2:!1,show:!1,show2:!1,reviewHref:"",srcReviewHref:"",fileType:1,path:""}},watch:{show:{handler:function(){var e=this,t=e.file.materialPath;if(e.file.isGeneratedFile)e.show&&(e.show=!1,e.fileType=2,e.file.noSubmitPreview?e.noSubmitPreview():e.byFileStream());else if(e.show&&e.file&&t){e.show=!1;var a=t.substring(t.lastIndexOf("."),t.length);".jpg"==a||".jpeg"==a||".png"==a||".JPG"==a||".JPEG"==a||".PNG"==a?(e.fileType=1,e.preview(t)):".doc"==a||".docx"==a||".pdf"==a||".DOC"==a||".DOCX"==a||".PDF"==a?(e.fileType=2,e.preview(t)):e.stateDialog("error","只能支持.pdf、.docx、.doc、.png、.jpg、.jpeg、.JPG、.JPEG、.PNG、.DOC、.DOCX、.PDF格式")}},immediate:!0}},methods:{noSubmitPreview:function(){var e=this;e.apiAddress("/preview/previewByContent",e.formData).then(function(t){if("success"===t.data.status){var a=t.data.filePath;a=a.replace(/\\/g,"/");var r=void 0,s=void 0;e.$axios.post("/preview/getContentPreviewConfig",e.config).then(function(t){if("success"===t.data.status){r=t.data.serverDomain,s=t.data.officeappsUrl;var o=encodeURIComponent(r+"preview/previewByPath?filePath="+a+"&fileName=文件预览.docx");e.reviewHref=s+o,e.show2=!0}else e.show=!1,e.stateDialog("error",t.data.message)})}else e.show=!1,e.stateDialog("error",t.data.message)})},byFileStream:function(){var e=this,t=void 0,a=void 0;e.$axios.post("/preview/getConfiguration",e.config).then(function(r){if("success"===r.data.status){t=r.data.serverDomain,a=r.data.officeappsUrl;var s=encodeURIComponent(t+"preview/previewByData?type="+e.type+"&id="+e.id);e.reviewHref=a+s,e.show2=!0}else e.show=!1,e.stateDialog("error",r.data.message)})},preview:function(e){var t=this,a=void 0,r=void 0,s=void 0,o=void 0;t.$axios.post("/preview/getConfiguration?filePath="+e,t.config).then(function(n){if("success"===n.data.status){if(a=n.data.serverDomain,r=n.data.officeappsUrl,s=n.data.prefixPath,o=n.data.picPreviewUrl,1===t.fileType)t.srcReviewHref=o+s+e,t.show2=!0;else if(2===t.fileType){if(".pdf"===e.substring(e.lastIndexOf("."),e.length).toLowerCase())t.reviewHref=a+"preview/pdfPreviewByPath?filePath="+s+e+"&fileName="+t.file.materialName;else{var i=encodeURIComponent(a+"preview/previewByPath?filePath="+s+e+"&fileName="+t.file.materialName);t.reviewHref=r+i}t.show2=!0}}else t.show=!1,t.stateDialog("error",n.data.message)})},beforeClose:function(){this.show=!1,this.show2=!1,this.reviewHref="",this.srcReviewHref=""},open:function(){var e=this,t=0,a=setInterval(function(){e.zindex1=!e.zindex1,e.zindex2=!e.zindex2,100==++t&&clearInterval(a)},1e3);e.$previewRefresh()}}},Kt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dialog__browse-file",on:{click:function(e){e.stopPropagation()}}},[a("el-dialog",{class:{zindex1:e.zindex1,zindex2:e.zindex2},attrs:{visible:e.show2,width:"100%",height:"100%",center:"","before-close":e.beforeClose,"modal-append-to-body":!0,"close-on-click-modal":!1},on:{open:e.open}},[1==e.fileType?a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{preview:"0",src:e.srcReviewHref,alt:""}})]):a("div",{staticStyle:{"text-align":"center"}},[a("iframe",{attrs:{src:e.reviewHref,width:"99%",height:"900"}})])])],1)},staticRenderFns:[]};var Jt=a("VU/8")(Wt,Kt,!1,function(e){a("sKCB"),a("06em")},"data-v-1bfbc122",null).exports,Qt={components:{"dialog-browse-file":Ht,previewFile:Jt},data:function(){return{tabdata:[],total:100,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],biaodata:[],config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},attachmentPath:"",attachmentName:"",isSignatured:"",screening:!!this.$route.query.screening,file:""}},created:function(){var e=this;this.bus.$on("c",function(t){e.queryApprovedRecord()}),this.bus.$on("reLoadSignSealData",function(t){e.queryApprovedRecord()}),this.queryApprovedRecord()},filters:{formatIsPagingSeal:function(e){var t="-";return"0"==e&&(t="否"),"1"==e&&(t="是"),t}},methods:{browseFile:function(e,t){var a=this.tool.deepCopy(t,this.tool.deepCopy);a.materialPath=t.attachmentPath,this.file=a,this.$refs.previewFile.show=!0},singSeal:function(e){var t=this;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.$axios.post("/workbench/sealApply/modify/signSeal",m()({pageNumber:t.currentPage,pageSize:t.pageSize,recordId:e.recordId,applyTime:e.applyTime,applyUserId:e.applyUserId}),t.config).then(function(e){"success"===e.data.status?t.bus.$emit("reLoadSignSealData"):t.$message({message:e.data.message,type:"error",center:!0})}).catch(function(e){t.$message({message:e,type:"error",center:!0})})})},queryApprovedRecord:function(){var e=this;e.$axios.post("/workbench/sealApply/query/queryApprovedRecord",m()({pageNumber:e.currentPage,pageSize:e.pageSize}),e.config).then(function(t){"success"===t.data.status?(e.biaodata=t.data.pagedData.dataList,e.currentChangePage1(e.biaodata,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({message:t.data.message,type:"error",center:!0})}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},download:function(e,t){var a=document.createElement("iframe");a.src="/commonModule/downloadFile?filePathName="+t.attachmentPath+"&realFileName="+t.attachmentName,a.style.display="none",document.body.appendChild(a)},handleSizeChange:function(e){this.pageSize=e,this.currentChangePage(this.biaodata,this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.currentChangePage(this.biaodata,this.currentPage,this.pageSize)},currentChangePage:function(e,t,a){this.queryApprovedRecord()},currentChangePage1:function(e,t,a){this.tabdata=e},rowClass:function(e){e.row,e.column,e.rowIndex;if(10===e.columnIndex)return"color:#06A1EE"}}},Gt={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"tableRecordedInChapter--work-pleaseChapter"},[r("div",{staticClass:"item-tab-bottom"},[r("div",{staticClass:"item-tab-bor linear"}),e._v(" "),r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:"","cell-style":e.rowClass}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"applyTime",label:"创建时间"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"applyReason",label:"用章原因","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"sealTypeText",label:"用章类型"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"isPagingSeal",label:"是否骑缝"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("formatIsPagingSeal")(t.row.isPagingSeal))+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"applyUserName",label:"申请人"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"approveTime",label:"审批时间"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"approveUserName",label:"审批人"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"t8",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.browseFile(t.$index,t.row)}}},[e._v("预览")]),e._v(" "),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.download(t.$index,t.row)}}},[e._v("下载")]),e._v(" "),r("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"!==t.row.isSignatured,expression:"scope.row.isSignatured!=='1'"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.singSeal(t.row)}}},[e._v("标记盖章")]),e._v(" "),r("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"===t.row.isSignatured,expression:"scope.row.isSignatured==='1'"}],attrs:{type:"text",size:"small",disabled:!0}},[e._v("已盖章")])]}}])})],2)],1),e._v(" "),r("preview-file",{ref:"previewFile",attrs:{file:e.file}}),e._v(" "),r("div",{staticStyle:{"margin-top":"30px"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])],1)},staticRenderFns:[]};var Yt={data:function(){return{tabdata:[],biaodata:[],active:"b",input:1,dialogVisible:!1,fileList:[],total:100,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],formData:new FormData,userPowerInfo:this.SStorage.getItem("userPowerInfo"),form:{applyReason:"",sealTypeId:[],sealTypeRadio:"",delegateUser:"",isPagingSeal:"",resourceFiles:"",resourceFileName:"",select1:"",select2:""},departmentId:"",resourceFiles:"",delegateUser:"",sealTypeId:[],sealTypeRadio:"",radioList:"",isApproveRole:"",isSignSealRole:"",assignUsersList:"",isPagingSeal:"",config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},rules:{applyReason:[{required:!0,message:"请输入用章原因",trigger:"blur"}],sealTypeId:[{required:!0,message:"请选择用章类型",trigger:"change"}],isPagingSeal:[{required:!0,message:"请选择是否加盖骑缝章",trigger:"change"}],resourceFiles:[{required:!0,message:"请选择用章附件",trigger:"change"}]}}},created:function(){this.getParams();var e=this;e.$axios.post("/workbench/sealApply/query/sealApplyInit",{},e.config).then(function(t){var a=t.data.dataList;e.isSignSealRole=a.isSignSealRole,e.isApproveRole=a.isApproveRole,"0"==a.isApproveRole&&"0"==a.isSignSealRole?e.active="a":"1"==a.isApproveRole?e.active="b":"1"==a.isSignSealRole&&(e.active="c")}).catch(function(t){e.$message({type:"error",message:t,center:!0})})},components:{"table-in-chapter-review":Vt,"table-please-record-in-chapter":Rt,"table-recorded-in-chapter":a("VU/8")(Qt,Gt,!1,function(e){a("NtVq"),a("ZDqD")},"data-v-3e1c4d3b",null).exports},methods:{toogleTab:function(e){this.bus.$emit(e.name)},exportData:function(){var e=document.createElement("iframe");e.src="/workbench/sealApply/exprot/exportSealApplySecord?realFileName=请章记录.xls",e.style.display="none",document.body.appendChild(e)},onSubmit:function(e){var t=this;this.$refs[e].validate(function(a){if(a){var r=t;r.formData.append("applyReason",r.form.applyReason),r.formData.append("sealTypeId",r.form.sealTypeId),r.formData.append("isPagingSeal",r.form.isPagingSeal),r.formData.append("delegateUser",r.form.delegateUser),r.formData.append("departmentId",t.departmentId),r.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){r.$axios.post("/workbench/sealApply/insert/submitSealApply",r.formData,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){r.dialogVisible=!1,r.formData=new FormData,"success"===t.data.status?(r.bus.$emit("reLoadData"),r.$message({type:"success",message:t.data.message,center:!0})):r.$message({type:"error",message:t.data.message,center:!0}),r.$refs[e].resetFields(),r.$refs.upload.clearFiles(),r.form.resourceFileName=""}).catch(function(e){r.formData=new FormData,r.$message({type:"error",message:e,center:!0})})}).catch(function(){r.formData=new FormData})}})},handleAvatarSuccess:function(e){this.formData.delete("resourceFiles"),this.formData.append("resourceFiles",e.raw),this.form.resourceFiles=URL.createObjectURL(e.raw),this.form.resourceFileName=e.name},fileSuccess:function(e,t,a){},initDialog:function(){this.dialogVisible=!0,this.initSealType(),this.initAssignUsers()},initSealType:function(){var e=this;e.$axios.post("/workbench/sealApply/query/querySealType",{},e.config).then(function(t){e.radioList=t.data.dataList}).catch(function(e){console.log(e)})},initAssignUsers:function(){var e=this;e.$axios.post("/workbench/sealApply/query/queryAssignUsers",{departmentId:this.departmentId},e.config).then(function(t){e.assignUsersList=t.data.dataList}).catch(function(e){console.log(e)})},beforeClose:function(e){this.$refs.form.resetFields(),this.$refs.upload.clearFiles(),this.form.resourceFileName="",this.dialogVisible=!1},getParams:function(){this.departmentId=this.$router.history.current.query.departmentId},currentChangePage:function(e,t,a){this.tabdata=e}}},Xt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-pleaseChapter"},[e.userPowerInfo.chapterExport?a("el-button",{staticClass:"btn-please-chapter btn-please-export",attrs:{type:"primary"},on:{click:e.exportData}},[a("i",{staticClass:"iconfont",staticStyle:{"font-size":"12px"}},[e._v("")]),e._v("\n       导出\n    ")]):e._e(),e._v(" "),a("el-button",{staticClass:"btn-please-chapter",attrs:{type:"primary"},on:{click:e.initDialog}},[a("i",{staticClass:"iconfont",staticStyle:{"font-size":"12px"}},[e._v("")]),e._v("\n       请章申请\n    ")]),e._v(" "),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.toogleTab},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},["1"===e.isApproveRole?a("el-tab-pane",{attrs:{label:"用章审核",name:"b"}},[a("table-in-chapter-review",{attrs:{departmentId:e.departmentId}})],1):e._e(),e._v(" "),"1"===e.isSignSealRole?a("el-tab-pane",{attrs:{label:"用章记录",name:"c"}},[a("table-recorded-in-chapter")],1):e._e(),e._v(" "),a("el-tab-pane",{attrs:{label:"请章记录",name:"a"}},[a("table-please-record-in-chapter")],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"请章申请",visible:e.dialogVisible,width:"550px",center:"","before-close":e.beforeClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",staticStyle:{"text-align":"left"},attrs:{"status-icon":!0,model:e.form,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"请章原因",prop:"applyReason"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入用章原因"},model:{value:e.form.applyReason,callback:function(t){e.$set(e.form,"applyReason",t)},expression:"form.applyReason"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用章类型",prop:"sealTypeId"}},[a("el-checkbox-group",{model:{value:e.form.sealTypeId,callback:function(t){e.$set(e.form,"sealTypeId",t)},expression:"form.sealTypeId"}},e._l(e.radioList,function(t){return a("el-checkbox",{key:t.sealTypeId,attrs:{label:t.sealTypeId}},[e._v(e._s(t.sealTypeText))])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否加盖骑缝章",prop:"isPagingSeal"}},[a("el-radio-group",{model:{value:e.form.isPagingSeal,callback:function(t){e.$set(e.form,"isPagingSeal",t)},expression:"form.isPagingSeal"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"upload upload1",attrs:{label:"用章附件",prop:"resourceFiles"}},[e._e(),e._v(" "),a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"auto-upload":!1,data:e.form,"on-success":e.fileSuccess}},[a("i",{staticClass:"el-icon-plus linear",staticStyle:{color:"white",padding:"2px 6px","border-radius":"5px"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入文件名称",disabled:!0},model:{value:e.form.resourceFileName,callback:function(t){e.$set(e.form,"resourceFileName",t)},expression:"form.resourceFileName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择审核人员"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"default",attrs:{label:"选择人员",prop:"delegateUser"}},[a("el-select",{attrs:{placeholder:"请选择人员"},model:{value:e.form.delegateUser,callback:function(t){e.$set(e.form,"delegateUser",t)},expression:"form.delegateUser"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.assignUsersList,function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})],2)],1)],1)],1)],1)],1),e._v(" "),a("p",{staticStyle:{"text-align":"center","background-color":"#FDE6DE",color:"#F15A24","margin-left":"-25px","margin-right":"-25px",padding:"6px"}},[e._v("\n        如不指定人员，将使用默认审批流程。\n      ")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Zt=a("VU/8")(Yt,Xt,!1,function(e){a("IvLv"),a("+U3F")},"data-v-0ae4bbd6",null).exports,ea={data:function(){var e="/page/work/contract/FoundItem";return"/page/item/contract/tenderTask"!=this.$route.path&&"/page/work/contract/tenderTask"!=this.$route.path||(e="/page/work/contract/tenderTask"),{titleName:this.SStorage.getItem(e).titleName,isFoundItem:/FoundItem/.test(e),onlyOfficeEditKey:"",reviewFilePath:"",reviewFileName:""}},mounted:function(){this.$nextTick(function(){var e=null,t=document.getElementsByClassName("container__left")[0],a=document.getElementsByClassName("container__right")[0],r=document.getElementsByClassName("handle")[0];function s(s){s=s||window.event,e=function(s){var o=null;(s.pageX||s.pageY)&&(o={x:s.pageX,y:s.pageY});if(o={x:s.clientX+document.body.scrollLeft-document.body.clientLeft,y:s.clientY+document.body.scrollTop-document.body.clientTop},e){var n=o.x-e.x,i=parseInt(t.offsetWidth)+n+"px",l=parseInt(a.offsetWidth)+n+"px";t.style.width=i,a.style.width=l,r.style.borderStyle="dashed",r.style.left=i}return o}(s)}r.style.left=parseInt(t.offsetWidth)+"px",document.getElementsByClassName("handle")[0].onmousedown=function(e){document.onmousemove=s,document.getElementsByTagName("body")[0].style.userSelect="none"},document.onmouseup=function(t){document.onmousemove=null,e=null,r.style.borderStyle="solid",document.getElementsByTagName("body")[0].style.userSelect="auto"}})}},ta={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-contract container__main"},[a("router-view",{staticClass:"aside--work-contract resize-bar container__left",attrs:{name:"aside"}}),e._v(" "),a("div",{staticClass:"content--work-contract container__right"},[a("h2",[a("i",{staticClass:"icon icon-round"}),e._v(e._s(e.titleName?e.titleName:"合同"))]),e._v(" "),e.isFoundItem?a("div",{staticClass:"main--work-contract"},[a("router-view",{attrs:{name:"center"}})],1):a("div",{staticClass:"main--work-contract"},[a("div",{staticClass:"center--work-contract"},[a("router-view",{attrs:{name:"center"}})],1),e._v(" "),a("div",{staticClass:"right--work-contract",attrs:{width:"200px"}},[a("router-view",{attrs:{name:"right"}})],1)])]),e._v(" "),a("div",{staticClass:"handle"})],1)},staticRenderFns:[]};var aa=a("VU/8")(ea,ta,!1,function(e){a("K/U9"),a("Utp3")},"data-v-3510c1db",null).exports,ra={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"costOf"},[t("router-view",{staticClass:"aside--costOf",attrs:{name:"aside"}}),this._v(" "),t("div",{staticClass:"content--costOf"},[this._m(0),this._v(" "),t("div",{staticClass:"main--costOf"},[t("div",{staticClass:"center--costOf"},[t("router-view",{attrs:{name:"center"}})],1),this._v(" "),t("div",{staticClass:"right--costOf",attrs:{width:"200px"}},[t("router-view",{attrs:{name:"right"}})],1)])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h2",[t("i",{staticClass:"icon icon-round"}),this._v("造价部详情")])}]};a("VU/8")({data:function(){return{}}},ra,!1,function(e){a("XDlR"),a("G5Ca")},"data-v-3f2ebdaa",null).exports;var sa={data:function(){return{form:{id:"",cause:""},rules:{cause:[{required:!0,message:"请输入作废原因",trigger:"blur"}]},projectInfo:{},hide:!1,projectPhase:[],projectPhaseCalculate:[],expandedKeys:[],checkedKeys:[this.SStorage.getItem("/page/work/contract/FoundItem").businessId],verifyStateFlag:!0,projectSts:"",centerDialogVisible:!1,centerDialogVisibleCancellation:!1,userPowerInfo:this.SStorage.getItem("userPowerInfo"),config:{headers:{"Content-Type":"application/json",Accept:"application/json"}},storageData:this.SStorage.getItem("/page/work/contract/FoundItem"),isProjectTermination:!1}},watch:{projectPhase:function(){var e=this;if(!e.projectPhase.length)return e.projectPhaseCalculate=[];var t=e.tool.deepCopy(e.projectPhase,e.tool.deepCopy),a=e.SStorage.getItem("/page/work/contract/FoundItem");a.projectId=t[0].id,a.projectSts=t[0].projectSts||"",e.SStorage.setItem("/page/work/contract/FoundItem",a);var r=[],s="",o=null,n=void 0;if(function t(a,i){for(var l=0,c=a.length;l<c;l++)e.checkedKeys&&e.checkedKeys.length?e.checkedKeys[0]==a[l].id&&(o=a[l]):(0==l&&2!=n||1==n)&&(s&&r.push(s),s=a[l].id,1==n&&(n=2)),i&&(a[l].parent=i),a[l].children&&a[l].children.length&&(a[l].children[0].children||n||(n=1),t(a[l].children,a[l]))}(t,null),o){var i=[];!function e(t){t.parent&&t.parent.id&&(i.push(t.parent.id),e(t.parent))}(o),e.expandedKeys=i,e.checkedKeys=[o.id]}else e.expandedKeys=r,e.checkedKeys=[s];e.projectPhaseCalculate=e.tool.deepCopy(e.projectPhase,e.tool.deepCopy),e.$nextTick(function(){e.$refs.tree.setCurrentKey(e.checkedKeys[0]);var t=setInterval(function(){var e=document.getElementsByClassName("is-current")[0];e&&(e.click(),clearInterval(t))},120)})},immediate:!0},mounted:function(){var e=this;this.getContractTreeData(),this.bus.$on("asideRefresh",function(t){e.$router.go(0)}),this.bus.$on("isProjectTermination",function(t){e.isProjectTermination=t}),this.searchInfo()},methods:{clickNode:function(e,t,a){this.trigger("click",e,t),this.nodeExpand(e,t,a)},nodeExpand:function(e,t,a){var r=0;clearInterval(s);var s=setInterval(function(){r++;var e=document.getElementsByClassName("node-dis"),t=document.getElementsByClassName("node-fin");if(3==r){clearInterval(s);for(var a=0,o=e.length;a<o;a++)e[a].parentNode.classList.add("node-disabled");for(var n=0,i=t.length;n<i;n++)t[n].parentNode.classList.add("node-finish")}},120)},trigger:function(e,t,a){var r=this.SStorage.getItem("/page/work/contract/FoundItem");t.projectId=r.projectId,t.projectSts=r.projectSts||"",t.businessId=t.id,this.SStorage.setItem("/page/work/contract/FoundItem",t),this.bus.$emit(e,t,a)},getContractTreeData:function(){var e=this;e.$axios.post("/project/query/searchProjectTree",m()({projectId:e.storageData.projectId}),e.config).then(function(t){"success"==t.data.status?(e.projectPhase=[t.data.dataVO],e.projectSts=e.storageData.projectSts,"1"!=e.projectSts&&e.userPowerInfo.projectClose&&(e.verifyStateFlag=!1)):e.$message({type:"error",message:t.data.message,center:!0})}).catch(function(e){console.log(e)})},cleanFormData:function(){this.form.id="",this.form.cause=""},submitFormCancellation:function(e){var t=this;this.$confirm("此操作将作废当前合同, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t;console.log("vm.storageData.projectId",a.storageData.projectId),a.$refs[e].validate(function(e){if(e){var r={contractId:a.form.id,projectId:a.storageData.projectId,invalidReason:a.form.cause};a.apiAddress("/contract/update/invalidContract",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.$message({message:e.data.message,type:"success",center:!0}),a.cleanFormData(),t.$router.go(0))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})}})}).catch(function(){})},submitForm:function(){var e=this;this.centerDialogVisible=!1;var t={projectId:this.SStorage.getItem("/page/work/contract/FoundItem").projectId},a=this;this.apiAddress("/project/close/closeProject",t).then(function(t){if("failure"==t.data.status)a.$message({message:t.data.message,type:"error",center:!0});else{a.$message({message:t.data.message,type:"success",center:!0});var r=a.storageData;r.projectSts="1",e.SStorage.setItem("/page/work/contract/FoundItem",r),e.$router.go(0)}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},renderContent:function(e,t){var a=this,r=t.node,s=t.data,o=(t.store,W()({},this.userPowerInfo,s.powerInfo)),n="",i="",l="",c="";o.projectModify&&1!=s.hideMenuFlg&&1!=s.isInvalidFlag&&(i=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("editProject",s)}}},["修改项目"])])),o.projectDelete&&1!=s.hideMenuFlg&&1!=s.isInvalidFlag&&(l=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("delProject",s)}}},[" 删除项目"])])),o.contractAdd&&1!=s.isInvalidFlag&&(c=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("addContract",s)}}},["添加合同"])]));var u=c||l||c?e("span",[e("el-dropdown",{attrs:{placement:"right-start"}},[e("span",{class:"tool"},[e("i",{class:"iconfont"},[""])]),e("el-dropdown-menu",{slot:"dropdown"},[i,l,c])])]):"",p="",m="",d="",f="",g="",h="";o.taskAdd&&"1"!=s.isInvalidFlag&&(p=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("createTask",s,"0")}}},["创建任务"])])),o.requestMenuAdd&&"1"!=s.isInvalidFlag&&(m=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("showAddRequestMenuForm",s)}}},["创建请款单"])])),o.contractDelete&&1!=s.hideMenuFlg&&"1"!=s.isInvalidFlag&&(d=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("delContract",s)}}},["删除合同"])])),o.contractNumModify&&1!=s.hideMenuFlg&&"1"!=s.isInvalidFlag&&(f=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("editContract",s)}}},["修改合同"])])),o.contractUserModify&&"1"!=s.isInvalidFlag&&(g=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("allocation",s)}}},["分配合同编撰人"])])),o.contractInvalid&&"1"!=s.isInvalidFlag&&(h=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.contractInvalid(s)}}},["合同作废"])]));var v=p||m||d||f||g||h?e("span",[e("el-dropdown",{attrs:{placement:"right-start"}},[e("span",{class:"tool"},[e("i",{class:"iconfont"},[""])]),e("el-dropdown-menu",{slot:"dropdown"},[p,m,d,f,g,h])])]):"",b="",y="",_="";this.superviseDeptId!==s.departmentId&&(b=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("aside-task-download",s)}}},["下载流程控制表"])])),r.data.verifyState||"1"===r.data.projectSts||"1"==s.isInvalidFlag||(o.taskDelete&&(y=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("delTask",s)}}},["删除任务"])])),o.taskModify&&(_=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("createTask",s,"1")}}},["修改任务"])])));var w=e("span",[e("el-dropdown",{attrs:{placement:"right-start"}},[e("span",{class:"tool"},[e("i",{class:"iconfont"},[""])]),e("el-dropdown-menu",{slot:"dropdown"},[y,_,b])])]);b||y||_||(w="");var C="";o.requestMenuDelete&&"1"!=s.isInvalidFlag&&(C=e("el-dropdown-item",{class:"tool-item",directives:[{name:"if",value:"!!powerInfo.requestMenuDelete"}]},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("delRequestMenu",s)}}},["删除请款单"])]));var k=C?e("span",[e("el-dropdown",{attrs:{placement:"right-start"}},[e("span",{class:"tool"},[e("i",{class:"iconfont"},[""])]),e("el-dropdown-menu",{slot:"dropdown"},[C])])]):"";switch("1"===r.data.projectSts&&(u="",v="",k=""),s.showTool){case"1":n=u;break;case"2":n=v;break;case"3":n=w;break;case"requestMent":n=k}var F="";return 1==s.isIgnore&&(F+="node-dis "),1==s.isFinish&&(F+="node-fin "),e("span",{class:F,style:"flex: 1;display: flex;align-items: center;justify-content: space-between;font-size: 14px;padding-right: 8px;"},[e("span",{attrs:{title:r.label}},[r.label]),this.isProjectTermination?"":n])},searchInfo:function(){var e=this,t={projectId:e.projectId};e.apiAddress("/project/query/searchProjectInfo",t).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{var a=t.data.dataVO;e.projectInfo=a}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},contractInvalid:function(e){this.centerDialogVisibleCancellation=!0,this.form.id=e.id}}},oa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"aside--work-contract"},[e._m(0),e._v(" "),a("el-row",[a("el-col",{staticStyle:{display:"flex"},attrs:{span:24}},[!e.hide&&e.projectPhaseCalculate.length&&1!=e.projectPhaseCalculate[0].isInvalidFlag?a("el-button",{ref:"state",staticClass:"linear win",staticStyle:{width:"100%","margin-top":"10px",padding:"0",color:"white"},attrs:{disabled:e.verifyStateFlag},on:{click:function(t){e.centerDialogVisible=!0}}},[e._v(e._s("1"===e.projectSts?"已完成":"结束项目")+"\n        ")]):e._e(),e._v(" "),e.userPowerInfo.projectInvalid&&e.projectPhaseCalculate.length&&1!=e.projectPhaseCalculate[0].isInvalidFlag?a("el-button",{ref:"state",staticClass:"linear win",staticStyle:{width:"100%",margin:"0","margin-top":"10px",padding:"0",color:"white"},on:{click:function(t){e.centerDialogVisibleCancellation=!0}}},[e._v(e._s("1"===e.projectSts?"已完成":"1"===e.projectInfo.isInvalidFlag?"已作废":"作废项目")+"\n        ")]):e._e(),e._v(" "),e.projectPhaseCalculate.length&&1==e.projectPhaseCalculate[0].isInvalidFlag?a("el-button",{staticClass:"linear",staticStyle:{width:"100%",margin:"0","margin-top":"10px",padding:"0",color:"white",background:"linear-gradient(to right, #909399 0, #C0C4CC 100%)!important"}},[e._v("已作废\n        ")]):e._e()],1)],1),e._v(" "),a("el-tree",{ref:"tree",class:{"full-height":e.hide},attrs:{data:e.projectPhaseCalculate,"show-checkbox":!1,accordion:"","render-content":e.renderContent,indent:5,"default-expanded-keys":e.expandedKeys,"node-key":"id"},on:{"node-click":e.clickNode,"node-expand":e.nodeExpand}}),e._v(" "),a("el-dialog",{attrs:{title:"结束项目",visible:e.centerDialogVisible,width:"400px",transition:"fade-in-linear",center:"","modal-append-to-body":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[e._v("\n      是否结束项目？\n      "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"作废合同",visible:e.centerDialogVisibleCancellation,width:"400px",transition:"fade-in-linear",center:"","modal-append-to-body":!1,"close-on-click-modal":!1},on:{closed:function(t){return e.cleanFormData()},"update:visible":function(t){e.centerDialogVisibleCancellation=t}}},[e._v("\n       是否作废合同？\n        "),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"作废原因",prop:"cause"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.cause,callback:function(t){e.$set(e.form,"cause",t)},expression:"form.cause"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisibleCancellation=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitFormCancellation("form")}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h2",[t("i",{staticClass:"icon icon-round"}),this._v("\n\t\t\t项目阶段\n\t\t")])}]};var na=a("VU/8")(sa,oa,!1,function(e){a("0tHQ"),a("V98I")},"data-v-2d9068ee",null).exports,ia=a("//Fk"),la=a.n(ia),ca=a("NYxO");r.default.use(ca.a);var ua=new ca.a.Store({state:{user:{},token:localStorage.getItem("token")||"",status:"",processConfigObject:{data:[],total:0,queryCondition:{uuid:"",processDictId:"",processName:"",nodeId:"",nodeName:"",departmentId:"",departmentName:"",jobId:"",jobName:""}},wholeProcess:{contractObject:{data:[],total:0,tenderInfo:[]},changeStandingBookObject:{data:[],total:0,contractInfo:[]},changeStandingBook:{data:[],total:0},statementObject:{data:[],total:0,contractInfo:[]},costObject:{data:[],total:0}}},mutations:{doLogin:function(e,t){console.log(t),localStorage.token=t.token,e.token=t.token},doLogout:function(e){localStorage.removeItem("token"),e.token=null}}}),pa=0,ma=void 0,da=function(){pa<=0||0===(pa-=1)&&ma.close()};i.a.defaults.headers.post["Content-Type"]="application/json",i.a.interceptors.request.use(function(e){e.data;return e.url,e},function(e){return la.a.error(e)}),i.a.interceptors.response.use(function(e){return 200===e.status?(da(),la.a.resolve(e)):(da(),la.a.reject(e))},function(e){if(console.log("error:",e),e.response.status){switch(e.response.status){case 401:da(),"/"!==pc.currentRoute.path&&pc.replace({path:"/"});break;case 404:yc.$message({center:!0,message:"网络请求不存在",type:"error"});break;default:yc.$message({center:!0,message:e.response.data.message,type:"error"})}return la.a.reject(e.response)}});var fa=function(e,t){return function(e,t){return new la.a(function(a,r){i.a.post(e,t).then(function(e){a(e)}).catch(function(e){401==!e.status&&r(e)})})}(e,t)},ga={data:function(){return{hide:!1,verifyStateFlag:!0,treeData:[],projectPhaseCalculate:[],expandedKeys:[],checkedKeys:[this.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.businessId],isMainHeadFlag:"",tenderTaskId:this.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId,storageData:this.SStorage.getItem("/page/work/contract/tenderTask"),userPowerInfo:this.SStorage.getItem("userPowerInfo"),state:"",verifyState:null,userType:"",centerDialogVisible:!1,form:{major:""},rules:{major:[{required:!0,message:"请确认是否中标",trigger:"change"}]},config:{headers:{"Content-Type":"application/json",Accept:"application/json"}}}},watch:{treeData:function(){var e=this;if(!e.treeData.length)return e.projectPhaseCalculate=[];var t=[],a="",r=null,s=void 0;if(function o(n,i){for(var l=0,c=n.length;l<c;l++)e.checkedKeys&&e.checkedKeys.length?e.checkedKeys[0]==n[l].id&&(r=n[l]):(0==l&&2!=s||1==s)&&(a&&t.push(a),a=n[l].id,1==s&&(s=2)),i&&(n[l].parent=i),n[l].children&&n[l].children.length&&(n[l].children[0].children||s||(s=1),o(n[l].children,n[l]))}(e.tool.deepCopy(e.treeData,e.tool.deepCopy),null),r){var o=[];!function e(t){t.parent&&t.parent.id&&(o.push(t.parent.id),e(t.parent))}(r),e.expandedKeys=o,e.checkedKeys=[r.id]}else e.expandedKeys=t,e.checkedKeys=[a];e.projectPhaseCalculate=e.tool.deepCopy(e.treeData,e.tool.deepCopy),e.$nextTick(function(){e.$refs.tree.setCurrentKey(e.checkedKeys[0]);var t=setInterval(function(){var e=document.getElementsByClassName("is-current")[0];if(e){e.click(),clearInterval(t);for(var a=document.getElementsByClassName("node-dis"),r=0,s=a.length;r<s;r++)a[r].parentNode.classList.add("node-disabled")}},120)})},immediate:!0},mounted:function(){var e=this;e.getContractTreeData(),e.showUserType(e.tenderTaskId),e.bus.$on("asideRefresh",function(t){e.getContractTreeData(),e.showUserType(e.tenderTaskId)})},updated:function(){var e=this;console.log("vm.verifyState",e.verifyState),console.log("vm.state",e.state),console.log("vm.userType",e.userType),console.log('vm.isMainHeadFlag=="1"',"1"==e.isMainHeadFlag),"1"==e.verifyState&&"1"!=e.state&&"2"!=e.state&&"1"==e.isMainHeadFlag?e.verifyStateFlag=!1:e.verifyStateFlag=!0},methods:{clickNode:function(e){var t=this.SStorage.getItem("/page/work/contract/tenderTask"),a={};a.businessId=e.id,a.tenderTaskId=t.rowInfo.tenderTaskId,a.projectSts=t.rowInfo.projectSts||"",this.SStorage.setItem("/page/work/contract/tenderTask",{rowInfo:a}),this.trigger("click",e)},trigger:function(e,t){this.bus.$emit(e,t)},getContractTreeData:function(){var e=this,t={tenderTaskId:this.storageData.rowInfo.tenderTaskId};fa("/tenderTask/query/searchTaskPeriodByTenderTaskId",t).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{var a=t.data.dataList;e.treeData=a,e.verifyState=a[0].verifyState,e.isMainHeadFlag=a[0].isMainHeadFlag,e.trigger("click",e.treeData[0]),a[0].tenderTaskSts&&(e.form.major=0==a[0].tenderTaskSts?"":a[0].tenderTaskSts),e.state=a[0].tenderTaskSts,e.bus.$emit("changeState",a[0].state),e.bus.$emit("changeBtnFlag",a[0].isCanRecall)}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},showUserType:function(e){var t=this,a={tenderTaskId:e};t.apiAddress("/tenderTask/query/showBtnType",a).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.userType=e.data.typeFlag,t.correctTenderStageMaterialFlag=2==t.userType||3==t.userType||4==t.userType,console.log("vm.userType",t.userType))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var a={tenderTaskId:t.tenderTaskId,tenderTaskSts:t.form.major},r=t;t.apiAddress("/tenderTask/modify/updateTenderTaskSts",a).then(function(e){"failure"==e.data.status?r.$message({message:e.data.message,type:"error",center:!0}):(r.$message({message:e.data.message,type:"success",center:!0}),r.getContractTreeData(),r.centerDialogVisible=!1)}).catch(function(e){r.$message({message:e,type:"error",center:!0})})})},renderContent:function(e,t){var a=this,r=t.node,s=t.data,o=(t.store,W()(this.userPowerInfo,s.powerInfo)),n="";if("1"==s.showTool){var i="",l="";!this.verifyState&&o&&(o.tenderTaskModify&&(i=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("update",s)}}},["修改"])])),o.tenderTaskDelete&&(l=e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("delete",s)}}},[" 删除"])]))),n=e("span",[e("el-dropdown",{attrs:{placement:"right-start"}},[e("span",{class:"tool"},[e("i",{class:"iconfont"},[""])]),e("el-dropdown-menu",{slot:"dropdown"},[i,l,e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("aside-tender-task-download",s)}}},["下载流程控制表"])])])])])}return e("span",{style:"flex: 1;display: flex;align-items: center;justify-content: space-between;font-size: 14px;padding-right: 8px;"},[e("span",{attrs:{title:r.label}},[r.label]),n])}}},ha={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"aside--work-contract"},[e._m(0),e._v(" "),e.hide?e._e():a("el-button",{ref:"state",staticClass:"linear win",staticStyle:{width:"100%","margin-top":"10px",padding:"0",color:"white"},attrs:{disabled:e.verifyStateFlag},on:{click:function(t){e.centerDialogVisible=!0}}},[e._v("\n\t\t\t"+e._s("1"===e.state?"未中标":"2"===e.state?"已中标":"中标状态")+"\n\t\t")]),e._v(" "),a("el-tree",{ref:"tree",class:{"full-height":e.hide},attrs:{data:e.treeData,"show-checkbox":!1,accordion:"","render-content":e.renderContent,indent:5,"default-expanded-keys":e.expandedKeys,"node-key":"id"},on:{"node-click":e.clickNode}}),e._v(" "),a("el-dialog",{attrs:{title:"中标状态",visible:e.centerDialogVisible,width:"710px",transition:"fade-in-linear",center:"","modal-append-to-body":!1},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"中标状态",prop:"major"}},[a("el-radio-group",{model:{value:e.form.major,callback:function(t){e.$set(e.form,"major",t)},expression:"form.major"}},[a("el-radio",{attrs:{label:"2"}},[e._v("已中标")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("未中标")])],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h2",[t("i",{staticClass:"icon icon-round"}),this._v("\n\t\t\t项目阶段\n\t\t")])}]};var va=a("VU/8")(ga,ha,!1,function(e){a("gDgP"),a("yIKp")},"data-v-7d9716f3",null).exports,ba={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cost-aside"},[this._m(0),this._v(" "),t("el-tree",{class:{"full-height":this.hide},attrs:{data:this.treeData,accordion:"","render-content":this.renderContent},on:{"node-click":this.clickNode}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h2",[t("i",{staticClass:"icon icon-round"}),this._v("\n\t\t\t造价部\n\t\t")])}]};a("VU/8")({data:function(){return{hide:!1,treeData:[]}},mounted:function(){this.getContractTreeData()},methods:{clickNode:function(e){"A1--A9"==e.label?this.$router.push("/page/report/details"):"编制成果文件"==e.label?this.$router.push("/page/report/prepare"):"收集资料"==e.label?this.$router.push("/page/report/collectingData"):"拟定工作计划"==e.label?this.$router.push("/page/report/drawUpAWorkPlan"):"踏勘现场"==e.label?this.$router.push("/page/report/costOfSiteVisit"):"修改完善"==e.label?this.$router.push("/page/report/costOfModifyThePerfect"):"存档"==e.label?this.$router.push("/page/report/costOfArchives"):"招标部A7"==e.label?this.$router.push("/page/report/costOfTender"):"招标部A8"==e.label&&this.$router.push("/page/report/costOfBids")},trigger:function(e,t){this.bus.$emit(e,t)},getContractTreeData:function(){this.treeData=[{label:"123456789",children:[{label:"请款",children:[{label:"A1--A9"},{label:"编制成果文件"},{label:"收集资料"},{label:"拟定工作计划"},{label:"修改完善"},{label:"踏勘现场"},{label:"存档"},{label:"往来函件"},{label:"招标部A7"},{label:"招标部A8"}]}]}],this.trigger("click",this.treeData[0])},renderContent:function(e,t){var a=this,r=t.node,s=t.data,o=(t.store,"");return"1"==s.showTool&&(o=e("span",[e("el-dropdown",{attrs:{placement:"right-start"}},[e("span",{class:"tool"},[e("i",{class:"iconfont"},[""])]),e("el-dropdown-menu",{slot:"dropdown"},[e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("update",s)}}},["修改"])]),e("el-dropdown-item",{class:"tool-item"},[e("button",{class:"edit-tool",on:{click:function(){return a.trigger("delete",s)}}},[" 删除"])])])])])),e("span",{style:"flex: 1;display: flex;align-items: center;justify-content: space-between;font-size: 14px;padding-right: 8px;"},[e("span",[r.label]),o])}}},ba,!1,function(e){a("1/je"),a("BYPX")},"data-v-079b30bd",null).exports;var ya={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"cost-Right"})},staticRenderFns:[]};a("VU/8")({},ya,!1,function(e){a("0VR4"),a("febr")},"data-v-796bc27e",null).exports;var _a={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-index"},[a("div",{staticClass:"matterForm"},[a("el-form",{attrs:{"label-position":e.top,"label-width":"80px",model:e.topForm}},[a("el-form-item",{attrs:{label:"工作内容说明"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"工作内容说明",disabled:!0},model:{value:e.topForm.textarea,callback:function(t){e.$set(e.topForm,"textarea",t)},expression:"topForm.textarea"}})],1)],1)],1)])},staticRenderFns:[]};a("VU/8")({data:function(){return{top:"top",topForm:{textarea:"我是工作内容说明我是工作内容说明我是工作内容说明"},active:this.$route.fullPath}},methods:{}},_a,!1,function(e){a("KU3n"),a("mu5E")},"data-v-4e10d9c4",null).exports;var wa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A1"},[a("div",{staticClass:"matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",[e._v("成果文件流程控制表")])]),e._v(" "),a("el-col",{staticClass:"item-tab-chuang",attrs:{span:6}},[a("div",{on:{click:e.redact}},[a("span",{staticClass:"linear el-icon-edit"}),e._v("\n          编辑\n        ")])])],1),e._v(" "),e._m(0),e._v(" "),e._m(1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.centerDialogVisible,width:"500px",top:"20vh",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"tenderTaskName"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入成果文件编号"},model:{value:e.ruleForm.tenderTaskName,callback:function(t){e.$set(e.ruleForm,"tenderTaskName",t)},expression:"ruleForm.tenderTaskName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"成果文件份数",prop:"copies"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入成果文件份数"},model:{value:e.ruleForm.copies,callback:function(t){e.$set(e.ruleForm,"copies",t)},expression:"ruleForm.copies"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"matterTable"},[a("table",{staticClass:"align-center"},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("合同编号：")])]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("项目类别：")])]),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("项目名称：")])]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("成果文件编号：")])]),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"})]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("成果文件份数：")])]),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"})]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})]),e._v(" "),a("td",[a("div",{staticClass:"cell"})]),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"})]),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v("签    名")])]),e._v(" "),a("td",[a("div",{staticClass:"cell"})]),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v("时   间")])]),e._v(" "),a("td",[a("div",{staticClass:"cell"})]),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v("备    注")])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v("编 制 人:")])]),e._v(" "),a("td",{attrs:{colspan:"8"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v("审 核 人:")])]),e._v(" "),a("td",{attrs:{colspan:"8"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v("质量控制人:")])]),e._v(" "),a("td",{attrs:{colspan:"8"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v("审 定 人:")])]),e._v(" "),a("td",{attrs:{colspan:"8"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v("总经理签发:")])]),e._v(" "),a("td",{attrs:{colspan:"8"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v("存 档 人:")])]),e._v(" "),a("td",{attrs:{colspan:"8"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v("存档审核人:")])]),e._v(" "),a("td",{attrs:{colspan:"8"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v("存档延迟原因（部门经理签字确认）:")])]),e._v(" "),a("td",{attrs:{colspan:"8"}},[a("div",{staticClass:"cell"})])])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"matter-label"},[a("p",[e._v("注：1.本表与工作底稿一并流转，逐级复核并签字。")]),e._v(" "),a("p",[e._v("2.必须随本表流转的工作底稿包括工程造价预算审核意见、结算审核报告、报审资料、工程清单控制价、合同及进度款审核意见、招标代理成果文件。")]),e._v(" "),a("p",[e._v("3.每一步骤执行人必须在认真执行各项程序后签字。")]),e._v(" "),a("p",[e._v(" 4.存档时间规定：造价部为项目完成后10个工作日；招标代理部为项目完成后15个工作日；项目管理部为项目完成后20个工作日。")]),e._v(" "),a("p",[e._v("5.全部流转完毕后，随表附工作底稿交质量控制部审核，由行政部归档。")])])}]};var Ca={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A1"},[a("div",{staticClass:"matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",[e._v("回访记录表")])])],1),e._v(" "),a("div",{staticClass:"matterTable"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("项目委托单位 :")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("164576466576")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("合同编号 :")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("我的迷你版项目")])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("项目名称 :")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("哈哈哈哈我哪里知道")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("服务内容 :")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("110120119")])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[a("div",[e._v("序号")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("评价事项")])]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",[e._v("委托单位意见")])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[a("div",[e._v("1")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("业务水平")])]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"checkbox"},[a("span"),e._v("很满意\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("满意\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("一般\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("较差\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("很差\n          ")])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[a("div",[e._v("2")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("管理能力")])]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"checkbox"},[a("span"),e._v("很满意\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("满意\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("一般\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("较差\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("很差\n          ")])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[a("div",[e._v("3")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("管理能力")])]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"checkbox"},[a("span"),e._v("很满意\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("满意\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("一般\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("较差\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("很差\n          ")])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:2}},[a("div",[e._v("4")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("职业道德")])]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"checkbox"},[a("span"),e._v("很满意\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("满意\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("一般\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("较差\n          ")]),e._v(" "),a("div",{staticClass:"checkbox"},[a("span"),e._v("很差\n          ")])])],1)],1),e._v(" "),e._m(0)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"matter-label"},[t("p",[this._v("委托方建议：")])])}]};var ka={data:function(){return{top:"top",topForm:{textarea:"我是工作内容说明我是工作内容说明我是工作内容说明"},active:this.$route.fullPath}},components:{costA1:a("VU/8")({data:function(){return{centerDialogVisible:!1,ruleForm:{tenderTaskName:"",copies:""},rules:{tenderTaskName:[{required:!0,message:"请输入成果文件编号",trigger:"blur"}],copies:[{required:!0,message:"请输入成果文件份数",trigger:"blur"}]}}},methods:{handClose:function(e){this.$refs[e].resetFields()},redact:function(){this.centerDialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.stateDialog("error","验证失败"),!1;t.centerDialogVisible=!1,t.stateDialog("success","提交成功")})}}},wa,!1,function(e){a("dPpO"),a("pHhd")},"data-v-70067dac",null).exports,costA9:a("VU/8")({data:function(){return{}},methods:{}},Ca,!1,function(e){a("wAYL")},null,null).exports},methods:{}},Fa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-index"},[a("div",{staticClass:"matterForm"},[a("el-form",{attrs:{"label-position":e.top,"label-width":"80px",model:e.topForm}},[a("el-form-item",{attrs:{label:"工作内容说明"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"工作内容说明",disabled:!0},model:{value:e.topForm.textarea,callback:function(t){e.$set(e.topForm,"textarea",t)},expression:"topForm.textarea"}})],1)],1)],1),e._v(" "),a("el-tabs",{staticClass:"tabs",attrs:{type:"card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-tab-pane",{attrs:{label:"A1",name:"/page/report/details",lazy:!0}},[a("costA1")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"A9",name:"/page/report/details/a9",lazy:!0}},[a("costA9")],1)],1)],1)},staticRenderFns:[]};a("VU/8")(ka,Fa,!1,function(e){a("EAWR"),a("teEF")},"data-v-dc9cbba0",null).exports;var Da={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"0",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:"",input16:"",input17:"",input18:"",input19:""},rule:{input3:[{required:!0,message:"请选择报告日期",trigger:"change"}],input10:[{required:!0,message:"请选择法规颁布年份",trigger:"change"}],input11:[{required:!0,message:"请选择法规颁布年份",trigger:"change"}],input13:[{required:!0,message:"请选择法规颁布年份",trigger:"change"}],input14:[{required:!0,message:"请输入建筑工程人工费",trigger:"blur"}],input15:[{required:!0,message:"请输入装饰工程人工费",trigger:"blur"}],input16:[{required:!0,message:"请输入安装工程人工费",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent),this.form.input11=this.tool.formatToDate(this.form.input11),this.form.input13=this.tool.formatToDate(this.form.input13))}}},xa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input19"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input19,callback:function(t){e.$set(e.form,"input19",t)},expression:"form.input19"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n        工程概况\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程名称",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入工程名称"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程地点",prop:"input6"}},[a("el-input",{attrs:{placeholder:"请输入工程地点"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑规模/范围",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入建筑规模/范围"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"编制范围",prop:"input8"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入编制范围"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n        编制依据\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"图纸、文件",prop:"input9"}},[a("template",{slot:"label"},[e._v("\n            图纸、文件\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"图纸、设计文件，标出版本时间信息"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入图纸、文件"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"法规颁布年份",prop:"input10"}},[a("template",{slot:"label"},[e._v("\n            法规颁布年份\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"《北京市建设工程计价依据——概算定额》及相应费用文件、北京市建设工程造价管理部门颁布的相关文件及规定"}})]),e._v(" "),a("el-date-picker",{attrs:{type:"year",placeholder:"请选择法规颁布年份"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"法规颁布年份",prop:"input11"}},[a("template",{slot:"label"},[e._v("\n            法规颁布年份"),a("i",{staticClass:"el-icon-info",attrs:{title:"北京市《北京工程造价信息》及市场询价"}})]),e._v(" "),a("el-date-picker",{attrs:{type:"month",placeholder:"请选择法规颁布年份"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"计量说明",prop:"input12"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入计量说明"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n        计价说明\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"法规颁布年份",prop:"input13"}},[a("template",{slot:"label"},[e._v("\n            法规颁布年份"),a("i",{staticClass:"el-icon-info",attrs:{title:"《北京工程造价信息》及市场询价编制"}})]),e._v(" "),a("el-date-picker",{attrs:{type:"month",placeholder:"请输入法规颁布年份"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑工程人工费/工日",prop:"input14"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入建筑工程人工费/工日"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"装饰工程人工费/工日",prop:"input15"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入装饰工程人工费/工日"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"安装工程人工费/工日",prop:"input16"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入安装工程人工费/工日"},model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"费率均执行指导费率编制",prop:"input17"}},[a("template",{slot:"label"},[e._v("\n            费率均执行指导费率编制"),a("i",{staticClass:"el-icon-info",attrs:{title:"执行指导费率编制"}})]),e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"请输入费率均执行指导费率编制"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"弃土/渣土消纳运距按15km计价",prop:"input18"}},[a("template",{slot:"label"},[e._v("\n            弃土/渣土消纳运距按15km计价"),a("i",{staticClass:"el-icon-info",attrs:{title:"弃土/渣土消纳运距按15km计价"}})]),e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"请输入弃土/渣土消纳运距按15km计价"},model:{value:e.form.input18,callback:function(t){e.$set(e.form,"input18",t)},expression:"form.input18"}})],2)],1)],1)],1)])},staticRenderFns:[]};var Ta=a("VU/8")(Da,xa,!1,function(e){a("FsR9"),a("benM")},"data-v-0f6d5ad0",null).exports,Na={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"1",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:""},rules:{input3:[{required:!0,message:"请选择报告日期",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent))}}},Ia={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"PrepareTheEstimate"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input14"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          工程概况\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程名称",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入工程名称"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程地点",prop:"input6"}},[a("el-input",{attrs:{placeholder:"请输入工程地点"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑规模/范围",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入建筑规模/范围"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑功能及分类",prop:"input8"}},[a("el-input",{attrs:{placeholder:"请输入建筑功能及分类"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"编制范围",prop:"input9"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入编制范围"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"编制依据",prop:"input10"}},[a("template",{slot:"label"},[e._v("\n              编制依据\n              "),a("i",{staticClass:"el-icon-info",attrs:{title:"提示：与建设项目相关的工程地质资料、设计文件、图纸或有关设计专业提供的主要工程量和主要设备清单等"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入编制依据"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"估算说明",prop:"input11"}},[a("template",{slot:"label"},[e._v("\n              估算说明\n              "),a("i",{staticClass:"el-icon-info",attrs:{title:"说明：如果工程费用采用单方造价指标，现有的资料又不够充分显示项目信息，例如地基处理方式，结构类型，装修标准，机电系统配置，可在此进行系统拟定，拟定时应描述全部单体及室外工程的全部工程内容。"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入估算说明"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"估算外费用",prop:"input12"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入估算外费用"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"其他说明",prop:"input13"}},[a("el-input",{attrs:{placeholder:"请输入其他说明"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}})],1)],1)],1)],1)])],1)},staticRenderFns:[]};var Aa=a("VU/8")(Na,Ia,!1,function(e){a("fyct"),a("TvZN")},"data-v-4baab09a",null).exports,Sa={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"2",gutter:40,options:[{name:"单价结算",id:"1"},{name:"固定总价结算",id:"2"},{name:"据实结算",id:"3"}],form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:"",input16:"",input17:"",input18:"",input19:""},rules:{input3:[{required:!0,message:"请选择报告日期",trigger:"blur"}],input8:[{required:!0,message:"请选择合同开竣工日期",trigger:"blur"}],input9:[{required:!0,message:"请选择实际开竣工日期",trigger:"blur"}],input10:[{required:!0,message:"请输入合同金额",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent),this.form.input8=this.tool.formatTosplit(this.form.input8),this.form.input9=this.tool.formatTosplit(this.form.input9))}}},La={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"PrepareTheSettlement"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input19"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input19,callback:function(t){e.$set(e.form,"input19",t)},expression:"form.input19"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          工程概况\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程名称",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入工程名称"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程地点",prop:"input6"}},[a("el-input",{attrs:{placeholder:"请输入工程地点"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑规模/范围",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入建筑规模/范围"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同开竣工日期",prop:"input8"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"实际开竣工日期",prop:"input9"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同金额",prop:"input10"}},[a("el-input",{attrs:{placeholder:"请输入合同金额"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结算方式",prop:"input11"}},[a("el-select",{attrs:{placeholder:"请选择结算方式"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发包人",prop:"input12"}},[a("el-input",{attrs:{placeholder:"请输入发包人"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"承包人",prop:"input13"}},[a("el-input",{attrs:{placeholder:"请输入承包人"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设计单位",prop:"input14"}},[a("el-input",{attrs:{placeholder:"请输入设计单位"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"监理单位",prop:"input15"}},[a("el-input",{attrs:{placeholder:"请输入监理单位"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"编制范围",prop:"input16"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入编制范围"},model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"编制依据",prop:"input17"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入编制依据"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"有关计量计价说明",prop:"input18"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入有关计量计价说明"},model:{value:e.form.input18,callback:function(t){e.$set(e.form,"input18",t)},expression:"form.input18"}})],1)],1)],1)],1)])],1)},staticRenderFns:[]};var $a=a("VU/8")(Sa,La,!1,function(e){a("mr9r"),a("2kge")},"data-v-32ef20e6",null).exports,Pa={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"3",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:"",input16:"",input17:"",input18:""},rules:{input3:[{required:!0,message:"请选择报告日期",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent))}}},ja={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"preparationOfFinalAccounts"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input18"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input18,callback:function(t){e.$set(e.form,"input18",t)},expression:"form.input18"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"项目概况",prop:"input5"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入项目概况"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"会计账务处理、财产物资清理及债权债务的清偿情况",prop:"input6"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入会计账务处理、财产物资清理及债权债务的清偿情况"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"项目支出预算、投资计划和资金到位情况",prop:"input7"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入项目支出预算、投资计划和资金到位情况"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"项目建设资金使用、结余情况",prop:"input8"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入项目建设资金使用、结余情况"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"概（预）算执行情况及分析",prop:"input9"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入概（预）算执行情况及分析"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"尾工工程情况",prop:"input10"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入尾工工程情况"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"历次审计、检查、稽查及整改情况",prop:"input11"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入历次审计、检查、稽查及整改情况"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"主要技术经济指标的分析、计算情况",prop:"input12"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入主要技术经济指标的分析、计算情况"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"项目管理经验、问题和建议",prop:"input13"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入项目管理经验、问题和建议"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"预备费动用情况",prop:"input14"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入预备费动用情况"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"招投标情况、工程政府采购情况、合同履行情况",prop:"input15"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入招投标情况、工程政府采购情况、合同履行情况"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"征地拆迁补偿情况、移民安置情况",prop:"input16"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入征地拆迁补偿情况、移民安置情况"},model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"需说明的其他事项",prop:"input17"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入需说明的其他事项"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],1)],1)],1)],1)])],1)},staticRenderFns:[]};var qa=a("VU/8")(Pa,ja,!1,function(e){a("TJ9x"),a("iMw2")},"data-v-263d2b75",null).exports,Ra={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"4",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",tenderList:[],input13:"",input14:"",input15:"",input16:"",input17:"",input18:"",input19:"",input20:"",input21:"",input22:"",input23:"",input24:"",input25:"",input26:"",input27:"",input28:"",input29:"",input30:"",input31:"",input32:"",input33:"",input34:"",input35:""},rules:{input3:[{required:!0,message:"请选择报告日期",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{addAform:function(){this.form.tenderList.push({input10:"",input11:"",input12:""})},colseForm:function(e){this.form.tenderList.splice(e,1)},getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent),this.form.input9=this.tool.formatToDate(this.form.input9))}}},Ba={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prepareTenderClearanceReport"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input35"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input35,callback:function(t){e.$set(e.form,"input35",t)},expression:"form.input35"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          工程概况\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程名称",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入工程名称"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程地点",prop:"input6"}},[a("el-input",{attrs:{placeholder:"请输入工程地点"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑规模/范围",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入建筑规模/范围"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"招标范围",prop:"input8"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入招标范围"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          投标文件总体对比分析\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          工程名称:"+e._s(e.projectName)+"\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收到本工程中标单位的投标文件时间",prop:"input9"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"add addtwo",attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("span",[e._v("中标单位投标函")]),e._v(" "),a("i",{staticClass:"el-icon-plus btn-plus",on:{click:e.addAform}})])],1),e._v(" "),e._l(e.form.tenderList,function(t,r){return a("el-row",{key:r,staticClass:"addform",attrs:{gutter:e.gutter}},[a("el-button",{staticClass:"colseform",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(t){return e.colseForm(r)}}}),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"投标单位",prop:"input10"}},[a("el-input",{attrs:{placeholder:"请输入投标单位"},model:{value:t.input10,callback:function(a){e.$set(t,"input10",a)},expression:"item.input10"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"中标价（RMB）",prop:"input11"}},[a("el-input",{attrs:{placeholder:"请输入中标价（RMB）"},model:{value:t.input11,callback:function(a){e.$set(t,"input11",a)},expression:"item.input11 "}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"其中暂列金额及专业工程分包",prop:"input12"}},[a("el-input",{attrs:{placeholder:"请输入其中暂列金额及专业工程分包"},model:{value:t.input12,callback:function(a){e.$set(t,"input12",a)},expression:"item.input12"}})],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"控制价",prop:"input13"}},[a("el-input",{attrs:{placeholder:"请输入控制价"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"中标价低于控制价",prop:"input14"}},[a("el-input",{attrs:{placeholder:"请输入中标价低于控制价"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"约占控制价",prop:"input15"}},[a("el-input",{attrs:{placeholder:"请输入约占控制价"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}},[a("template",{slot:"append"},[e._v("%")])],2)],1)],1)],1)],2),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          投标文件完整性分析\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"1.投标函及投标函附录",prop:"input16"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入投标函及投标函附录"},model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"2.投标报价汇总表",prop:"input17"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入投标报价汇总表"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"3.工程量清单编制",prop:"input19"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入工程量清单编制"},model:{value:e.form.input19,callback:function(t){e.$set(e.form,"input19",t)},expression:"form.input19"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          投标价对比\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"1.算术复核结果",prop:"input20"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入算术复核结果"},model:{value:e.form.input20,callback:function(t){e.$set(e.form,"input20",t)},expression:"form.input20"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"投标单位",prop:"input36"}},[a("el-input",{attrs:{placeholder:"请输入投标单位"},model:{value:e.form.input36,callback:function(t){e.$set(e.form,"input36",t)},expression:"form.input36"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          投标文件商务标详细分析\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"总报价分析如下",prop:"input21"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入总报价分析如下"},model:{value:e.form.input21,callback:function(t){e.$set(e.form,"input21",t)},expression:"form.input21"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          分部分项综合单价分析\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"综合单价中人工单价",prop:"input22"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入综合单价中人工单价"},model:{value:e.form.input22,callback:function(t){e.$set(e.form,"input22",t)},expression:"form.input22"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"取费费率",prop:"input23"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入取费费率"},model:{value:e.form.input23,callback:function(t){e.$set(e.form,"input23",t)},expression:"form.input23"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"人工费单价",prop:"input24"}},[a("el-input",{attrs:{placeholder:"请输入人工费单价"},model:{value:e.form.input24,callback:function(t){e.$set(e.form,"input24",t)},expression:"form.input24"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"企业管理费",prop:"input25"}},[a("el-input",{attrs:{placeholder:"请输入企业管理费"},model:{value:e.form.input25,callback:function(t){e.$set(e.form,"input25",t)},expression:"form.input25"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"利润",prop:"input26"}},[a("el-input",{attrs:{placeholder:"请输入利润"},model:{value:e.form.input26,callback:function(t){e.$set(e.form,"input26",t)},expression:"form.input26"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"风险费用",prop:"input27"}},[a("el-input",{attrs:{placeholder:"请输入风险费用"},model:{value:e.form.input27,callback:function(t){e.$set(e.form,"input27",t)},expression:"form.input27"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"综合单价偏离项",prop:"input28"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入综合单价偏离项"},model:{value:e.form.input28,callback:function(t){e.$set(e.form,"input28",t)},expression:"form.input28"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          措施项目\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"1.总价措施",prop:"input29"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入总价措施"},model:{value:e.form.input29,callback:function(t){e.$set(e.form,"input29",t)},expression:"form.input29"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"2.单价措施",prop:"input30"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入单价措施"},model:{value:e.form.input30,callback:function(t){e.$set(e.form,"input30",t)},expression:"form.input30"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"其他项目",prop:"input31"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入总价措施"},model:{value:e.form.input31,callback:function(t){e.$set(e.form,"input31",t)},expression:"form.input31"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"规费",prop:"input32"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入规费"},model:{value:e.form.input32,callback:function(t){e.$set(e.form,"input32",t)},expression:"form.input32"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"税金",prop:"input33"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入税金"},model:{value:e.form.input33,callback:function(t){e.$set(e.form,"input33",t)},expression:"form.input33"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"结论",prop:"input34"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入结论"},model:{value:e.form.input34,callback:function(t){e.$set(e.form,"input34",t)},expression:"form.input34"}})],1)],1)],1)],1)])],1)},staticRenderFns:[]};var Oa=a("VU/8")(Ra,Ba,!1,function(e){a("CH66"),a("0wpz")},"data-v-da3ef060",null).exports,za={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"5",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:"",input16:"",input17:"",input18:"",input19:""},rules:{input3:[{required:!0,message:"请选择报告日期",trigger:"blur"}],input10:[{required:!0,message:"请选择规章颁布日期",trigger:"blur"}],input12:[{required:!0,message:"请输入建筑工程人工费",trigger:"blur"}],input13:[{required:!0,message:"请输入装饰工程人工费",trigger:"blur"}],input14:[{required:!0,message:"请输入安装工程人工费",trigger:"blur"}],input16:[{required:!0,message:"请输入暂列金额（含税）",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{addAform:function(){this.form.tender.push({tenderer:"",biddingPrice:"",subcontract:""})},colseForm:function(e){this.form.tender.splice(e,1)},getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent),this.form.input10=this.tool.formatToDate(this.form.input10))}}},Ma={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prepareTenderClearanceReport"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input19"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input19,callback:function(t){e.$set(e.form,"input19",t)},expression:"form.input19"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          工程概况\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程名称",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入工程名称"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程地点",prop:"input6"}},[a("el-input",{attrs:{placeholder:"请输入工程地点"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑规模/范围",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入建筑规模/范围"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编制范围",prop:"input8"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入编制范围"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          编制依据\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"图纸&资料",prop:"input9"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入图纸、设计文件，标出版本时间信息"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"规章颁布日期",prop:"input10"}},[a("template",{slot:"label"},[e._v("\n              规章颁布日期\n              "),a("i",{staticClass:"el-icon-info",attrs:{title:"什么法规"}})]),e._v(" "),a("el-date-picker",{attrs:{type:"month",placeholder:"请选择日期"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          有关材料、设备、参数和费用的说明\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"人工费按造价 信息执行方式",prop:"input11"}},[a("template",{slot:"label"},[e._v("\n              人工费按造价 信息执行方式\n              "),a("i",{staticClass:"el-icon-info",attrs:{title:"低限"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入人工费按造价 信息执行方式"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑工程人工费",prop:"input12"}},[a("el-input",{attrs:{placeholder:"请输入建筑工程人工费"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"装饰工程人工费",prop:"input13"}},[a("el-input",{attrs:{placeholder:"请输入装饰工程人工费"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"安装工程人工费",prop:"input14"}},[a("el-input",{attrs:{placeholder:"请输入安装工程人工费"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"费率均执行指导费率编制",prop:"input15"}},[a("template",{slot:"label"},[e._v("\n              费率均执行指导费率编制\n              "),a("i",{staticClass:"el-icon-info",attrs:{title:"执行指导费率编制"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入费率均执行指导费率编制"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"暂列金额（含税）",prop:"input16"}},[a("el-input",{attrs:{placeholder:"请输入暂列金额（含税）"},model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"暂估价专业分包金额（含税）XX元",prop:"input17"}},[a("template",{slot:"label"},[e._v("\n              暂估价专业分包金额（含税）XX元\n              "),a("i",{staticClass:"el-icon-info",attrs:{title:"暂估价专业分包金额（含税）XX元。其中：XX分包工程暂估金额含税XX元"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入暂估价专业分包金额（含税）XX元"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          其他有关问题的说明\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"安全文明施工措施清单项目",prop:"input18"}},[a("template",{slot:"label"},[e._v("\n              安全文明施工措施清单项目\n              "),a("i",{staticClass:"el-icon-info",attrs:{title:"达到什么标准"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入安全文明施工措施清单项目"},model:{value:e.form.input18,callback:function(t){e.$set(e.form,"input18",t)},expression:"form.input18"}})],2)],1)],1)],1)])],1)},staticRenderFns:[]};var Va=a("VU/8")(za,Ma,!1,function(e){a("/1b4"),a("RLcn")},"data-v-1f95ac54",null).exports,Ua={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"6",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:""},rule:{input3:[{required:!0,message:"请选择报告日期",trigger:"change"}],input10:[{required:!0,message:"请选择法规颁布年份",trigger:"change"}],input12:[{required:!0,message:"请输入暂列金额（含税）",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent),this.form.input10=this.tool.formatToDate(this.form.input10))}}},Ea={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input15"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n        工程概况\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程名称",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入工程名称"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程地点",prop:"input6"}},[a("el-input",{attrs:{placeholder:"请输入工程地点"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑规模/范围",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入建筑规模/范围"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"编制范围",prop:"input8"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入编制范围"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n        编制依据\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"图纸、文件",prop:"input9"}},[a("template",{slot:"label"},[e._v("\n            图纸、文件\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"图纸、设计文件，标出版本时间信息"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入图纸、文件"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"法规颁布年份",prop:"input10"}},[a("template",{slot:"label"},[e._v("\n            法规颁布年份\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"《北京工程造价信息》及市场询价"}})]),e._v(" "),a("el-date-picker",{attrs:{type:"year",placeholder:"请选择法规颁布年份"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"清单项目及工程量计量说明",prop:"input11"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入清单项目及工程量计量说明"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n        清单计价说明\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"暂列金额（含税）",prop:"input12"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入暂列金额（含税）"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"暂估价专业分包金额（含税）",prop:"input13"}},[a("template",{slot:"label"},[e._v("\n            暂估价专业分包金额（含税）\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"暂估价专业分包金额（含税）XX元。其中：XX分包工程暂估金额含税XX元"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入暂估价专业分包金额（含税）"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"其他有关问题的说明",prop:"input14"}},[a("template",{slot:"label"},[e._v("\n                        其他有关问题的说明\n                        "),a("i",{staticClass:"el-icon-info",attrs:{title:"达到什么标准"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入其他有关问题的说明"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}})],2)],1)],1)],1)])},staticRenderFns:[]};var Ha=a("VU/8")(Ua,Ea,!1,function(e){a("Ixsx"),a("cN+z")},"data-v-2e957eb0",null).exports,Wa={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"7",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:""},rules:{input3:[{required:!0,message:"请选择报告日期",trigger:"blur"}],input11:[{required:!0,message:"请输入暂列金额（含税）",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent))}}},Ka={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prepareTenderClearanceReport"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input15"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          工程概况\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程名称",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入工程名称"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程地点",prop:"input6"}},[a("el-input",{attrs:{placeholder:"请输入工程地点"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑规模/范围",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入建筑规模/范围"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编制范围",prop:"input8"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入编制范围"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          编制依据\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"图纸&资料",prop:"input9"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入图纸、设计文件，标出版本时间信息"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"清单项目及工程量计量说明",prop:"input10 "}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入清单项目及工程量计量说明"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10 "}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          清单计价说明\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"暂列金额（含税）",prop:"input11"}},[a("el-input",{attrs:{placeholder:"请输入暂列金额（含税）"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"暂估价专业分包金额（含税）XX元",prop:"input12"}},[a("template",{slot:"label"},[e._v("\n              暂估价专业分包金额（含税）XX元\n              "),a("i",{staticClass:"el-icon-info",attrs:{title:"暂估价专业分包金额（含税）XX元。其中：XX分包工程暂估金额含税XX元"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入暂估价专业分包金额（含税）XX元"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"其他内容",prop:"input13"}},[a("template",{slot:"label"},[e._v("\n              其他内容\n              "),a("i",{staticClass:"el-icon-info",attrs:{title:"附加计价说明，编号从6开始"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入其他内容"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n          其他有关问题的说明\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"安全文明施工措施清单项目",prop:"input14"}},[a("template",{slot:"label"},[e._v("\n              安全文明施工措施清单项目\n              "),a("i",{staticClass:"el-icon-info",attrs:{title:"达到什么标准"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入安全文明施工措施清单项目"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}})],2)],1)],1)],1)])],1)},staticRenderFns:[]};var Ja=a("VU/8")(Wa,Ka,!1,function(e){a("iNgv"),a("SOoP")},"data-v-b7e3bf8a",null).exports,Qa={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"8",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input115:"",input11:"",input12:"",input13:"",input14:"",input15:"",input16:"",input17:"",input18:"",input19:"",input20:"",input21:""},rules:{input3:[{required:!0,message:"请输入报告日期",trigger:"blur"}],input10:[{required:!0,message:"请输入规章颁布日期",trigger:"blur"}],input115:[{required:!0,message:"请输入规章颁布日期",trigger:"blur"}],input13:[{required:!0,message:"请输入建筑工程人工费",trigger:"blur"}],input14:[{required:!0,message:"请输入装饰工程人工费",trigger:"blur"}],input15:[{required:!0,message:"请输入安装工程人工费",trigger:"blur"}],input18:[{required:!0,message:"请输入暂列金额（含税）",trigger:"blur"}],input21:[{required:!0,message:"请输入成果文件编号",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent),this.form.input10=this.tool.formatToDate(this.form.input10),this.form.input115=this.tool.formatToDate(this.form.input115))}}},Ga={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input21"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input21,callback:function(t){e.$set(e.form,"input21",t)},expression:"form.input21"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("工程概况")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程名称",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入工程名称"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程地点",prop:"input6"}},[a("el-input",{attrs:{placeholder:"请输入工程地点"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑规模/范围",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入建筑规模/范围"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"编制范围",prop:"input8"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入编制范围"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("编制依据")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"图纸、文件",prop:"input9"}},[a("template",{slot:"label"},[e._v("\n            图纸、文件\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"图纸、设计文件，标出版本时间信息"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入图纸、文件"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"规章颁布日期",prop:"input10"}},[a("template",{slot:"label"},[e._v("\n            规章颁布日期\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"《北京工程造价信息》及市场询价"}})]),e._v(" "),a("el-date-picker",{attrs:{type:"month",placeholder:"请选择规章颁布日期"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"清单项目计量说明",prop:"input11"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入清单项目计量说明"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("清单项目计价说明")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"规章颁布日期",prop:"input115"}},[a("template",{slot:"label"},[e._v("\n            规章颁布日期\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"人材机价格依据北京市2018年10月《北京工程造价信息》及市场询价编制"}})]),e._v(" "),a("el-date-picker",{attrs:{type:"month",placeholder:"请选择规章颁布日期"},model:{value:e.form.input115,callback:function(t){e.$set(e.form,"input115",t)},expression:"form.input115"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"人工费按造价信息执行方式",prop:"input12"}},[a("template",{slot:"label"},[e._v("\n            人工费按造价信息执行方式\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"低限"}})]),e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"请输入人工费按造价信息执行方式"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑工程人工费/工日",prop:"input13"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入建筑工程人工费/工日"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}},[a("template",{slot:"append"},[e._v("\n              元\n            ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"装饰工程人工费/工日",prop:"input14"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入装饰工程人工费/工日"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}},[a("template",{slot:"append"},[e._v("\n              元\n            ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"安装工程人工费/工日",prop:"input15"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入安装工程人工费/工日"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}},[a("template",{slot:"append"},[e._v("\n              元\n            ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"费率均执行指导费率编制",prop:"input16"}},[a("template",{slot:"label"},[e._v("\n            费率均执行指导费率编制\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"执行指导费率编制"}})]),e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"请输入费率均执行指导费率编制"},model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"弃土/渣土消纳运距按15km计价",prop:"input17"}},[a("template",{slot:"label"},[e._v("\n            弃土/渣土消纳运距按15km计价\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"弃土/渣土消纳运距按15km计价"}})]),e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"请输入弃土/渣土消纳运距按15km计价"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"暂列金额（含税）",prop:"input18"}},[a("el-input",{attrs:{placeholder:"请输入暂列金额（含税）"},model:{value:e.form.input18,callback:function(t){e.$set(e.form,"input18",t)},expression:"form.input18"}},[a("template",{slot:"append"},[e._v("\n              元\n            ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"暂估价专业分包金额（含税）XX元",prop:"input19"}},[a("template",{slot:"label"},[e._v("\n            暂估价专业分包金额（含税）XX元\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"暂估价专业分包金额（含税）XX元。其中：XX分包工程暂估金额含税XX元"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入暂估价专业分包金额（含税）XX元"},model:{value:e.form.input19,callback:function(t){e.$set(e.form,"input19",t)},expression:"form.input19"}})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("其他有关问题的说明")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"安全文明施工措施清单项目",prop:"input20"}},[a("template",{slot:"label"},[e._v("\n            安全文明施工措施清单项目\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"达到什么标准"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入安全文明施工措施清单项目"},model:{value:e.form.input20,callback:function(t){e.$set(e.form,"input20",t)},expression:"form.input20"}})],2)],1)],1)],1)])},staticRenderFns:[]};var Ya=a("VU/8")(Qa,Ga,!1,function(e){a("mwsL"),a("TT7d")},"data-v-2f1cec42",null).exports,Xa={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"9",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:"",input16:"",input17:"",input18:"",input19:"",input20:"",input21:"",input22:"",input23:"",input24:"",input25:"",input26:"",input27:"",input28:"",input29:"",input30:"",input31:"",input32:"",input33:"",input34:""},rule:{input3:[{required:!0,message:"请选择报告日期",trigger:"blur"}],input10:[{required:!0,message:"请输入送审价格",trigger:"blur"}],input11:[{required:!0,message:"请输入审定价格",trigger:"blur"}],input12:[{required:!0,message:"请输入审减价格",trigger:"blur"}],input18:[{required:!0,message:"请选择规章颁布日期",trigger:"blur"}],input20:[{required:!0,message:"请输入送审",trigger:"blur"}],input21:[{required:!0,message:"请输入审定",trigger:"blur"}],input22:[{required:!0,message:"请输入审减",trigger:"blur"}],input24:[{required:!0,message:"请输入送审",trigger:"blur"}],input25:[{required:!0,message:"请输入审定",trigger:"blur"}],input26:[{required:!0,message:"请输入审减",trigger:"blur"}],input28:[{required:!0,message:"请输入送审",trigger:"blur"}],input29:[{required:!0,message:"请输入审定",trigger:"blur"}],input30:[{required:!0,message:"请输入审减",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent))}}},Za={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rule,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input34"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input34,callback:function(t){e.$set(e.form,"input34",t)},expression:"form.input34"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        工程审核报告\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托人",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入合同基本信息委托人"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托人称呼",prop:"input6"}},[a("template",{slot:"label"},[e._v("\n            委托人称呼\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"贵公司、贵单位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入委托人称呼"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入合同基本信息合同名称报送单位"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报送单位",prop:"input8"}},[a("el-input",{attrs:{placeholder:"请输入合同基本信息委托人"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编制单位",prop:"input9"}},[a("el-input",{attrs:{placeholder:"请输入编制单位"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审价格",prop:"input10"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入送审价格"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定价格",prop:"input11"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入审定价格"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减价格",prop:"input12"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入审减价格"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        工程概算审核说明\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        一、工程概况\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程地点",prop:"input13"}},[a("el-input",{attrs:{placeholder:"请输入工程地点"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑规模/范围",prop:"input14"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入建筑规模/范围"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"二、审核范围",prop:"input15"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入审核范围"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"三、审核方法",prop:"input16"}},[a("template",{slot:"label"},[e._v("\n            三、审核方法\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"采用全面审核法对本工程进行概算审核"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入审核方法"},model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        四、审核依据\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"图纸",prop:"input17"}},[a("template",{slot:"label"},[e._v("\n            图纸\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"XXXX施工图"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入图纸"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"规章颁布日期 ",prop:"input18"}},[a("el-date-picker",{attrs:{type:"year",placeholder:"请选择年"},model:{value:e.form.input18,callback:function(t){e.$set(e.form,"input18",t)},expression:"form.input18"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"方案资料",prop:"input19"}},[a("template",{slot:"label"},[e._v("\n            方案资料\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"建设单位提供的工程实施方案及工程概算"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入方案资料"},model:{value:e.form.input19,callback:function(t){e.$set(e.form,"input19",t)},expression:"form.input19"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        五、审核情况说明\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        1.1、工程费用\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审",prop:"input20"}},[a("el-input",{attrs:{placeholder:"请输入送审"},model:{value:e.form.input20,callback:function(t){e.$set(e.form,"input20",t)},expression:"form.input20"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定",prop:"input21"}},[a("el-input",{attrs:{placeholder:"请输入审定"},model:{value:e.form.input21,callback:function(t){e.$set(e.form,"input21",t)},expression:"form.input21"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减",prop:"input22"}},[a("el-input",{attrs:{placeholder:"请输入审减"},model:{value:e.form.input22,callback:function(t){e.$set(e.form,"input22",t)},expression:"form.input22"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"工程费用金额来源",prop:"input23"}},[a("el-input",{attrs:{type:"textarea",placeholder:"其中内容为解释上面3个金额来源等"},model:{value:e.form.input23,callback:function(t){e.$set(e.form,"input23",t)},expression:"form.input23"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        1.2、其他费用\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审",prop:"input24"}},[a("el-input",{attrs:{placeholder:"请输入送审"},model:{value:e.form.input24,callback:function(t){e.$set(e.form,"input24",t)},expression:"form.input24"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定",prop:"input25"}},[a("el-input",{attrs:{placeholder:"请输入审定"},model:{value:e.form.input25,callback:function(t){e.$set(e.form,"input25",t)},expression:"form.input25"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减",prop:"input26"}},[a("el-input",{attrs:{placeholder:"请输入审减"},model:{value:e.form.input26,callback:function(t){e.$set(e.form,"input26",t)},expression:"form.input26"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"其他费用金额来源",prop:"input27"}},[a("el-input",{attrs:{type:"textarea",placeholder:"其中内容为解释上面3个金额来源等"},model:{value:e.form.input27,callback:function(t){e.$set(e.form,"input27",t)},expression:"form.input27"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        1.3、工程预备费\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审",prop:"input28"}},[a("el-input",{attrs:{placeholder:"请输入送审"},model:{value:e.form.input28,callback:function(t){e.$set(e.form,"input28",t)},expression:"form.input28"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定",prop:"input29"}},[a("el-input",{attrs:{placeholder:"请输入审定"},model:{value:e.form.input29,callback:function(t){e.$set(e.form,"input29",t)},expression:"form.input29"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减",prop:"input30"}},[a("el-input",{attrs:{placeholder:"请输入审减"},model:{value:e.form.input30,callback:function(t){e.$set(e.form,"input30",t)},expression:"form.input30"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"其他费用金额来源",prop:"input31"}},[a("el-input",{attrs:{type:"textarea",placeholder:"其中内容为解释上面3个金额来源等"},model:{value:e.form.input31,callback:function(t){e.$set(e.form,"input31",t)},expression:"form.input31"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"2、重要事项说明",prop:"input32"}},[a("el-input",{attrs:{type:"textarea",placeholder:"重要事项说明"},model:{value:e.form.input32,callback:function(t){e.$set(e.form,"input32",t)},expression:"form.input32"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"3、存在的问题及建议",prop:"input33"}},[a("el-input",{attrs:{type:"textarea",placeholder:"存在的问题及建议"},model:{value:e.form.input33,callback:function(t){e.$set(e.form,"input33",t)},expression:"form.input33"}})],1)],1)],1)],1)])},staticRenderFns:[]};var er=a("VU/8")(Xa,Za,!1,function(e){a("LNac"),a("eF7u")},"data-v-62d49f66",null).exports,tr={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"10",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:"",input16:"",input17:"",input18:"",input19:"",input20:"",input21:"",input22:"",input23:"",input24:"",input25:"",input26:"",input27:"",input28:"",input29:"",input30:"",input31:"",input32:"",input33:"",input34:"",input35:""},rule:{input3:[{required:!0,message:"请输入报告日期",trigger:"blur"}],input10:[{required:!0,message:"请输入送审价格",trigger:"blur"}],input11:[{required:!0,message:"请输入审定价格",trigger:"blur"}],input12:[{required:!0,message:"请输入审减价格",trigger:"blur"}],input16:[{required:!0,message:"请输入送报时间",trigger:"blur"}],input21:[{required:!0,message:"请输入送审",trigger:"blur"}],input22:[{required:!0,message:"请输入审定",trigger:"blur"}],input23:[{required:!0,message:"请输入审减",trigger:"blur"}],input25:[{required:!0,message:"请输入送审",trigger:"blur"}],input26:[{required:!0,message:"请输入审定",trigger:"blur"}],input27:[{required:!0,message:"请输入审减",trigger:"blur"}],input29:[{required:!0,message:"请输入送审",trigger:"blur"}],input30:[{required:!0,message:"请输入审定",trigger:"blur"}],input31:[{required:!0,message:"请输入审减",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent),this.form.input16=this.tool.formatToDate(this.form.input16))}}},ar={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rule,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input35"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input35,callback:function(t){e.$set(e.form,"input35",t)},expression:"form.input35"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        工程审核报告\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托人",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入合同基本信息委托人"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托人称呼",prop:"input6"}},[a("template",{slot:"label"},[e._v("\n            委托人称呼\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"贵公司、贵单位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入委托人称呼"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入合同基本信息合同名称报送单位"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报送单位",prop:"input8"}},[a("el-input",{attrs:{placeholder:"请输入合同基本信息委托人"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编制单位",prop:"input9"}},[a("el-input",{attrs:{placeholder:"请输入编制单位"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审价格",prop:"input10"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入送审价格"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定价格",prop:"input11"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入审定价格"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减价格",prop:"input12"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入审减价格"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        工程概算审核说明\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        一、工程概况\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程地点",prop:"input13"}},[a("el-input",{attrs:{placeholder:"请输入工程地点"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑规模/范围",prop:"input14"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入建筑规模/范围"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"建筑功能及分类",prop:"input15"}},[a("template",{slot:"label"},[e._v("\n            建筑功能及分类\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"公用事业及城市基础设施/商业、酒店及休闲娱乐建筑/电力、工业建筑/文化、教育及体育设施/铁路、道路及桥梁建设/水务/水运交通/住宅物业"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入建筑功能及分类"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        二、审核范围\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送报时间",prop:"input16"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择送报时间"},model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"三、审核方法",prop:"input17"}},[a("template",{slot:"label"},[e._v("\n            三、审核方法\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"采用全面审核法对本工程进行概算审核"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入审核方法"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        四、审核依据\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"资料",prop:"input18"}},[a("template",{slot:"label"},[e._v("\n            资料\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"与建设项目相关的工程地质资料、设计文件、图纸或有关设计专业提供的主要工程量和主要设备清单等]此内容替换第4项，第五项委托人名称从上面的委托人获取"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入资料"},model:{value:e.form.input18,callback:function(t){e.$set(e.form,"input18",t)},expression:"form.input18"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"方案资料 ",prop:"input19"}},[a("template",{slot:"label"},[e._v("\n            方案资料\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"建设单位提供的工程实施方案及工程概算"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入方案资料"},model:{value:e.form.input19,callback:function(t){e.$set(e.form,"input19",t)},expression:"form.input19"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        五、审核情况说明\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        1.1、工程费用\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审",prop:"input21"}},[a("el-input",{attrs:{placeholder:"请输入送审"},model:{value:e.form.input21,callback:function(t){e.$set(e.form,"input21",t)},expression:"form.input21"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定",prop:"input22"}},[a("el-input",{attrs:{placeholder:"请输入审定"},model:{value:e.form.input22,callback:function(t){e.$set(e.form,"input22",t)},expression:"form.input22"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减",prop:"input23"}},[a("el-input",{attrs:{placeholder:"请输入审减"},model:{value:e.form.input23,callback:function(t){e.$set(e.form,"input23",t)},expression:"form.input23"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"工程费用金额来源",prop:"input24"}},[a("el-input",{attrs:{type:"textarea",placeholder:"其中内容为解释上面3个金额来源等"},model:{value:e.form.input24,callback:function(t){e.$set(e.form,"input24",t)},expression:"form.input24"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        1.2、其他费用\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审",prop:"input25"}},[a("el-input",{attrs:{placeholder:"请输入送审"},model:{value:e.form.input25,callback:function(t){e.$set(e.form,"input25",t)},expression:"form.input25"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定",prop:"input26"}},[a("el-input",{attrs:{placeholder:"请输入审定"},model:{value:e.form.input26,callback:function(t){e.$set(e.form,"input26",t)},expression:"form.input26"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减",prop:"input27"}},[a("el-input",{attrs:{placeholder:"请输入审减"},model:{value:e.form.input27,callback:function(t){e.$set(e.form,"input27",t)},expression:"form.input27"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"其他费用金额来源",prop:"input28"}},[a("el-input",{attrs:{type:"textarea",placeholder:"其中内容为解释上面3个金额来源等"},model:{value:e.form.input28,callback:function(t){e.$set(e.form,"input28",t)},expression:"form.input28"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        1.3、工程预备费\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审",prop:"input29"}},[a("el-input",{attrs:{placeholder:"请输入送审"},model:{value:e.form.input29,callback:function(t){e.$set(e.form,"input29",t)},expression:"form.input29"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定",prop:"input30"}},[a("el-input",{attrs:{placeholder:"请输入审定"},model:{value:e.form.input30,callback:function(t){e.$set(e.form,"input30",t)},expression:"form.input30"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减",prop:"input31"}},[a("el-input",{attrs:{placeholder:"请输入审减"},model:{value:e.form.input31,callback:function(t){e.$set(e.form,"input31",t)},expression:"form.input31"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"其他费用金额来源",prop:"input32"}},[a("el-input",{attrs:{type:"textarea",placeholder:"其中内容为解释上面3个金额来源等"},model:{value:e.form.input32,callback:function(t){e.$set(e.form,"input32",t)},expression:"form.input32"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"2、重要事项说明",prop:"input33"}},[a("el-input",{attrs:{type:"textarea",placeholder:"重要事项说明"},model:{value:e.form.input33,callback:function(t){e.$set(e.form,"input33",t)},expression:"form.input33"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"3、存在的问题及建议",prop:"input34"}},[a("el-input",{attrs:{type:"textarea",placeholder:"存在的问题及建议"},model:{value:e.form.input34,callback:function(t){e.$set(e.form,"input34",t)},expression:"form.input34"}})],1)],1)],1)],1)])},staticRenderFns:[]};var rr=a("VU/8")(tr,ar,!1,function(e){a("RssD"),a("XC//")},"data-v-54b07ffb",null).exports,sr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{prop:e.field}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:4}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.clear}},[e._v("清除")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.restore}},[e._v("还原")])],1)],1)],1)},staticRenderFns:[]};var or={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"11",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input48:"",input49:"",contractNum:"",company:"北京市海淀区体育局",auditReport:"",projectProfile:"",AuditScope:"",examination:"",dateApproval:"",vettingExercise:"",reviewProcedure:"",presentation:""},rule:{input3:[{required:!0,message:"请选择报告日期",trigger:"blur"}],input49:[{required:!0,message:"请输入工程名称",trigger:"blur"}],input50:[{required:!0,message:"请输入工程概算审核说明",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},components:{"form-text-area":a("VU/8")({data:function(){return{gutter:40,model:this.obj.model,field:this.obj.field}},props:["obj","text"],watch:{obj:{handler:function(e,t){this.obj=e,this.model=this.text},immediate:!0}},methods:{clear:function(){this.model=""},restore:function(){this.model=this.text}}},sr,!1,function(e){a("XKt3")},null,null).exports},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent))}}},nr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rule,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input48"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input48,callback:function(t){e.$set(e.form,"input48",t)},expression:"form.input48"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程名称",prop:"input49"}},[a("el-input",{attrs:{placeholder:'请输入工程名称,例如"球类综合馆总承包工程"'},model:{value:e.form.input49,callback:function(t){e.$set(e.form,"input49",t)},expression:"form.input49"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录",autosize:""},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("工程结算审核报告")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"致:",prop:"company"}},[a("el-input",{model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}})],1)],1)],1),e._v(" "),a("form-text-area",{attrs:{obj:{model:e.form.auditReport,field:"auditReport"},text:"我们接受委托，对×××项目进行全过程跟踪造价咨询工作。现对本项目温泉体育中心工程球类综合馆总承包工程的结算进行审核。该工程结算书由北京市海淀区体育局报送、中国建筑装饰工程有限公司编制，送审资料的真实性、合法性及完整性由报送者和编制者负责，我们的责任是对该工程结算书发表审核咨询意见。\n      我们按照中国建设工程造价管理协会颁发的<工程造价咨询业务工作指导规程>以及<建设项目竣工结算编审规程>等规定计划并实施审核工作。在审核过程中，我们结合该工程的实际情况，实施了包括审核结算资料、现场踏勘等我们认为必要的审核程序。\n      现将我们的审核结果报告如下：\n      温泉体育中心工程球类综合馆总承包工程申报结算工程造价RMB4,124,671.13元，审定工程造价RMB3,909,805.48元，审减金额RMB214865.65元。\n      "}})],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("工程概算审核说明")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("一． 工程概况")])],1),e._v(" "),a("form-text-area",{attrs:{obj:{model:e.form.projectProfile,field:"projectProfile"},text:"工程名称：温泉体育中心工程之球类综合馆总承包工程。\n2.工程地点：北京市西城区金融大街88号。\n3.建筑规模/范围：120000㎡，其中：地下建筑面积××㎡，地上建筑面积××㎡；地下×层，地上×层，檐高××米\n4.合同开竣工日期：×年×月×日至×年×月×日。\n实际开竣工日期：×年×月×日至×年×月×日\n5.合同金额：XX元，结算方式：固定单价结算/固定总价结算/据实结算\n6.主要参建单位如下：\n发包人： 北京市海淀区体育局\n承包人： 中国建筑第三工程局\n设计单位：中国建筑北京设计研究院有限公司\n监理单位：\n"}}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("二． 审核范围")])],1),e._v(" "),a("form-text-area",{attrs:{obj:{model:e.form.AuditScope,field:"AuditScope"},text:"本次审核范围为由XX单位于XX年XX月XX日报送的中国建筑第三工程局编制的“北京市温泉体育中心工程球类综合馆总承包工程 ”结算书及相应的结算资料。"}}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("三．审核原则")])],1),e._v(" "),a("form-text-area",{attrs:{obj:{model:e.form.examination,field:"examination"},text:"建设单位、施工单位必须合理编制并充分披露基建结算及相关资料，并充分保证其真实性、合理性、完整性，并承担相关法律责任。我们的责任是遵循独立、客观、公正的基本原则，实事求是地开展审核工作，并保证审核结果的真实性、合法性。"}}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("四．审核方法")])],1),e._v(" "),a("form-text-area",{attrs:{obj:{model:e.form.dateApproval,field:"dateApproval"},text:"采用全面审核法对北京市温泉体育中心工程球类综合馆总承包工程进行结算审核。"}}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("五．审核依据")])],1),e._v(" "),a("form-text-area",{attrs:{obj:{model:e.form.vettingExercise,field:"vettingExercise"},text:"1.《建设工程工程量清单计价规范》GB50500-2013、《房屋建筑与装饰工程工程量清单计价规范》GB50854-2013、《通用安装工程工程量清单计价规范》GB50856-2013等13计量规范及相关规定、《2012年北京市建设工程计价依据——预算定额》、北京市建设工程造价管理部门颁布的相关文件及规定；\n2.与北京市海淀区体育局签订的《建设工程造价咨询合同》；\n3.竣工结算送审文件；\n4.现场踏勘复验记录表；\n5.发包人与承包人签订的《建设工程施工合同》、专业分包合同及补充协议，有关材料、设备采购合同；\n6. 北京市建设工程造价管理处颁布2016年1月的《北京工程造价信息》；\n7. 招标文件、投标文件；\n8.工程竣工图/施工图、经批准的施工组织设计、设计变更、工程洽商、工程索赔与工程现场签证，相关会议纪要等；\n9.工程材料及设备认价单；\n10.发承包双方确认追加或核减的工程价款；\n11.经批准的开工、竣工报告或停工、复工报告；\n12.竣工结算审核的其他相关资料。\n"}}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("六．审核程序")])],1),e._v(" "),a("form-text-area",{attrs:{obj:{model:e.form.reviewProcedure,field:"reviewProcedure"},text:"准备阶段：收集、整理竣工结算审核项目的审核依据资料，做好送审资料的交验、核实、签收工作，并对资料等缺陷向委托方提出书面意见及要求；\n2.审核阶段：现场踏勘核实，召开审核会议，澄清问题，在必要情况下提出补充依据性资料和必要的弥补性措施，形成会商纪要，进行计量、计价、计费审核与确定工作，完成初步审核意见等；\n3．审定阶段：就初步审核意见与承包人及发包人进行沟通，召开协调会议，处理分歧事项，形成竣工结算审核成果文件，签订竣工结算审定签署表，提交竣工结算审核报告等工作。"}}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("七．审核情况说明")])],1),e._v(" "),a("form-text-area",{attrs:{obj:{model:e.form.presentation,field:"presentation"},text:"1.审核结果原因分析：\n1.1XX工程送审1,670.31元，审定1,442.87元，审减227.44元，其中：\n1.1.1【列举主要审减项及原因或者重要事项说明】。\n\n2.重要事项说明：\n依据发包人现场工程师的书面确认材料，共有9项分部分项工程量清单内容未施工，包括：消防报警工程电气配管、消防水工程消火栓钢管（DN100、DN70）、消防水工程消火栓、消防水工程螺纹阀门、消防水工程水喷淋镀锌钢管（DN150、DN100、DN80、DN70）。\n3.存在的主要问题以及给甲方的建议：\n"}})],1)])},staticRenderFns:[]};var ir=a("VU/8")(or,nr,!1,function(e){a("XiGS"),a("h9H3")},"data-v-47250610",null).exports,lr={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,contractNum:this.transmittedData.contractNum,projectName:this.transmittedData.projectName,template:"12",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:"",input16:"",input17:"",input18:"",input19:"",input20:"",input21:"",input22:"",input23:"",input24:"",input25:"",input26:"",input27:"",input28:"",input29:"",input30:"",input31:"",input32:"",input33:""},rule:{input3:[{required:!0,message:"请选择报告日期",trigger:"blur"}],input10:[{required:!0,message:"请输入送审价格",trigger:"blur"}],input11:[{required:!0,message:"请输入审定价格",trigger:"blur"}],input12:[{required:!0,message:"请输入审减价格",trigger:"blur"}],input16:[{required:!0,message:"请选择送报时间",trigger:"blur"}],input19:[{required:!0,message:"请输入送审",trigger:"blur"}],input20:[{required:!0,message:"请输入审定",trigger:"blur"}],input21:[{required:!0,message:"请输入审减",trigger:"blur"}],input23:[{required:!0,message:"请输入送审",trigger:"blur"}],input24:[{required:!0,message:"请输入审定",trigger:"blur"}],input25:[{required:!0,message:"请输入审减",trigger:"blur"}],input27:[{required:!0,message:"请输入送审",trigger:"blur"}],input28:[{required:!0,message:"请输入审定",trigger:"blur"}],input29:[{required:!0,message:"请输入审减",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent),this.form.input16=this.tool.stringFormatToDate(this.form.input16))}}},cr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rule,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input1"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同号"}},[e._v(e._s(e.contractNum))])],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"input33"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.input33,callback:function(t){e.$set(e.form,"input33",t)},expression:"form.input33"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告日期",prop:"input3"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报告日期"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"目录",prop:"input4"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入目录"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        工程审核报告\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托人",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入合同基本信息委托人"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托人称呼",prop:"input6"}},[a("template",{slot:"label"},[e._v("\n            委托人称呼\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"贵公司、贵单位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入委托人称呼"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入合同基本信息合同名称报送单位"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报送单位",prop:"input8"}},[a("el-input",{attrs:{placeholder:"请输入合同基本信息委托人"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编制单位",prop:"input9"}},[a("el-input",{attrs:{placeholder:"请输入编制单位"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审价格",prop:"input10"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入送审价格"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定价格",prop:"input11"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入审定价格"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减价格",prop:"input12"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入审减价格"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        工程概算审核说明\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        一、工程概况\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程地点",prop:"input13"}},[a("el-input",{attrs:{placeholder:"请输入工程地点"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑规模/范围",prop:"input14"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入建筑规模/范围"},model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"建筑功能及分类",prop:"input15"}},[a("template",{slot:"label"},[e._v("\n            建筑功能及分类\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"公用事业及城市基础设施/商业、酒店及休闲娱乐建筑/电力、工业建筑/文化、教育及体育设施/铁路、道路及桥梁建设/水务/水运交通/住宅物业"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入建筑功能及分类"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        二、审核范围\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送报时间",prop:"input16"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择送报时间"},model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"三、审核方法",prop:"input17"}},[a("template",{slot:"label"},[e._v("\n            三、审核方法\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"采用全面审核法对本工程进行概算审核"}})]),e._v(" "),a("el-input",{attrs:{type:"textarea",placeholder:"请输入审核方法"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        四、审核依据\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"图纸",prop:"input18"}},[a("template",{slot:"label"},[e._v("\n            图纸\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"2018年XX月XX日XX项目施工图纸；2018年XX月XX日图纸疑问回复"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入图纸"},model:{value:e.form.input18,callback:function(t){e.$set(e.form,"input18",t)},expression:"form.input18"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        五、审核情况说明\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        1.1、工程费用\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审",prop:"input19"}},[a("el-input",{attrs:{placeholder:"请输入送审"},model:{value:e.form.input19,callback:function(t){e.$set(e.form,"input19",t)},expression:"form.input19"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定",prop:"input20"}},[a("el-input",{attrs:{placeholder:"请输入审定"},model:{value:e.form.input20,callback:function(t){e.$set(e.form,"input20",t)},expression:"form.input20"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减",prop:"input21"}},[a("el-input",{attrs:{placeholder:"请输入审减"},model:{value:e.form.input21,callback:function(t){e.$set(e.form,"input21",t)},expression:"form.input21"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"工程费用金额来源",prop:"input22"}},[a("el-input",{attrs:{type:"textarea",placeholder:"其中内容为解释上面3个金额来源等"},model:{value:e.form.input22,callback:function(t){e.$set(e.form,"input22",t)},expression:"form.input22"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        1.2、其他费用\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审",prop:"input23"}},[a("el-input",{attrs:{placeholder:"请输入送审"},model:{value:e.form.input23,callback:function(t){e.$set(e.form,"input23",t)},expression:"form.input23"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定",prop:"input24"}},[a("el-input",{attrs:{placeholder:"请输入审定"},model:{value:e.form.input24,callback:function(t){e.$set(e.form,"input24",t)},expression:"form.input24"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减",prop:"input25"}},[a("el-input",{attrs:{placeholder:"请输入审减"},model:{value:e.form.input25,callback:function(t){e.$set(e.form,"input25",t)},expression:"form.input25"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"其他费用金额来源",prop:"input26"}},[a("el-input",{attrs:{type:"textarea",placeholder:"其中内容为解释上面3个金额来源等"},model:{value:e.form.input26,callback:function(t){e.$set(e.form,"input26",t)},expression:"form.input26"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        1.3、工程预备费\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审",prop:"input27"}},[a("el-input",{attrs:{placeholder:"请输入送审"},model:{value:e.form.input27,callback:function(t){e.$set(e.form,"input27",t)},expression:"form.input27"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定",prop:"input28"}},[a("el-input",{attrs:{placeholder:"请输入审定"},model:{value:e.form.input28,callback:function(t){e.$set(e.form,"input28",t)},expression:"form.input28"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审减",prop:"input29"}},[a("el-input",{attrs:{placeholder:"请输入审减"},model:{value:e.form.input29,callback:function(t){e.$set(e.form,"input29",t)},expression:"form.input29"}},[a("template",{slot:"append"},[e._v("万元")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"其他费用金额来源",prop:"input30"}},[a("el-input",{attrs:{type:"textarea",placeholder:"其中内容为解释上面3个金额来源等"},model:{value:e.form.input30,callback:function(t){e.$set(e.form,"input30",t)},expression:"form.input30"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"2、重要事项说明",prop:"input31"}},[a("el-input",{attrs:{type:"textarea",placeholder:"重要事项说明"},model:{value:e.form.input31,callback:function(t){e.$set(e.form,"input31",t)},expression:"form.input31"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"3、存在的问题及建议",prop:"input32"}},[a("el-input",{attrs:{type:"textarea",placeholder:"存在的问题及建议"},model:{value:e.form.input32,callback:function(t){e.$set(e.form,"input32",t)},expression:"form.input32"}})],1)],1)],1)],1)])},staticRenderFns:[]};var ur=a("VU/8")(lr,cr,!1,function(e){a("kEx8"),a("5mOR")},"data-v-c7a1d654",null).exports,pr={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,template:"13",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input105:""},rule:{input8:[{required:!0,message:"请输入合同金额",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent))}}},mr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rule,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"档案编号",prop:"input1"}},[a("template",{slot:"label"},[e._v("\n            档案编号\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"HT1134BJ-ZJ-01第一个是合同编号，中间是部门编号 造价部ZJ招标代理部ZB 市场部SC ，最后是流水号"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入档案编号"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司名称",prop:"input105"}},[a("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.form.input105,callback:function(t){e.$set(e.form,"input105",t)},expression:"form.input105"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核意见\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核信息",prop:"input3"}},[a("template",{slot:"label"},[e._v("\n            审核信息\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"我们接受贵公司委托，对×××工程进行全过程跟踪造价咨询工作。现对本工程施工合同进行审核。标红处为输入框"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入审核信息"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核范围\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建设单位",prop:"input4"}},[a("el-input",{attrs:{placeholder:"请输入建设单位"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"施工单位",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入施工单位"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同",prop:"input6"}},[a("el-input",{attrs:{placeholder:"请输入合同项目名称"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核意见\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"资质条件",prop:"input7"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入资质条件"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同金额",prop:"input8"}},[a("template",{slot:"label"},[e._v("\n            合同金额\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"金额单位为元，金额千分符，小数点后两位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入合同金额"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1)],1)],1)])},staticRenderFns:[]};var dr=a("VU/8")(pr,mr,!1,function(e){a("UiwL")},null,null).exports,fr={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,template:"14",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input105:""},rule:{input7:[{required:!0,message:"请输入合同金额",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent))}}},gr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rule,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"档案编号",prop:"input1"}},[a("template",{slot:"label"},[e._v("\n            档案编号\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"HT1134BJ-ZJ-01第一个是合同编号，中间是部门编号 造价部ZJ招标代理部ZB 市场部SC ，最后是流水号"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入档案编号"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司名称",prop:"input105"}},[a("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.form.input105,callback:function(t){e.$set(e.form,"input105",t)},expression:"form.input105"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核意见\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核信息",prop:"input3"}},[a("template",{slot:"label"},[e._v("\n            审核信息\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"我们接受贵公司委托，对×××工程进行全过程跟踪造价咨询工作。现对本工程施工合同进行审核。标红处为输入框"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入审核信息"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核范围\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建设单位",prop:"input4"}},[a("el-input",{attrs:{placeholder:"请输入建设单位"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"施工单位",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入施工单位"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同",prop:"input6"}},[a("el-input",{attrs:{placeholder:"请输入合同项目名称"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核范围\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同金额",prop:"input7"}},[a("template",{slot:"label"},[e._v("\n            合同金额\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"金额单位为元，金额千分符，小数点后两位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入合同金额"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1)],1)],1)])},staticRenderFns:[]};var hr=a("VU/8")(fr,gr,!1,function(e){a("je/a")},null,null).exports,vr={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,template:"15",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:"",input16:"",input17:"",input18:""},rule:{input6:[{required:!0,message:"请选择报送日期",trigger:"blur"}],input10:[{required:!0,message:"请输入送审金额",trigger:"blur"}],input11:[{required:!0,message:"请输入审定金额",trigger:"blur"}],input12:[{required:!0,message:"请输入核减金额",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent),this.form.input6=this.tool.formatToDate(this.form.input6))}}},br={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rule,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"档案编号",prop:"input1"}},[a("template",{slot:"label"},[e._v("\n            档案编号\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"HT1134BJ-ZJ-01第一个是合同编号，中间是部门编号 造价部ZJ招标代理部ZB 市场部SC ，最后是流水号"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入档案编号"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司名称",prop:"input105"}},[a("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.form.input105,callback:function(t){e.$set(e.form,"input105",t)},expression:"form.input105"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核意见\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核信息",prop:"input3"}},[a("template",{slot:"label"},[e._v("\n            审核信息\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"我们接受贵公司委托，对×××工程进行全过程跟踪造价咨询工作。现对本工程施工合同进行审核。标红处为输入框"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入审核信息"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核范围\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建设单位",prop:"input4"}},[a("el-input",{attrs:{placeholder:"请输入建设单位"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"施工单位",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入施工单位"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报送日期",prop:"input6"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报送日期"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送报文件名称",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入送报文件名称"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核依据\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"双方合同名称",prop:"input8"}},[a("el-input",{attrs:{placeholder:"请输入双方合同名称"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"监理出具内容",prop:"input9"}},[a("el-input",{attrs:{placeholder:"请输入监理出具内容"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"监理单位",prop:"input19"}},[a("el-input",{attrs:{placeholder:"请输入监理单位"},model:{value:e.form.input19,callback:function(t){e.$set(e.form,"input19",t)},expression:"form.input19"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核意见\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审金额",prop:"input10"}},[a("template",{slot:"label"},[e._v("\n            送审金额\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"金额千分符，小数点后两位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入送审金额"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定金额",prop:"input11"}},[a("template",{slot:"label"},[e._v("\n            审定金额\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"金额千分符，小数点后两位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入审定金额"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"核减金额",prop:"input12"}},[a("template",{slot:"label"},[e._v("\n            核减金额\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"金额千分符，小数点后两位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入核减金额"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"累计已支付金额",prop:"input13"}},[a("el-input",{attrs:{placeholder:"请输入累计已支付金额"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}},[a("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        附件&其他\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        是否有附件\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-radio-group",{model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),1==e.form.input14?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"附件名称",prop:"input15"}},[a("el-input",{attrs:{placeholder:"请输入附件名称"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}})],1)],1)],1):e._e(),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        是否抄送\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-radio-group",{model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),1==e.form.input16?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"抄送公司",prop:"input17"}},[a("el-input",{attrs:{placeholder:"请输入抄送公司"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"抄送人",prop:"input18"}},[a("el-input",{attrs:{placeholder:"请输入抄送人"},model:{value:e.form.input18,callback:function(t){e.$set(e.form,"input18",t)},expression:"form.input18"}})],1)],1)],1):e._e()],1)])},staticRenderFns:[]};var yr=a("VU/8")(vr,br,!1,function(e){a("kq2Q")},null,null).exports,_r={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,template:"16",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:"",input16:"",input17:"",input18:"",input105:""},rule:{input6:[{required:!0,message:"请选择报送日期",trigger:"blur"}],input10:[{required:!0,message:"请输入送审金额",trigger:"blur"}],input11:[{required:!0,message:"请输入审定金额",trigger:"blur"}],input12:[{required:!0,message:"请输入核减金额",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent),this.form.input6=this.tool.formatToDate(this.form.input6))}}},wr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rule,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"档案编号",prop:"input1"}},[a("template",{slot:"label"},[e._v("\n            档案编号\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"HT1134BJ-ZJ-01第一个是合同编号，中间是部门编号 造价部ZJ招标代理部ZB 市场部SC ，最后是流水号"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入档案编号"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司名称",prop:"input105"}},[a("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.form.input105,callback:function(t){e.$set(e.form,"input105",t)},expression:"form.input105"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核意见\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核信息",prop:"input3"}},[a("template",{slot:"label"},[e._v("\n            审核信息\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"我们接受贵公司委托，对×××工程进行全过程跟踪造价咨询工作。现对本工程施工合同进行审核。标红处为输入框"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入审核信息"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核范围\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建设单位",prop:"input4"}},[a("el-input",{attrs:{placeholder:"请输入建设单位"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"施工单位",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入施工单位"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报送日期",prop:"input6"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报送日期"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送报文件名称",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入送报文件名称"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核依据\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"双方合同名称",prop:"input8"}},[a("el-input",{attrs:{placeholder:"请输入双方合同名称"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"监理出具内容",prop:"input9"}},[a("el-input",{attrs:{placeholder:"请输入监理出具内容"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核意见\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审金额",prop:"input10"}},[a("template",{slot:"label"},[e._v("\n            送审金额\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"金额千分符，小数点后两位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入送审金额"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定金额",prop:"input11"}},[a("template",{slot:"label"},[e._v("\n            审定金额\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"金额千分符，小数点后两位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入审定金额"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"核减金额",prop:"input12"}},[a("template",{slot:"label"},[e._v("\n            核减金额\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"金额千分符，小数点后两位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入核减金额"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"意见如下",prop:"input13"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入意见"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        附件&其他\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        是否有附件\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-radio-group",{model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),1==e.form.input14?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"附件名称",prop:"input15"}},[a("el-input",{attrs:{placeholder:"请输入附件名称"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}})],1)],1)],1):e._e(),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        是否抄送\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-radio-group",{model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),1==e.form.input16?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"抄送公司",prop:"input17"}},[a("el-input",{attrs:{placeholder:"请输入抄送公司"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"抄送人",prop:"input18"}},[a("el-input",{attrs:{placeholder:"请输入抄送人"},model:{value:e.form.input18,callback:function(t){e.$set(e.form,"input18",t)},expression:"form.input18"}})],1)],1)],1):e._e()],1)])},staticRenderFns:[]};var Cr=a("VU/8")(_r,wr,!1,function(e){a("ENGM")},null,null).exports,kr={props:["transmittedData","disabled"],data:function(){return{currentTransmittedData:this.transmittedData,template:"17",gutter:40,form:{input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",input11:"",input12:"",input13:"",input14:"",input15:"",input16:"",input17:"",input18:""},rule:{input6:[{required:!0,message:"请选择报送日期",trigger:"blur"}],input9:[{required:!0,message:"请输入发布时间",trigger:"blur"}],input10:[{required:!0,message:"请输入送审金额",trigger:"blur"}],input11:[{required:!0,message:"请输入审定金额",trigger:"blur"}],input12:[{required:!0,message:"请输入核减金额",trigger:"blur"}]}}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=W()({},this.transmittedData)},immediate:!0}},mounted:function(){this.getDetailInfo()},methods:{getDetailInfo:function(){this.tool.isNull(this.currentTransmittedData.formworkContent)||this.template!=this.currentTransmittedData.formworkType||(this.form=JSON.parse(this.currentTransmittedData.formworkContent),this.form.input6=this.tool.formatToDate(this.form.input6),this.form.input9=this.tool.formatToDate(this.form.input9))}}},Fr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rule,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"档案编号",prop:"input1"}},[a("template",{slot:"label"},[e._v("\n            档案编号\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"HT1134BJ-ZJ-01第一个是合同编号，中间是部门编号 造价部ZJ招标代理部ZB 市场部SC ，最后是流水号"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入档案编号"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司名称",prop:"input105"}},[a("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.form.input105,callback:function(t){e.$set(e.form,"input105",t)},expression:"form.input105"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核意见\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核信息",prop:"input3"}},[a("template",{slot:"label"},[e._v("\n            审核信息\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"我们接受贵公司委托，对×××工程进行全过程跟踪造价咨询工作。现对本工程施工合同进行审核。标红处为输入框"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入审核信息"},model:{value:e.form.input3,callback:function(t){e.$set(e.form,"input3",t)},expression:"form.input3"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核范围\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建设单位",prop:"input4"}},[a("el-input",{attrs:{placeholder:"请输入建设单位"},model:{value:e.form.input4,callback:function(t){e.$set(e.form,"input4",t)},expression:"form.input4"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"施工单位",prop:"input5"}},[a("el-input",{attrs:{placeholder:"请输入施工单位"},model:{value:e.form.input5,callback:function(t){e.$set(e.form,"input5",t)},expression:"form.input5"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报送日期",prop:"input6"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择报送日期"},model:{value:e.form.input6,callback:function(t){e.$set(e.form,"input6",t)},expression:"form.input6"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送报文件名称",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入送报文件名称"},model:{value:e.form.input7,callback:function(t){e.$set(e.form,"input7",t)},expression:"form.input7"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核依据",prop:"input8"}},[a("template",{slot:"label"},[e._v("\n            审核依据\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"XX项目施工图纸（备注版本号，图纸日期）；2018年XX月XX日图纸疑问回复"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入审核依据"},model:{value:e.form.input8,callback:function(t){e.$set(e.form,"input8",t)},expression:"form.input8"}})],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"《北京工程造价信息》发布时间",prop:"input9"}},[a("template",{slot:"label"},[e._v("\n            《北京工程造价信息》发布时间\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"北京市2019年3月《北京工程造价信息》及市场询价。yyyy年MM月"}})]),e._v(" "),a("el-date-picker",{attrs:{type:"month",placeholder:"请选择发布时间"},model:{value:e.form.input9,callback:function(t){e.$set(e.form,"input9",t)},expression:"form.input9"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        审核意见\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送审金额",prop:"input10"}},[a("template",{slot:"label"},[e._v("\n            送审金额\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"金额千分符，小数点后两位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入送审金额"},model:{value:e.form.input10,callback:function(t){e.$set(e.form,"input10",t)},expression:"form.input10"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审定金额",prop:"input11"}},[a("template",{slot:"label"},[e._v("\n            审定金额\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"金额千分符，小数点后两位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入审定金额"},model:{value:e.form.input11,callback:function(t){e.$set(e.form,"input11",t)},expression:"form.input11"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"核减金额",prop:"input12"}},[a("template",{slot:"label"},[e._v("\n            核减金额\n            "),a("i",{staticClass:"el-icon-info",attrs:{title:"金额千分符，小数点后两位"}})]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入核减金额"},model:{value:e.form.input12,callback:function(t){e.$set(e.form,"input12",t)},expression:"form.input12"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"意见如下",prop:"input13"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入意见"},model:{value:e.form.input13,callback:function(t){e.$set(e.form,"input13",t)},expression:"form.input13"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        附件&其他\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        是否有附件\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-radio-group",{model:{value:e.form.input14,callback:function(t){e.$set(e.form,"input14",t)},expression:"form.input14"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),1==e.form.input14?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"附件名称",prop:"input15"}},[a("el-input",{attrs:{placeholder:"请输入附件名称"},model:{value:e.form.input15,callback:function(t){e.$set(e.form,"input15",t)},expression:"form.input15"}})],1)],1)],1):e._e(),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("\n        是否抄送\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-radio-group",{model:{value:e.form.input16,callback:function(t){e.$set(e.form,"input16",t)},expression:"form.input16"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),1==e.form.input16?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"抄送公司",prop:"input17"}},[a("el-input",{attrs:{placeholder:"请输入抄送公司"},model:{value:e.form.input17,callback:function(t){e.$set(e.form,"input17",t)},expression:"form.input17"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"抄送人",prop:"input18"}},[a("el-input",{attrs:{placeholder:"请输入抄送人"},model:{value:e.form.input18,callback:function(t){e.$set(e.form,"input18",t)},expression:"form.input18"}})],1)],1)],1):e._e()],1)])},staticRenderFns:[]};var Dr=a("VU/8")(kr,Fr,!1,function(e){a("y4jz")},null,null).exports,xr={form:{projectName:"",contractNumber:"",reportNo:"",biddingProjectName:"",tendereeName:"",tenderAgencyName:"",tenderAgencyAddress:"",tenderScope:"",tenderOrganizationContent:"",tenderMethodContent:"",tenderNotice:"",biddingRegistration:"",biddingDocumentsForSale:"",siteSurvey:"",establishmentOfTheBidEvaluationCommittee:"",bidOpeningDocument:"",bidEvaluationProcess:"",bidderList:[{bidderName:"",rankingOrder:"",bidEvaluation:""}],successfulBidding:"",winningResult:"",signAContract:"",companyName:"",date:""},rules:{reportNo:[{required:!0,message:"请输入报告编号",trigger:"blur"}],biddingProjectName:[{required:!0,message:"请输入招标项目名称",trigger:"blur"}],tendereeName:[{required:!0,message:"请输入招标人名称",trigger:"blur"}],tenderAgencyName:[{required:!0,message:"请输入招标代理机构名称",trigger:"blur"}],tenderAgencyAddress:[{required:!0,message:"请输入招标代理机构地址",trigger:"blur"}],tenderScope:[{required:!0,message:"请输入招标范围",trigger:"blur"}],tenderOrganizationContent:[{required:!0,message:"请输入内容",trigger:"blur"}],tenderMethodContent:[{required:!0,message:"请输入内容",trigger:"blur"}],tenderNotice:[{required:!0,message:"请输入招标公告",trigger:"blur"}],biddingRegistration:[{required:!0,message:"请输入投标报名",trigger:"blur"}],biddingDocumentsForSale:[{required:!0,message:"请输入招标文件发售",trigger:"blur"}],siteSurvey:[{required:!0,message:"请输入现场踏勘",trigger:"blur"}],establishmentOfTheBidEvaluationCommittee:[{required:!0,message:"请输入评标委员会组建",trigger:"blur"}],bidOpeningDocument:[{required:!0,message:"请输入开标组织文件",trigger:"blur"}],bidEvaluationProcess:[{required:!0,message:"请输入评标过程",trigger:"blur"}],successfulBidding:[{required:!0,message:"请输入中标公示",trigger:"blur"}],winningResult:[{required:!0,message:"请输入中标结果",trigger:"blur"}],signAContract:[{required:!0,message:"请输入合同签订",trigger:"blur"}],companyName:[{required:!0,message:"请输入公司名称",trigger:"blur"}],date:[{required:!0,message:"请输入日期",trigger:"blur"}]}},Tr={props:{data:{type:Object,default:function(){return{form:this.tool.deepCopy(xr.form,this.tool.deepCopy)}}},disabled:{type:Boolean,default:!1}},data:function(){return{source:xr,gutter:20,form:this.tool.deepCopy(this.data?this.data.form:xr.form,this.tool.deepCopy),rules:this.tool.deepCopy(xr.rules,this.tool.deepCopy)}},watch:{data:{handler:function(){this.setFormData(this.data)},immediate:!0}},methods:{getFormData:function(e,t){var a=this;return new la.a(function(r,s){t?r(a.tool.deepCopy(a.form,a.tool.deepCopy)):a.$refs[e].validate(function(e){e?r(a.tool.deepCopy(a.form,a.tool.deepCopy)):s(null)})})},setFormData:function(e){var t=this;t.form=t.tool.deepCopy(e?e.form:t.source.form,t.tool.deepCopy),t.form.projectName=e?e.projectName:"",t.form.contractNumber=e?e.contractNum:""},reset:function(){this.form=this.tool.deepCopy(this.source.form,this.tool.deepCopy)},addBidder:function(){var e=this,t=e.tool.deepCopy(e.source.form.bidderList[0],e.tool.deepCopy);e.form.bidderList||e.$set(e.form,"bidderList",[]),e.form.bidderList.push(t)},delBidder:function(e){this.form.bidderList.splice(e,1)}}},Nr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-of__tendering-agent"},[a("div",{staticClass:"form-block"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,disabled:e.disabled,rules:e.rules}},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("span",[e._v(e._s(e.form.projectName))])])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同编号"}},[a("span",[e._v(e._s(e.form.contractNumber))])])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"报告编号",prop:"reportNo"}},[a("el-input",{attrs:{placeholder:"请输入报告编号"},model:{value:e.form.reportNo,callback:function(t){e.$set(e.form,"reportNo",t)},expression:"form.reportNo"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"row--title",attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n          一、招标项目概况\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"招标项目名称",prop:"biddingProjectName"}},[a("el-input",{attrs:{placeholder:"请输入招标项目名称"},model:{value:e.form.biddingProjectName,callback:function(t){e.$set(e.form,"biddingProjectName",t)},expression:"form.biddingProjectName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"招标人名称",prop:"tendereeName"}},[a("el-input",{attrs:{placeholder:"请输入招标人名称"},model:{value:e.form.tendereeName,callback:function(t){e.$set(e.form,"tendereeName",t)},expression:"form.tendereeName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"招标代理机构名称",prop:"tenderAgencyName"}},[a("el-input",{attrs:{placeholder:"请输入招标代理机构名称"},model:{value:e.form.tenderAgencyName,callback:function(t){e.$set(e.form,"tenderAgencyName",t)},expression:"form.tenderAgencyName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"招标代理机构地址",prop:"tenderAgencyAddress"}},[a("el-input",{attrs:{placeholder:"请输入招标代理机构地址"},model:{value:e.form.tenderAgencyAddress,callback:function(t){e.$set(e.form,"tenderAgencyAddress",t)},expression:"form.tenderAgencyAddress"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"招标范围",prop:"tenderScope"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入招标范围"},model:{value:e.form.tenderScope,callback:function(t){e.$set(e.form,"tenderScope",t)},expression:"form.tenderScope"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"row--title",attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n          二、招标项目概况\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"内容",prop:"tenderOrganizationContent"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.tenderOrganizationContent,callback:function(t){e.$set(e.form,"tenderOrganizationContent",t)},expression:"form.tenderOrganizationContent"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"row--title",attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n          三、招标方式\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"内容",prop:"tenderMethodContent"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.tenderMethodContent,callback:function(t){e.$set(e.form,"tenderMethodContent",t)},expression:"form.tenderMethodContent"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"row--title",attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n          四、招标工作综述\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"招标公告",prop:"tenderNotice"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入招标公告"},model:{value:e.form.tenderNotice,callback:function(t){e.$set(e.form,"tenderNotice",t)},expression:"form.tenderNotice"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"投标报名",prop:"biddingRegistration"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入投标报名"},model:{value:e.form.biddingRegistration,callback:function(t){e.$set(e.form,"biddingRegistration",t)},expression:"form.biddingRegistration"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"招标文件发售",prop:"biddingDocumentsForSale"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入招标文件发售"},model:{value:e.form.biddingDocumentsForSale,callback:function(t){e.$set(e.form,"biddingDocumentsForSale",t)},expression:"form.biddingDocumentsForSale"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"现场踏勘",prop:"siteSurvey"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入现场踏勘"},model:{value:e.form.siteSurvey,callback:function(t){e.$set(e.form,"siteSurvey",t)},expression:"form.siteSurvey"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"评标委员会组建",prop:"establishmentOfTheBidEvaluationCommittee"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入评标委员会组建"},model:{value:e.form.establishmentOfTheBidEvaluationCommittee,callback:function(t){e.$set(e.form,"establishmentOfTheBidEvaluationCommittee",t)},expression:"form.establishmentOfTheBidEvaluationCommittee"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"开标组织文件",prop:"bidOpeningDocument"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入开标组织文件"},model:{value:e.form.bidOpeningDocument,callback:function(t){e.$set(e.form,"bidOpeningDocument",t)},expression:"form.bidOpeningDocument"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"评标过程",prop:"bidEvaluationProcess"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入评标过程"},model:{value:e.form.bidEvaluationProcess,callback:function(t){e.$set(e.form,"bidEvaluationProcess",t)},expression:"form.bidEvaluationProcess"}})],1)],1)],1),e._v(" "),e._l(e.form.bidderList,function(t,r){return a("el-row",{key:r,attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"排名次序",prop:"bidderList."+r+".rankingOrder",rules:{required:!0,message:"请输入排名次序",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入排名次序"},model:{value:t.rankingOrder,callback:function(a){e.$set(t,"rankingOrder",a)},expression:"item.rankingOrder"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"投标人名称",prop:"bidderList."+r+".bidderName",rules:{required:!0,message:"请输入投标人名称",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入投标人名称"},model:{value:t.bidderName,callback:function(a){e.$set(t,"bidderName",a)},expression:"item.bidderName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"评标得分",prop:"bidderList."+r+".bidEvaluation",rules:{required:!0,message:"请输入评标得分",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入评标得分"},model:{value:t.bidEvaluation,callback:function(a){e.$set(t,"bidEvaluation",a)},expression:"item.bidEvaluation"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("i",{staticClass:"el-icon-close",staticStyle:{"margin-top":"38px","font-size":"16px"},on:{click:function(t){return e.delBidder(r)}}})])],1)}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addBidder}},[e._v("+ 添加投标人")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"中标公示",prop:"successfulBidding"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入中标公示"},model:{value:e.form.successfulBidding,callback:function(t){e.$set(e.form,"successfulBidding",t)},expression:"form.successfulBidding"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"中标结果",prop:"winningResult"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入中标结果"},model:{value:e.form.winningResult,callback:function(t){e.$set(e.form,"winningResult",t)},expression:"form.winningResult"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"合同签订",prop:"signAContract"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入合同签订"},model:{value:e.form.signAContract,callback:function(t){e.$set(e.form,"signAContract",t)},expression:"form.signAContract"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司名称",prop:"companyName"}},[a("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日期",prop:"date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请输入日期"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1)],1)],2)],1)])},staticRenderFns:[]};var Ir=a("VU/8")(Tr,Nr,!1,function(e){a("S+YH")},null,null).exports,Ar={form:{projectName:"",purchaser:"",purchasingAgency:"",biddingDescription:"",firstItemContent:"",secondSectionContent:"",establishingABidEvaluationCommittee:"",familiarWithBiddingDocuments:"",review:"",bidEvaluationResult:"",bidderList:[{bidderName:"",rankingOrder:"",bidEvaluation:""}],recommendedCompanyName:"",companyName:"",date:""},rules:{purchaser:[{required:!0,message:"请输入采购人",trigger:"blur"}],purchasingAgency:[{required:!0,message:"请输入采购代理机构",trigger:"blur"}],biddingDescription:[{required:!0,message:"请输入招标描述",trigger:"blur"}],firstItemContent:[{required:!0,message:"请输入内容",trigger:"blur"}],secondSectionContent:[{required:!0,message:"请输入内容",trigger:"blur"}],establishingABidEvaluationCommittee:[{required:!0,message:"请输入组建评标委员会",trigger:"blur"}],familiarWithBiddingDocuments:[{required:!0,message:"请输入熟悉招标文件",trigger:"blur"}],review:[{required:!0,message:"请输入评审",trigger:"blur"}],bidEvaluationResult:[{required:!0,message:"请输入评标结果",trigger:"blur"}],recommendedCompanyName:[{required:!0,message:"请输入推荐公司名称",trigger:"blur"}],companyName:[{required:!0,message:"请输入公司名称",trigger:"blur"}],date:[{required:!0,message:"请输入日期",trigger:"blur"}]}},Sr={props:{data:{type:Object,default:function(){return{form:this.tool.deepCopy(Ar.form,this.tool.deepCopy)}}},disabled:{type:Boolean,default:!1}},data:function(){return{source:Ar,gutter:20,form:this.tool.deepCopy(this.data?this.data.form:Ar.form,this.tool.deepCopy),rules:this.tool.deepCopy(Ar.rules,this.tool.deepCopy)}},watch:{data:{handler:function(){this.setFormData(this.data)},immediate:!0}},methods:{getFormData:function(e,t){var a=this;return new la.a(function(r,s){t?r(a.tool.deepCopy(a.form,a.tool.deepCopy)):a.$refs[e].validate(function(e){e&&r(a.tool.deepCopy(a.form,a.tool.deepCopy))})})},setFormData:function(e){var t=this;t.form=t.tool.deepCopy(e?e.form:t.source.form,t.tool.deepCopy),t.form.projectName=e?e.projectName:"",t.form.contractNumber=e?e.contractNum:""},reset:function(){this.form=this.tool.deepCopy(this.source.form,this.tool.deepCopy)},addBidder:function(){var e=this,t=e.tool.deepCopy(e.source.form.bidderList[0],e.tool.deepCopy);e.form.bidderList||e.$set(e.form,"bidderList",[]),e.form.bidderList.push(t)},delBidder:function(e){this.form.bidderList.splice(e,1)}}},Lr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-of__bid-evaluation-report"},[a("div",{staticClass:"form-block"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,disabled:e.disabled,rules:e.rules}},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("span",[e._v(e._s(e.form.projectName))])])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购人",prop:"purchaser"}},[a("el-input",{attrs:{placeholder:"请输入采购人"},model:{value:e.form.purchaser,callback:function(t){e.$set(e.form,"purchaser",t)},expression:"form.purchaser"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购代理机构",prop:"purchasingAgency"}},[a("el-input",{attrs:{placeholder:"请输入采购代理机构"},model:{value:e.form.purchasingAgency,callback:function(t){e.$set(e.form,"purchasingAgency",t)},expression:"form.purchasingAgency"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"招标描述",prop:"biddingDescription"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入招标描述"},model:{value:e.form.biddingDescription,callback:function(t){e.$set(e.form,"biddingDescription",t)},expression:"form.biddingDescription"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"row--title",attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n          一、第一项\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"内容",prop:"firstItemContent"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.firstItemContent,callback:function(t){e.$set(e.form,"firstItemContent",t)},expression:"form.firstItemContent"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"row--title",attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n          二、第二项\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"内容",prop:"secondSectionContent"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.secondSectionContent,callback:function(t){e.$set(e.form,"secondSectionContent",t)},expression:"form.secondSectionContent"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"row--title",attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[e._v("\n          三、评标程序及情况\n        ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"组建评标委员会",prop:"establishingABidEvaluationCommittee"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入组建评标委员会"},model:{value:e.form.establishingABidEvaluationCommittee,callback:function(t){e.$set(e.form,"establishingABidEvaluationCommittee",t)},expression:"form.establishingABidEvaluationCommittee"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"熟悉招标文件",prop:"familiarWithBiddingDocuments"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入熟悉招标文件"},model:{value:e.form.familiarWithBiddingDocuments,callback:function(t){e.$set(e.form,"familiarWithBiddingDocuments",t)},expression:"form.familiarWithBiddingDocuments"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"评审",prop:"review"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入评审"},model:{value:e.form.review,callback:function(t){e.$set(e.form,"review",t)},expression:"form.review"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"评标结果",prop:"bidEvaluationResult"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入评标结果"},model:{value:e.form.bidEvaluationResult,callback:function(t){e.$set(e.form,"bidEvaluationResult",t)},expression:"form.bidEvaluationResult"}})],1)],1)],1),e._v(" "),e._l(e.form.bidderList,function(t,r){return a("el-row",{key:r,attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"投标人名称",prop:"bidderList."+r+".bidderName",rules:{required:!0,message:"请输入投标人名称",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入投标人名称"},model:{value:t.bidderName,callback:function(a){e.$set(t,"bidderName",a)},expression:"item.bidderName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"排名次序",prop:"bidderList."+r+".rankingOrder",rules:{required:!0,message:"请输入排名次序",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入排名次序"},model:{value:t.rankingOrder,callback:function(a){e.$set(t,"rankingOrder",a)},expression:"item.rankingOrder"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"评标得分",prop:"bidderList."+r+".bidEvaluation",rules:{required:!0,message:"请输入评标得分",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入评标得分"},model:{value:t.bidEvaluation,callback:function(a){e.$set(t,"bidEvaluation",a)},expression:"item.bidEvaluation"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("i",{staticClass:"el-icon-close",staticStyle:{"margin-top":"38px","font-size":"16px"},on:{click:function(t){return e.delBidder(r)}}})])],1)}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addBidder}},[e._v("+ 添加投标人")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"推荐公司名称",prop:"recommendedCompanyName"}},[a("el-input",{attrs:{placeholder:"请输入推荐公司名称"},model:{value:e.form.recommendedCompanyName,callback:function(t){e.$set(e.form,"recommendedCompanyName",t)},expression:"form.recommendedCompanyName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司名称",prop:"companyName"}},[a("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日期",prop:"date"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"请输入日期"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1)],1)],2)],1)])},staticRenderFns:[]};var $r={props:["transmittedData","disabled"],components:{t0:Ta,t1:Aa,t2:$a,t3:qa,t4:Oa,t5:Va,t6:Ha,t7:Ja,t8:Ya,t9:er,t10:rr,t11:ir,t12:ur,t13:dr,t14:hr,t15:yr,t16:Cr,t17:Dr,t18:Ir,t19:a("VU/8")(Sr,Lr,!1,function(e){a("xYLe")},null,null).exports},data:function(){return{currentTransmittedData:this.tool.deepCopy(this.transmittedData,this.tool.deepCopy),otherData:{},gutter:20,form:{model:1,template:"t0",materialName:"",signPathFile:"",reportNum:"",reportCopies:"",fileList:[]},rules:{model:[{required:!0,message:"请选择成果文件类型",trigger:"change"}],reportNum:[{required:!0,message:"请输入成果文件编号",trigger:"blur"}],reportCopies:[{max:10,message:"最长10位",trigger:"blur"},{validator:this.integer,trigger:"blur"},{validator:this.positiveNumber,trigger:"blur"}]},filedata:"",fileList:[],radioArr:[{display:"编制概算",value:"t0"},{display:"编制估算",value:"t1"},{display:"编制结算",value:"t2"},{display:"编制决算",value:"t3"},{display:"概算审核",value:"t9"},{display:"估算审核",value:"t10"},{display:"结算审核",value:"t11"},{display:"预算审核",value:"t12"},{display:"编制清标报告",value:"t4"},{display:"预算编制模板",value:"t8"},{display:"招标控制价模版",value:"t5"},{display:"进度款审核意见",value:"t15"},{display:"招标清单模版（分包、承包）",value:"t6"},{display:"招标控制价模版（总包）",value:"t7"},{display:"合同审核意见（未招标）",value:"t13"},{display:"合同审核意见（招标）",value:"t14"}],radioArr2:[{display:"招标代理",value:"t18"},{display:"评标书面报告",value:"t19"}]}},watch:{transmittedData:{handler:function(){var e=this;e.currentTransmittedData=e.tool.deepCopy(e.transmittedData,e.tool.deepCopy),"db5e76f9-9fbd-11e9-a036-0e411fd5cf91"==e.currentTransmittedData.departmentId?e.form.template="t0":e.form.template="t18",e.otherData.form=this.currentTransmittedData.formworkContent?JSON.parse(this.currentTransmittedData.formworkContent):{},e.otherData.projectName=this.currentTransmittedData.projectName?this.currentTransmittedData.projectName:"",e.otherData.contractNum=this.currentTransmittedData.contractNum?this.currentTransmittedData.contractNum:"",e.getDetailInfo()},immediate:!0}},methods:{clickFileList:function(){var e=this;e.$nextTick(function(){e.$refs.fileList.click()})},changeFileList:function(e){for(var t=0,a=e.target.files.length;t<a;t++)this.form.fileList.unshift(e.target.files[t])},delFileList:function(e,t,a){var r=this;r.disabled||r.$confirm("此操作将永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){r.form.fileList.splice(e,1),a&&r.apiAddress("/task/delete/deleteTaskPeriodMaterialInfo",{taskId:r.currentTransmittedData.taskId,relationId:t,materialPath:a}).then(function(e){"success"==e.data.status?(r.stateDialog("success",e.data.message),r.getDetailInfo()):r.stateDialog("error",e.data.message)}).catch(function(e){r.stateDialog("error",e)})}).catch(function(){})},getDetailInfo:function(){var e=this,t=this;t.tool.isNull(t.currentTransmittedData.taskType)||(t.form.model=Number(t.currentTransmittedData.taskType)),t.tool.isNull(t.currentTransmittedData.formworkType)||(t.form.template="t"+t.currentTransmittedData.formworkType),this.apiAddress("/task/query/searchOutcomeDocumentMaterial",{taskId:t.currentTransmittedData.taskId,relationId:t.currentTransmittedData.relationId}).then(function(a){if("success"==a.data.status){t.form.fileList=[];var r=a.data.dataVO;"0"===r.taskType&&(t.form.materialName=r.taskMaterialName,t.form.reportNum=r.reportNum);for(var s=void 0,o=0;o<a.data.fileList.length;o++)s=JSON.parse(m()(a.data.fileList[o]).replace(/materialName/g,"name")),t.form.fileList.push(s);t.form.reportCopies=r.reportCopies}else e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error",t)})},changeModel:function(e){1==this.form.model&&"db5e76f9-9fbd-11e9-a036-0e411fd5cf91"==this.currentTransmittedData.departmentId?this.form.template="t0":this.form.template="t18"},beforeAvatarUpload:function(e,t,a){return this.filedata=e,!1},handleAvatarSuccess:function(e,t){this.form.signPathFile=URL.createObjectURL(e.raw),this.form.materialName=e.name}}},Pr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"cost-results matterForm",attrs:{model:e.form,rules:e.rules,"label-width":"100px",disabled:e.disabled}},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"上传多文件"}},[a("button",{staticClass:"el-button btn-upload",attrs:{type:"button",disabled:e.disabled},on:{click:e.clickFileList}},[a("span",[a("i",{staticClass:"iconfont",staticStyle:{"font-size":"12px",color:"#0099E8","margin-right":"2px"}},[e._v("")]),e._v("点击上传")])]),e._v(" "),a("input",{ref:"fileList",attrs:{multiple:"",type:"file",hidden:"hidden"},on:{change:e.changeFileList}}),e._v(" "),e._l(e.form.fileList,function(t,r){return a("div",{key:r,staticClass:"file-list"},[a("el-input",{staticStyle:{"margin-top":"5px"},attrs:{placeholder:"请输入文件名称",disabled:!0},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"f.name"}}),e._v(" "),a("i",{staticClass:"el-icon-close",attrs:{title:"删除该文件"},on:{click:function(a){return e.delFileList(r,t.relationId,t.materialPath)}}})],1)})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"成果文件类型",prop:"model"}},[a("el-radio-group",{on:{change:e.changeModel},model:{value:e.form.model,callback:function(t){e.$set(e.form,"model",t)},expression:"form.model"}},[a("el-radio",{attrs:{label:0}},[e._v("自定义")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("模板")])],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"成果文件份数",prop:"reportCopies"}},[a("el-input",{attrs:{placeholder:"请输入成果文件份数"},model:{value:e.form.reportCopies,callback:function(t){e.$set(e.form,"reportCopies",t)},expression:"form.reportCopies"}})],1)],1)],1),e._v(" "),0==e.form.model?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"reportNum"}},[a("el-input",{attrs:{placeholder:"请输入成果文件编号"},model:{value:e.form.reportNum,callback:function(t){e.$set(e.form,"reportNum",t)},expression:"form.reportNum"}})],1)],1)],1):e._e(),e._v(" "),0==e.form.model?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上传成果文件"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{name:"file",action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,data:e.form}},[a("button",{staticClass:"el-button btn-upload",attrs:{type:"button"}},[a("span",[a("i",{staticClass:"iconfont",staticStyle:{"font-size":"12px",color:"#0099E8","margin-right":"2px"}},[e._v("")]),e._v("\n              点击上传\n            ")])])]),e._v(" "),a("el-input",{staticStyle:{"margin-top":"5px"},attrs:{placeholder:"请输入文件名称",disabled:!0},model:{value:e.form.materialName,callback:function(t){e.$set(e.form,"materialName",t)},expression:"form.materialName"}})],1)],1)],1):e._e(),e._v(" "),1==e.form.model&&"db5e76f9-9fbd-11e9-a036-0e411fd5cf91"==e.currentTransmittedData.departmentId?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-radio-group",{model:{value:e.form.template,callback:function(t){e.$set(e.form,"template",t)},expression:"form.template"}},e._l(e.radioArr,function(t,r){return a("el-radio",{key:r,staticStyle:{"margin-top":"10px"},attrs:{label:t.value}},[e._v(e._s(t.display))])}),1)],1)],1):e._e(),e._v(" "),1==e.form.model&&"dea3cd5d-9fbd-11e9-a036-0e411fd5cf91"==e.currentTransmittedData.departmentId?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-radio-group",{model:{value:e.form.template,callback:function(t){e.$set(e.form,"template",t)},expression:"form.template"}},e._l(e.radioArr2,function(t,r){return a("el-radio",{key:r,staticStyle:{"margin-top":"10px"},attrs:{label:t.value}},[e._v(e._s(t.display))])}),1)],1)],1):e._e(),e._v(" "),1==e.form.model?a("el-row",{staticStyle:{"margin-top":"22px"},attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a(e.form.template,{ref:"template",tag:"component",attrs:{transmittedData:e.currentTransmittedData,data:e.otherData,disabled:e.disabled}})],1)],1):e._e()],1)},staticRenderFns:[]};var jr=a("VU/8")($r,Pr,!1,function(e){a("9QzQ")},null,null).exports,qr={props:["transmittedData"],data:function(){return{tableData:{},centerDialogVisible:!1,ruleForm:{projectCondition:"",employer:"",bidPerson:"",planDateArr:"",delayReason:"",mainResult:"",relationId:"",taskId:""},rules:{projectCondition:[{required:!0,message:"项目概况",trigger:"blur"}],employer:[{required:!0,message:"请输入发包人",trigger:"blur"}],bidPerson:[{required:!0,message:"请输入项目中标人",trigger:"blur"}],planEndDate:[{required:!0,message:"请输入计划完成时间",trigger:"blur"}],delayReason:[{required:!0,message:"请输入延迟原因",trigger:"blur"}],mainResult:[{required:!0,message:"请输入咨询主要结论",trigger:"blur"}]}}},methods:{handClose:function(e){this.$refs[e].resetFields()},redact:function(){this.centerDialogVisible=!0},getCompileResultsFile:function(){var e=this,t=this;console.log(t.transmittedData.relationId),this.apiAddress("/task/query/searchTaskCompileResultsFileA2",{relationId:t.transmittedData.relationId}).then(function(a){"success"==a.data.status?(t.tableData=a.data.dataVO,t.ruleForm.projectCondition=a.data.dataVO.projectCondition,t.ruleForm.employer=a.data.dataVO.employer,t.ruleForm.bidPerson=a.data.dataVO.bidPerson,t.ruleForm.planDateArr=a.data.dataVO.planDateArr,t.ruleForm.delayReason=a.data.dataVO.delayReason,t.ruleForm.mainResult=a.data.dataVO.mainResult,t.ruleForm.relationId=a.data.dataVO.relationId,t.ruleForm.taskId=a.data.dataVO.taskId):e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error",t)})},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(r){if(!r)return t.stateDialog("error","验证失败"),!1;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.$axios.post("/task/add/addTaskCompileResultsFileA2",m()({projectCondition:a.ruleForm.projectCondition,employer:a.ruleForm.employer,bidPerson:a.ruleForm.bidPerson,planDateArr:a.ruleForm.planDateArr,delayReason:a.ruleForm.delayReason,mainResult:a.ruleForm.mainResult,taskId:a.ruleForm.taskId,relationId:a.ruleForm.relationId}),a.config).then(function(t){"success"==t.data.status?(a.centerDialogVisible=!1,a.$refs[e].resetFields(),a.getCompileResultsFile(),a.$message({type:"success",message:t.data.message,center:!0})):a.$message({type:"error",message:t.data.message,center:!0})}).catch(function(e){a.$message({type:"error",message:e,center:!0})})}).catch(function(){})})}},mounted:function(){this.getCompileResultsFile()}},Rr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A2"},[a("div",{staticClass:"matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",[e._v("工程咨询业务备案表")])]),e._v(" "),"1"===e.transmittedData.currentState&&"1"!=e.transmittedData.isInvalidFlag&&"1"===e.transmittedData.isMainHeadFlag&&"1"!==e.transmittedData.projectSts?a("el-col",{staticClass:"item-tab-chuang",attrs:{span:6}},[a("div",{on:{click:e.redact}},[a("span",{staticClass:"linear el-icon-edit"}),e._v("\n          编辑\n        ")])]):e._e()],1),e._v(" "),a("div",{staticClass:"matterTable"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("合同编号 :")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v(e._s(e.tableData.contractNum))])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("合同签订时间 :")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v(e._s(e.tableData.contractDate))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("项目名称 :")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v(e._s(e.tableData.projectName))])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("项目类别 :")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v(e._s(e.tableData.counselBusinessType))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("成果文件编号 :")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v(e._s(e.tableData.reportNum))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("项目委托单位 :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.tableData.trusterName))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("项目概况 :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.tableData.projectCondition))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("发包人 :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.tableData.employer))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("项目中标人 :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.tableData.bidPerson))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("计划完成时间 :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.tableData.planStartDate)+" - "+e._s(e.tableData.planEndDate))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("实际完成时间 :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.tableData.actualStartDate)+" - "+e._s(e.tableData.actualEndDate))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("延迟原因 :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.tableData.delayReason))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("咨询主要结论 :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.tableData.mainResult))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("签名")])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v("时间")])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("咨询人员 :")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("img",{staticStyle:{"max-height":"50px","max-width":"130px"},attrs:{slot:"reference",src:e.tableData.applyUserSignPath,alt:""},slot:"reference"})])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v(e._s(e.tableData.applyTime))])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("项目负责人 :")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("img",{staticStyle:{"max-height":"50px","max-width":"130px"},attrs:{slot:"reference",src:e.tableData.createUserSignPath,alt:""},slot:"reference"})])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v(e._s(e.tableData.applyTime))])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.centerDialogVisible,width:"500px",top:"20vh",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"项目概况",prop:"copies"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入项目概况"},model:{value:e.ruleForm.projectCondition,callback:function(t){e.$set(e.ruleForm,"projectCondition",t)},expression:"ruleForm.projectCondition"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发包人",prop:"contract"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入发包人"},model:{value:e.ruleForm.employer,callback:function(t){e.$set(e.ruleForm,"employer",t)},expression:"ruleForm.employer"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目中标人",prop:"acceptance"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入项目中标人"},model:{value:e.ruleForm.bidPerson,callback:function(t){e.$set(e.ruleForm,"bidPerson",t)},expression:"ruleForm.bidPerson"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计划完成时间",prop:"planDateArr"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.ruleForm.planDateArr,callback:function(t){e.$set(e.ruleForm,"planDateArr",t)},expression:"ruleForm.planDateArr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"延迟原因",prop:"delay"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入延迟原因"},model:{value:e.ruleForm.delayReason,callback:function(t){e.$set(e.ruleForm,"delayReason",t)},expression:"ruleForm.delayReason"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"咨询主要结论",prop:"conclusion"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入咨询主要结论"},model:{value:e.ruleForm.mainResult,callback:function(t){e.$set(e.ruleForm,"mainResult",t)},expression:"ruleForm.mainResult"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Br=a("VU/8")(qr,Rr,!1,function(e){a("gxh+")},null,null).exports,Or={props:["projectName","contractNum","outcomeDocNo","tableListData"],data:function(){return{showA3:!0,showImg:!1,imgSrc:"",imgAlt:"",resultList:[{title:"一级审核",taskKey:"ManagerVerify",children:[{name:"",time:"",isPass:null,signPath:"",opinion:""}]},{title:"二级审核",taskKey:"QualityVerify",children:[{name:"XXX",time:"",isPass:null,signPath:"",opinion:""}]},{title:"三级审核",taskKey:"GenerManagerVerify",children:[{name:"",time:"",isPass:null,signPath:"",opinion:""}]}]}},watch:{tableListData:{handler:function(){var e=this;if(e.tableListData.length)for(var t=e.tool.deepCopy(e.tableListData,e.tool.deepCopy),a=0,r=t.length;a<r;a++)for(var s=0,o=e.resultList.length;s<o;s++)t[a].taskKey==e.resultList[s].taskKey&&(e.resultList[s]=e.tool.deepCopy(t[a],e.tool.deepCopy));e.resultList=e.tool.deepCopy(e.resultList,e.tool.deepCopy)},immediate:!0}},mounted:function(){var e=this;e.bus.$on("checkFile",function(t){e.checkFile(t)})},methods:{showOpinions:function(e){for(var t="",a=0;a<e.length;a++){if(null==e[a].isPass)return"";"0"==e[a].isPass&&(t+="<p>"+(a+1)+". "+e[a].opinion,t+=";</p></br>"),"1"==e[a].isPass&&(t+="<p>"+(a+1)+"、通过;</p></br>")}return t},showMaxDate:function(e){for(var t=e[0].time,a=e.length-1;a>=0;a--)new Date(t)>new Date(e[a].time)&&(t=e[a].time);return t},showResult:function(e){for(var t="-",a=!1,r=e.length-1;r>=0;r--)"0"==e[r].isPass&&(t="已修改"),"1"==e[r].isPass&&(a=!0);return a?t:""},showPassDate:function(e){for(var t="",a=e.length-1;a>=0;a--)"1"==e[a].isPass&&(t=e[a].time);return t},showSignPath:function(e){for(var t=e.length-1;t>=0;t--)if("1"==e[t].isPass)return e[t].signPath;return""},checkFile:function(e){this.showImg=!0,1==e?this.imgAlt="暂无文件":2==e&&(this.imgAlt="文件暂时无法预览，请下载查看！")}}},zr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-contract-compile",staticStyle:{height:"100%"}},[e.showA3?a("div",{staticStyle:{position:"relative",height:"100%"}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[e._v("项目名称:"+e._s(e.projectName)+"\n\t\t\t\t")]),e._v(" "),a("el-col",{staticClass:"text-align-right",staticStyle:{"padding-right":"20px"},attrs:{span:12}},[e._v("咨询合同编号："+e._s(e.contractNum)+"\n\t\t\t\t")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"text-align-right",staticStyle:{"padding-right":"20px"},attrs:{span:12,offset:12}},[e._v("成果文件编号："+e._s(e.outcomeDocNo)+"\n\t\t\t\t")])],1)],1),e._v(" "),a("div",{staticClass:"form-block",staticStyle:{position:"absolute",width:"100%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.resultList,border:!0}},[a("el-table-column",{attrs:{align:"center",prop:"title",label:"复核"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"复核意见","class-name":"classMame"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table-block"},[a("div",{staticClass:"contant",domProps:{innerHTML:e._s(e.showOpinions(t.row.children))}}),e._v(" "),a("div",{staticClass:"floor"},[e._v("初审日期："+e._s(e.showMaxDate(t.row.children)))])])]}}],null,!1,3336528546)}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"执行结果","class-name":"classMame"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table-block"},[a("div",{staticClass:"contant"},[a("p",[e._v(e._s(e.showResult(t.row.children)))])]),e._v(" "),a("div",{staticClass:"floor"},[e._v("执行日期："+e._s(e.showPassDate(t.row.children)))])])]}}],null,!1,1991099646)}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"复核人","class-name":"classMame"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table-block"},[a("div",{staticClass:"contant"},[a("img",{attrs:{src:e.showSignPath(t.row.children)}})]),e._v(" "),a("div",{staticClass:"floor"},[e._v("通过日期："+e._s(e.showPassDate(t.row.children)))])])]}}],null,!1,3604884781)})],1)],1),e._v(" "),e.showImg?a("div",{staticClass:"img-failure"},[a("img",{attrs:{src:e.imgSrc,alt:e.imgAlt}}),e._v(" "),a("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.imgAlt))])]):e._e()]):e._e()])},staticRenderFns:[]};var Mr=a("VU/8")(Or,zr,!1,function(e){a("VVzq"),a("ED7u")},"data-v-2b4b5e8c",null).exports,Vr={props:["transmittedData"],data:function(){return{centerDialogVisible:!1,ruleForm:{tenderTaskName:""},rules:{tenderTaskName:[{required:!0,message:"请输入成果文件编号",trigger:"blur"}]},A3Flg:!1,tableListData:[],projectName:"",contractNum:"",outcomeDocNo:"",currentTransmittedData:this.transmittedData}},components:{"cost-A3":Mr},mounted:function(){this.currentTransmittedData.pageContent.indexOf("A3")>-1?(this.A3Flg=!1,this.searchHTTaskHisTaskInst(this.currentTransmittedData.relationId),this.searchProjectNumContractNumFileNumberByTaskPeriodId(this.currentTransmittedData.relationId)):this.A3Flg=!1},methods:{searchProjectNumContractNumFileNumberByTaskPeriodId:function(e){var t=this;this.apiAddress("/task/query/searchProjectNumContractNumFileNumberByTaskPeriodId",{relationId:e}).then(function(e){"failure"==e.data.status?t.stateDialog("error",e.data.message):(t.projectName=e.data.dataVO.projectName,t.contractNum=e.data.dataVO.contractNum,t.outcomeDocNo=e.data.dataVO.reportNum)}).catch(function(e){t.stateDialog("error",e)})},searchHTTaskHisTaskInst:function(e){var t=this,a=this;a.apiAddress("/task/query/searchHTTaskHisTaskInst",{relationId:e}).then(function(e){if("failure"==e.data.status)t.stateDialog("error",e.data.message);else{for(var r=e.data.dataList,s=0;s<r.length;s++){r[s].title=a.getStepName(r[s].taskKey),r[s]=JSON.parse(m()(r[s]).replace(/htTaskPeriodVOList/g,"children"));for(var o=r[s].children,n=0;n<o.length;n++){o[n]=JSON.parse(m()(o[n]).replace(/approveTime/g,"time")),o[n]=JSON.parse(m()(o[n]).replace(/approveUserName/g,"name")),o[n]=JSON.parse(m()(o[n]).replace(/htUserQuestionRecordRelationVOList/g,"persions")),o[n]=JSON.parse(m()(o[n]).replace(/rejectReason/g,"opinion"));for(var i=a.groupBy(o[n].persions,function(e){return[e.userId]}),l=0;l<i.length;l++){i[l].name=i[l].dataList[0].userName,i[l]=JSON.parse(m()(i[l]).replace(/dataList/g,"errorList"));for(var c=i[l].errorList,u=c.length-1;u>=0;u--)c[u]=JSON.parse(m()(c[u]).replace(/questionName/g,"type")),c[u]=JSON.parse(m()(c[u]).replace(/questionNum/g,"num"));i[l].errorList=c}o[n].persions=i}}a.tableListData=r,t.currentTransmittedData.pageContent.indexOf("A3")>-1&&(t.A3Flg=!0)}}).catch(function(e){t.stateDialog("error",e)})},handClose:function(e){this.$refs[e].resetFields()},redact:function(){this.centerDialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.stateDialog("error","验证失败"),!1;t.centerDialogVisible=!1,t.stateDialog("success","提交成功")})}}},Ur={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A3"},[e.A3Flg?a("cost-A3",{attrs:{projectName:e.projectName,contractNum:e.contractNum,outcomeDocNo:e.outcomeDocNo,tableListData:e.tableListData}}):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.centerDialogVisible,width:"500px",top:"20vh",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"成果文件编号",prop:"tenderTaskName"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入成果文件编号"},model:{value:e.ruleForm.tenderTaskName,callback:function(t){e.$set(e.ruleForm,"tenderTaskName",t)},expression:"ruleForm.tenderTaskName"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Er=a("VU/8")(Vr,Ur,!1,function(e){a("5Wrx")},null,null).exports,Hr=a("Gu7T"),Wr=a.n(Hr),Kr={props:["transmittedData"],data:function(){return{data:{relationId:"",engineeingTypeArr:[],contractAmount:"",settlePrice:"",settleReason:"",unitProjectList:[]},centerDialogVisible:!1,form:{},ruleForm:{relationId:"",engineeingTypeArr:[],contractAmount:"",settlePrice:"",settleReason:"",unitProjectList:[]},rules:{engineeingTypeArr:[{required:!0,message:"请选择工程类别",trigger:"change"}],contractAmount:[{required:!0,message:"请输入合同价格",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],settlePrice:[{required:!0,message:"请输入结算价格",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],settleReason:[{required:!0,message:"请输入结算价超出合同价的原因（若有）",trigger:"blur"}]},tableData:[],checkList:[{name:"房建",id:"0"},{name:"工业建筑",id:"1"},{name:"公共建筑",id:"2"},{name:"园林绿化",id:"3"},{name:"安装",id:"4"},{name:"市政",id:"5"},{name:"交通",id:"6"}]}},mounted:function(){this.searchList()},methods:{searchList:function(){var e=this,t=this;t.apiAddress("/taskExecute/query/searchA7ZJInfo",{relationId:t.transmittedData.relationId,taskId:t.transmittedData.taskId}).then(function(a){"success"==a.data.status&&(t.tool.isNull(a.data.dataVO)||(t.ruleForm=a.data.dataVO,t.tool.isNull(e.ruleForm.unitProjectList)&&(t.ruleForm.unitProjectList=[]),t.tool.isNull(t.ruleForm.engineeingTypeArr)&&(t.ruleForm.engineeingTypeArr=[]),t.form=W()({},t.ruleForm),t.data=W()({},t.ruleForm),t.tool.isNull(a.data.dataVO.unitProjectList)||(t.tableData=[].concat(Wr()(a.data.dataVO.unitProjectList)))))}).catch(function(t){e.stateDialog("error",t)})},handClose:function(e){this.$refs[e].resetFields(),this.ruleForm.unitProjectList=[]},redact:function(){this.ruleForm=W()({},this.data),this.centerDialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t;t.ruleForm.relationId=t.transmittedData.relationId;var r=t.ruleForm;t.apiAddress("/taskExecute/add/insertA7ZJInfo",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.centerDialogVisible=!1,a.searchList(),a.$message({message:e.data.message,type:"success",center:!0}))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})})},addAform:function(){this.ruleForm.unitProjectList.push({unitName:"",constructScale:"",constructCost:"",unitCost:"",costRatio:""})},colseForm:function(e,t){this.ruleForm.unitProjectList.splice(t,1)}}},Jr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A7"},[a("div",{staticClass:"matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",[e._v("工程造价指标分析表")])]),e._v(" "),"1"===e.transmittedData.currentState&&"1"!=e.transmittedData.isInvalidFlag&&"1"===e.transmittedData.isMainHeadFlag&&"1"!==e.transmittedData.projectSts?a("el-col",{staticClass:"item-tab-chuang",attrs:{span:6}},[a("div",{on:{click:e.redact}},[a("span",{staticClass:"linear el-icon-edit"}),e._v("\n          编辑\n        ")])]):e._e()],1),e._v(" "),a("div",{staticClass:"matterTable"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("咨询合同编号 :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.form.contractNum))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("项目名称 :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.form.projectName))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("工程类别 :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.form.engineeingTypeName))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("合同价格(元):")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.form.contractAmount))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("结算价格(元):")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.form.settlePrice))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[e._v("结算价超出合同价的原因（若有） :")])]),e._v(" "),a("el-col",{attrs:{span:18}},[a("div",[e._v(e._s(e.form.settleReason))])])],1)],1)],1),e._v(" "),a("div",{staticClass:"matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",[e._v("单位工程造价指标")])])],1),e._v(" "),a("div",{staticClass:"matterTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"sortNum",label:"序号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"unitName",label:"单位工程名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"constructScale",label:"建设规模（㎡/m）",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"constructCost",label:"造价（元）",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"unitCost",label:"单位造价（元/㎡）",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"costRatio",label:"造价比例（%）",align:"center"}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.centerDialogVisible,width:"700px",top:"20vh",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm","unitProjectList")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"工程类别",prop:"engineeingTypeArr"}},[a("el-checkbox-group",{model:{value:e.ruleForm.engineeingTypeArr,callback:function(t){e.$set(e.ruleForm,"engineeingTypeArr",t)},expression:"ruleForm.engineeingTypeArr"}},e._l(e.checkList,function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name))])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"合同价格（元）",prop:"contractAmount"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入合同价格"},model:{value:e.ruleForm.contractAmount,callback:function(t){e.$set(e.ruleForm,"contractAmount",t)},expression:"ruleForm.contractAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结算价格（元）",prop:"settlePrice"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入结算价格"},model:{value:e.ruleForm.settlePrice,callback:function(t){e.$set(e.ruleForm,"settlePrice",t)},expression:"ruleForm.settlePrice"}})],1),e._v(" "),a("el-form-item",{staticClass:"cause",attrs:{label:"结算价超出合同价的原因（若有）",prop:"settleReason"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入结算价超出合同价的原因（若有）"},model:{value:e.ruleForm.settleReason,callback:function(t){e.$set(e.ruleForm,"settleReason",t)},expression:"ruleForm.settleReason"}})],1),e._v(" "),a("el-row",{staticClass:"add"},[a("el-col",{attrs:{span:12}},[a("span",[e._v("单位工程造价指标")]),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addAform}})],1)],1),e._v(" "),e._l(e.ruleForm.unitProjectList,function(t,r){return a("div",{key:r,staticClass:"demo-ruleForm addruleForm"},[a("el-button",{staticClass:"colseform",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(a){return e.colseForm(t,r)}}}),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位工程名称",prop:"unitProjectList["+r+"].unitName",rules:[{required:!0,message:"请输入单位工程名称",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入单位工程名称"},model:{value:t.unitName,callback:function(a){e.$set(t,"unitName",a)},expression:"item.unitName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建设规模（㎡/m）",prop:"unitProjectList["+r+"].constructScale",rules:[{required:!0,message:"请输入建设规模（㎡/m）",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入建设规模（㎡/m）"},model:{value:t.constructScale,callback:function(a){e.$set(t,"constructScale",a)},expression:"item.constructScale"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"造价（元）",prop:"unitProjectList["+r+"].constructCost",rules:[{required:!0,message:"请输入造价（元）",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入造价（元）"},model:{value:t.constructCost,callback:function(a){e.$set(t,"constructCost",a)},expression:"item.constructCost"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位造价（元/㎡）",prop:"unitProjectList["+r+"].unitCost",rules:[{required:!0,message:"请输入单位造价（元/㎡）",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入单位造价（元/㎡）"},model:{value:t.unitCost,callback:function(a){e.$set(t,"unitCost",a)},expression:"item.unitCost"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"造价比例（%）",prop:"unitProjectList["+r+"].costRatio",rules:[{required:!0,message:"请输入造价比例（%）",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入造价比例（%）"},model:{value:t.costRatio,callback:function(a){e.$set(t,"costRatio",a)},expression:"item.costRatio"}})],1)],1)],1)],1)})],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Qr={props:["transmittedData","disabled"],data:function(){return{prepareFlg:!1,top:"top",active:"/page/report/prepare",currentTransmittedData:this.tool.deepCopy(this.transmittedData,this.tool.deepCopy),file:"",formData:new FormData}},watch:{transmittedData:{handler:function(){var e=this;e.currentTransmittedData=e.tool.deepCopy(e.transmittedData,e.tool.deepCopy),e.getPreparationOfOutcomeDocumentsDetailInfo()},immediate:!0}},components:{costA2:Br,costA3:Er,costA7:a("VU/8")(Kr,Jr,!1,function(e){a("JZCZ")},null,null).exports,results:jr,"dialog-browse-file":Ht,previewFile:Jt},mounted:function(){var e=this;e.bus.$off("submitPreparationOfOutcomeDocuments"),e.bus.$on("submitPreparationOfOutcomeDocuments",function(t){e.$nextTick(function(){e.submit(t,t.submitFlag)})}),e.bus.$off("checkOutcomeDocuments"),e.bus.$on("checkOutcomeDocuments",function(t){e.$nextTick(function(){var a=e.$refs.results;"0"==a.form.model?a.$refs.form.validate(function(e){e&&t()}):a.$refs.template.$refs.form.validate(function(e){e&&t()})})}),e.bus.$off("preview"),e.bus.$on("preview",function(t){e.$nextTick(function(){e.preview(t)})})},methods:{preview:function(e){var t=this,a=t.$refs.results,r=a.form,s=void 0;"1"==r.model&&(s=W()({},a.$refs.template.form));var o=new FormData;if(o.append("relationId",e.relationId),o.append("materialIds",e.materialIds),o.append("submitNode",e.submitNode),o.append("periodName",e.periodName),o.append("taskId",this.currentTransmittedData.taskId),o.append("taskType",r.model),o.append("type","task"),"0"==r.model)a.$refs.upload.submit(),o.append("signPathFile",a.filedata),o.append("reportNum",r.reportNum),t.formData=o,t.file={materialPath:!0,isGeneratedFile:!0,noSubmitPreview:"1"},t.$refs.previewFile.show=!0;else if("1"==r.model){var n=r.template.replace("t","");o.append("formworkType",n);var i={},l=void 0,c=void 0,u=void 0,p=void 0,d=void 0,f=void 0,g=[],h=[];switch(n){case"0":l=(i=s).input3,i.input3=this.formatDate(l,"/"),""!==i.input10&&(p=new Date(i.input10),i.input10=this.formatDate(p,1)),""!==i.input11&&(d=new Date(i.input11),i.input11=this.formatDate(d,2)),""!==i.input13&&(f=new Date(i.input13),i.input13=this.formatDate(f,2)),o.append("reportNum",i.input19);break;case"1":l=(i=s).input3,i.input3=this.formatDate(l,"/"),o.append("reportNum",i.input14);break;case"2":l=(i=s).input3,i.input3=this.formatDate(l,"/"),g=i.input8,this.tool.isNull(g)||(i.input8=this.formatDate(g[0],0)+"至"+this.formatDate(g[1],0)),h=i.input9,this.tool.isNull(h)||(i.input9=this.formatDate(h[0],0)+"至"+this.formatDate(h[1],0)),o.append("reportNum",i.input19);break;case"3":l=(i=s).input3,i.input3=this.formatDate(l,"/"),o.append("reportNum",i.input18);break;case"4":l=(i=s).input3,i.input3=this.formatDate(l,"/"),u=i.input9,i.input9=this.formatDate(u,0),o.append("reportNum",i.input35);break;case"5":l=(i=s).input3,i.input3=this.formatDate(l,"/"),p=i.input10,i.input10=this.formatDate(p,2),o.append("reportNum",i.input19);break;case"6":l=(i=s).input3,i.input3=this.formatDate(l,"/"),p=i.input10,i.input10=this.formatDate(p,2),o.append("reportNum",i.input15);break;case"7":l=(i=s).input3,i.input3=this.formatDate(l,"/"),o.append("reportNum",i.input15);break;case"8":l=(i=s).input3,i.input3=this.formatDate(l,"/"),p=i.input10,i.input10=this.formatDate(p,2),d=i.input115,i.input115=this.formatDate(d,2),o.append("reportNum",i.input21);break;case"9":l=(i=s).input3,i.input3=this.formatDate(l,"/"),p=i.input18,i.input18=this.formatDate(new Date(p),1),o.append("reportNum",i.input34);break;case"10":l=(i=s).input3,i.input3=this.formatDate(l,"/"),c=i.input16,i.input16=this.formatDate(c,0),o.append("reportNum",i.input35);break;case"11":l=(i=s).input3,i.input3=this.formatDate(l,"/"),o.append("reportNum",i.input48);break;case"12":l=(i=s).input3,i.input3=this.formatDate(l,"/"),c=i.input16,i.input16=this.formatDate(new Date(c),0),o.append("reportNum",i.input33);break;case"15":case"16":c=(i=s).input6,i.input6=this.formatDate(c,0),"0"==i.input14&&(i.input15=""),"0"==i.input16&&(i.input17="",i.input18="");break;case"17":c=(i=s).input6,i.input6=this.formatDate(c,0),p=i.input9,i.input9=this.formatDate(p,2),"0"==i.input14&&(i.input15=""),"0"==i.input16&&(i.input17="",i.input18="");break;case"18":case"19":return void a.$refs.template.getFormData("form").then(function(e){(i=e).date=t.tool.formatDate(e.date,"yyyy-mm-dd hh:MM:ss"),i.input100=t.formatDate(new Date,0),o.append("formworkContent",m()(i)),t.formData=o,t.file={materialPath:!0,isGeneratedFile:!0,noSubmitPreview:"1"},t.$refs.previewFile.show=!0});default:i=s}i.input100=this.formatDate(new Date,0),o.append("formworkContent",m()(i)),t.$refs.results.$refs.template.$refs.form.validate(function(e){e&&(t.formData=o,t.file={materialPath:!0,isGeneratedFile:!0,noSubmitPreview:"1"},t.$refs.previewFile.show=!0)})}},submit:function(e,t){var a=this,r=a.$refs.results,s=r.form,o=void 0;"1"==s.model&&(o=r.$refs.template.form);var n=new FormData;n.append("reportCopies",s.reportCopies),n.append("relationId",e.relationId),n.append("materialIds",e.materialIds),n.append("submitNode",e.submitNode),n.append("periodName",e.periodName),n.append("taskId",this.currentTransmittedData.taskId),n.append("taskType",s.model);for(var i=0;i<r.form.fileList.length;i++)n.append("fileList",r.form.fileList[i]);if("0"==s.model)if(r.$refs.upload.submit(),n.append("signPathFile",r.filedata),n.append("reportNum",s.reportNum),console.log("type",t),t)a.$confirm("是否保存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.submitDraftReview(n)});else{if(!r.filedata&&!s.materialName)return void a.stateDialog("error","成果文件不能为空！");a.$refs.results.$refs.form.validate(function(e){if(e)return a.submitReview(n)})}else if("1"==s.model){console.log("resultsForm.template",s.template);var l=s.template.replace("t","");n.append("formworkType",l);var c={},u=void 0,p=void 0,d=void 0,f=void 0,g=void 0,h=void 0,v=[],b=[];switch(console.log("formworkType",l),l){case"0":u=(c=o).input3,c.input3=this.formatDate(u,"/"),f=new Date(c.input10),c.input10=this.formatDate(f,1),g=new Date(c.input11),c.input11=this.formatDate(g,2),h=new Date(c.input13),c.input13=this.formatDate(h,2),n.append("reportNum",c.input19);break;case"1":u=(c=o).input3,c.input3=this.formatDate(u,"/"),n.append("reportNum",c.input14);break;case"2":u=(c=o).input3,c.input3=this.formatDate(u,"/"),v=c.input8,this.tool.isNull(v)||(c.input8=this.formatDate(v[0],0)+"至"+this.formatDate(v[1],0)),b=c.input9,this.tool.isNull(b)||(c.input9=this.formatDate(b[0],0)+"至"+this.formatDate(b[1],0)),n.append("reportNum",c.input19);break;case"3":u=(c=o).input3,c.input3=this.formatDate(u,"/"),n.append("reportNum",c.input18);break;case"4":u=(c=o).input3,c.input3=this.formatDate(u,"/"),d=c.input9,c.input9=this.formatDate(d,0),n.append("reportNum",c.input35);break;case"5":u=(c=o).input3,c.input3=this.formatDate(u,"/"),f=c.input10,c.input10=this.formatDate(f,2),n.append("reportNum",c.input19);break;case"6":u=(c=o).input3,c.input3=this.formatDate(u,"/"),f=c.input10,c.input10=this.formatDate(f,2),n.append("reportNum",c.input15);break;case"7":u=(c=o).input3,c.input3=this.formatDate(u,"/"),n.append("reportNum",c.input15);break;case"8":u=(c=o).input3,c.input3=this.formatDate(u,"/"),f=c.input10,c.input10=this.formatDate(f,2),g=c.input115,c.input115=this.formatDate(g,2),n.append("reportNum",c.input21);break;case"9":u=(c=o).input3,c.input3=this.formatDate(u,"/"),f=c.input18,c.input18=this.formatDate(new Date(f),1),n.append("reportNum",c.input34);break;case"10":u=(c=o).input3,c.input3=this.formatDate(u,"/"),p=c.input16,c.input16=this.formatDate(p,0),n.append("reportNum",c.input35);break;case"11":u=(c=o).input3,c.input3=this.formatDate(u,"/"),n.append("reportNum",c.input48);break;case"12":u=(c=o).input3,c.input3=this.formatDate(u,"/"),p=c.input16,c.input16=this.formatDate(new Date(p),0),n.append("reportNum",c.input33);break;case"15":case"16":p=(c=o).input6,c.input6=this.formatDate(p,0),"0"==c.input14&&(c.input15=""),"0"==c.input16&&(c.input17="",c.input18="");break;case"17":p=(c=o).input6,c.input6=this.formatDate(p,0),f=c.input9,c.input9=this.formatDate(f,2),"0"==c.input14&&(c.input15=""),"0"==c.input16&&(c.input17="",c.input18="");break;case"18":case"19":var y=this;return void(t?r.$refs.template.getFormData("form",!0).then(function(e){(c=e).input100=y.formatDate(new Date,0),n.append("formworkContent",m()(c)),y.$confirm("是否保存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){y.submitDraftReview(n)})}):r.$refs.template.getFormData("form").then(function(e){(c=e).input100=y.formatDate(new Date,0),n.append("formworkContent",m()(c)),y.submitReview(n)}));default:c=o}c.input100=this.formatDate(new Date,0),n.append("formworkContent",m()(c)),t?a.$confirm("是否保存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.submitDraftReview(n)}):a.$refs.results.$refs.template.$refs.form.validate(function(e){e&&a.submitReview(n)})}},submitReview:function(e){var t=this;t.$confirm("是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress("/task/modify/submitAuditOutcomeDocumentPeriod",e).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.$router.push("/page/work/default")):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},submitDraftReview:function(e){var t=this;t.apiAddress("/task/modify/saveDraftAuditOutcomeDocumentPeriod",e).then(function(e){"success"==e.data.status?t.$message({message:e.data.message,type:"success",duration:750,center:!0,onClose:function(){t.$router.go(0)}}):t.$message({message:e.data.message,type:"error",center:!0})}).catch(function(e){t.stateDialog("error",e)})},getPreparationOfOutcomeDocumentsDetailInfo:function(){var e=this,t=this;this.apiAddress("/task/query/searchTaskInfo",{taskId:this.currentTransmittedData.taskId}).then(function(a){if("success"==a.data.status){var r=a.data.dataVO;t.currentTransmittedData=W()({},e.currentTransmittedData,{taskType:r.taskType,formworkType:r.formworkType,formworkContent:r.formworkContent,contractNum:r.contractNum,projectName:r.projectName}),"3"==e.currentTransmittedData.periodType&&(e.prepareFlg=!0)}}).catch(function(t){e.stateDialog("error",t)})},formatDate:function(e,t){if("string"==typeof e&&e.indexOf("/")>-1)return e;var a="";if(!this.tool.isNull(e)){var r=e.getFullYear(),s=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,o=e.getDate()<10?"0"+e.getDate():e.getDate();a="0"==t?r+"年"+s+"月"+o+"日":"1"==t?r+"":"2"==t?r+"年"+s+"月":r+t+s+t+o+""}return a}}},Gr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-index"},[a("el-tabs",{staticClass:"tabs",attrs:{type:"card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-tab-pane",{attrs:{label:"成果文件",name:"/page/report/prepare",lazy:!0}},[e.prepareFlg?a("results",{ref:"results",attrs:{transmittedData:e.currentTransmittedData,disabled:e.disabled}}):e._e()],1),e._v(" "),e.currentTransmittedData.pageContent.indexOf("A2")>-1?a("el-tab-pane",{attrs:{label:"A2",name:"/page/report/prepare/a2",lazy:!0}},[a("costA2",{attrs:{transmittedData:e.currentTransmittedData}})],1):e._e(),e._v(" "),e.currentTransmittedData.pageContent.indexOf("A3")>-1?a("el-tab-pane",{attrs:{label:"A3",name:"/page/report/prepare/a3",lazy:!0}},[a("costA3",{attrs:{transmittedData:e.currentTransmittedData}})],1):e._e(),e._v(" "),e.currentTransmittedData.pageContent.indexOf("A7")>-1?a("el-tab-pane",{attrs:{label:"A7",name:"/page/report/prepare/a7",lazy:!0}},[a("costA7",{attrs:{transmittedData:e.currentTransmittedData}})],1):e._e()],1),e._v(" "),a("preview-file",{ref:"previewFile",attrs:{file:e.file,type:"request",formData:e.formData}})],1)},staticRenderFns:[]};var Yr=a("VU/8")(Qr,Gr,!1,function(e){a("+asX"),a("cr7J")},"data-v-9541379c",null).exports,Xr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A4 matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",[a("p",[e._v("工程咨询业务资料移交记录表")])])])],1),e._v(" "),a("table",{staticClass:"align-center"},[a("tbody",[a("tr",[e._m(0),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.form.contractNum))])]),e._v(" "),e._m(1),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.form.projectName))])])]),e._v(" "),a("tr",[e._m(2),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.form.counselBusinessType))])]),e._v(" "),e._m(3),e._v(" "),e._m(4)]),e._v(" "),a("tr",[e._m(5),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.form.trusterName))])]),e._v(" "),e._m(6),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.form.trusterDutyUser))])])]),e._v(" "),a("tr",[e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.form.operatorName))])])])])]),e._v(" "),a("table",{staticClass:"align-center"},[e._m(10),e._v(" "),a("tbody",e._l(e.tableData,function(t,r){return a("tr",{key:r},[a("td",[a("div",{staticClass:"cell"},[e._v(e._s(r+1))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.materialName))])]),e._v(" "),e._m(11,!0),e._v(" "),e._m(12,!0),e._v(" "),e._m(13,!0),e._v(" "),e._m(14,!0),e._v(" "),e._m(15,!0),e._v(" "),e._m(16,!0),e._v(" "),e._m(17,!0),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.remark))])])])}),0)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("合同编号")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("项目名称")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("业务类别")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("委托方")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("经手人")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("签收方")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("汉腾公司")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("经手人")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[a("div",{staticClass:"cell"},[e._v("序号")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("文件名称")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("文件类型")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("原件/复印件")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("份数")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("提交人")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("提交时间")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("接收人")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("接收时间")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("备注")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("1份")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"})])}]};var Zr=a("VU/8")({props:["transmittedData"],data:function(){return{tableData:[],form:{},currentTransmittedData:this.tool.deepCopy(this.transmittedData,this.tool.deepCopy)}},watch:{transmittedData:{handler:function(){this.currentTransmittedData=this.tool.deepCopy(this.transmittedData,this.tool.deepCopy)},immediate:!0}},mounted:function(){var e=this;this.searchList(),this.bus.$on("searchList",function(t){e.searchList()})},methods:{searchList:function(){var e=this;this.apiAddress("/taskExecute/query/searchA4Info",{relationId:this.currentTransmittedData.relationId,taskId:this.currentTransmittedData.taskId}).then(function(t){"success"==t.data.status&&(e.form=t.data.dataVO,e.tableData=t.data.dataVO.taskMaterialList)}).catch(function(t){e.stateDialog("error",t)})}}},Xr,!1,function(e){a("bfat"),a("2Kz7")},"data-v-63cb9890",null).exports,es={data:function(){return{top:"top",topForm:{textarea:"我是工作内容说明我是工作内容说明我是工作内容说明"},active:this.$route.fullPath}},components:{costa4:Zr},methods:{}},ts={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-index"},[a("div",{staticClass:"matterForm"},[a("el-form",{attrs:{"label-position":e.top,"label-width":"80px",model:e.topForm}},[a("el-form-item",{attrs:{label:"工作内容说明"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"工作内容说明",disabled:!0},model:{value:e.topForm.textarea,callback:function(t){e.$set(e.topForm,"textarea",t)},expression:"topForm.textarea"}})],1)],1)],1),e._v(" "),a("costa4",[a("p",[e._v("工程咨询业务资料移交记录表")])])],1)},staticRenderFns:[]};a("VU/8")(es,ts,!1,function(e){a("BCtS"),a("MpEe")},"data-v-74b233ef",null).exports;var as={props:["projectName","transmittedData"],data:function(){return{tableData:{counselDesc:"",constructScale:"",counselContent:"",counselGroup:"",memberList:"",counselDuty:"",divideWork:"",operatorName:"",applyTimeBZ:"",investedAmount:""},centerDialogVisible:!1,ruleForm:{counselDesc:"",constructScale:"",counselContent:"",counselGroup:"",counselDuty:"",divideWork:"",relationId:"",taskId:""},rules:{counselDesc:[{required:!0,message:"请输入咨询业务简述",trigger:"blur"}],constructScale:[{required:!0,message:"请输入建设规模",trigger:"blur"}],counselContent:[{required:!0,message:"请输入咨询内容与重点",trigger:"blur"}],counselGroup:[{required:!0,message:"请输入组长",trigger:"blur"}],counselDuty:[{required:!0,message:"请输入专业负责人",trigger:"blur"}],divideWork:[{required:!0,message:"请输入咨询业务小组分工",trigger:"blur"}]}}},methods:{redact:function(){this.ruleForm=W()({},this.tableData),this.centerDialogVisible=!0},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(r){if(!r)return console.log("error submit!!"),!1;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){a.ruleForm.relationId=a.transmittedData.relationId,a.$axios.post("/taskExecute/add/insertA5Info",a.ruleForm).then(function(t){"success"==t.data.status?(a.centerDialogVisible=!1,a.$refs[e].resetFields(),a.getTaskWorkPlan(),a.$message({type:"success",message:t.data.message,center:!0})):a.$message({type:"error",message:t.data.message,center:!0})}).catch(function(e){a.$message({type:"error",message:e,center:!0})})}).catch(function(){})})},handClose:function(e){this.$refs[e].resetFields()},getTaskWorkPlan:function(){var e=this;this.apiAddress("/taskExecute/query/searchA5Info",{relationId:this.transmittedData.relationId}).then(function(t){if("success"==t.data.status){var a=e;a.tableData=W()({},t.data.dataVO),a.ruleForm=W()({},t.data.dataVO)}else e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})}},mounted:function(){this.getTaskWorkPlan()}},rs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A4 matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",[e._t("default",[e._v("咨询工作计划")])],2)]),e._v(" "),"1"===e.transmittedData.currentState&&"1"!=e.transmittedData.isInvalidFlag&&"1"===e.transmittedData.isMainHeadFlag&&"1"!==e.transmittedData.projectSts?a("el-col",{staticClass:"item-tab-chuang",staticStyle:{"text-align":"right"},attrs:{span:6}},[a("div",{staticStyle:{display:"inline-block"},on:{click:e.redact}},[a("span",{staticClass:"linear el-icon-edit"}),e._v("\n        编辑\n      ")])]):e._e()],1),e._v(" "),a("table",{staticClass:"align-center"},[a("tbody",[a("tr",[e._m(0),e._v(" "),a("td",{attrs:{rowspan:"2",colspan:"3"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.projectName))])]),e._v(" "),e._m(1),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.operatorName))])])]),e._v(" "),a("tr",[e._m(2),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.applyTimeBZ))])])]),e._v(" "),a("tr",[e._m(3),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.counselDesc))])])]),e._v(" "),a("tr",[e._m(4),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.constructScale))])]),e._v(" "),e._m(5),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.investedAmount))])])]),e._v(" "),a("tr",[e._m(6),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.counselContent))])])]),e._v(" "),a("tr",[e._m(7),e._v(" "),e._m(8),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.counselGroup))])]),e._v(" "),e._m(9),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.counselDuty))])])]),e._v(" "),a("tr",[e._m(10),e._v(" "),a("td",{attrs:{colspan:"4"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.memberList))])])]),e._v(" "),a("tr",[e._m(11),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.divideWork))])])]),e._v(" "),e._m(12),e._v(" "),e._m(13)])]),e._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改项目",visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"咨询业务简述",prop:"counselDesc"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入咨询业务简述"},model:{value:e.ruleForm.counselDesc,callback:function(t){e.$set(e.ruleForm,"counselDesc",t)},expression:"ruleForm.counselDesc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"建设规模",prop:"constructScale"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入建筑面积或道路管道长宽"},model:{value:e.ruleForm.constructScale,callback:function(t){e.$set(e.ruleForm,"constructScale",t)},expression:"ruleForm.constructScale"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"咨询内容与重点",prop:"counselContent"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入咨询内容与重点"},model:{value:e.ruleForm.counselContent,callback:function(t){e.$set(e.ruleForm,"counselContent",t)},expression:"ruleForm.counselContent"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"专业负责人",prop:"counselDuty"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入专业负责人"},model:{value:e.ruleForm.counselDuty,callback:function(t){e.$set(e.ruleForm,"counselDuty",t)},expression:"ruleForm.counselDuty"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"咨询业务小组分工",prop:"divideWork"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入咨询业务小组分工"},model:{value:e.ruleForm.divideWork,callback:function(t){e.$set(e.ruleForm,"divideWork",t)},expression:"ruleForm.divideWork"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("td",{attrs:{rowspan:"2"}},[t("div",{staticClass:"cell"},[this._v("项目名称")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("编制人")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("编制时间")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("咨询业务简述")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("建设规模")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("投资额（万元）")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("咨询内容与重点")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{attrs:{rowspan:"2"}},[t("div",{staticClass:"cell"},[this._v("咨询业务小组")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("项目负责人（组长）")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("专业负责人")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("成员")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("咨询业务小组分工")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("div",{staticClass:"cell"},[this._v("部门经理审核")])]),this._v(" "),t("td",{attrs:{colspan:"5"}},[t("div",{staticClass:"cell"})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("div",{staticClass:"cell"},[this._v("公司负责人审定")])]),this._v(" "),t("td",{attrs:{colspan:"5"}},[t("div",{staticClass:"cell"})])])}]};var ss=a("VU/8")(as,rs,!1,function(e){a("ZBQW"),a("XHt8")},"data-v-4009b99b",null).exports,os={data:function(){return{top:"top",topForm:{textarea:"我是工作内容说明我是工作内容说明我是工作内容说明"},active:this.$route.fullPath}},components:{costa5:ss},methods:{}},ns={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-index"},[a("div",{staticClass:"matterForm"},[a("el-form",{attrs:{"label-position":e.top,"label-width":"80px",model:e.topForm}},[a("el-form-item",{attrs:{label:"工作内容说明"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"工作内容说明",disabled:!0},model:{value:e.topForm.textarea,callback:function(t){e.$set(e.topForm,"textarea",t)},expression:"topForm.textarea"}})],1)],1)],1),e._v(" "),a("costa5",[a("p",[e._v("咨询工作计划")])])],1)},staticRenderFns:[]};a("VU/8")(os,ns,!1,function(e){a("Aq7C"),a("YkOd")},"data-v-40ad13f1",null).exports;var is={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",{staticClass:"align-center matterForm"},[a("thead",[a("tr",{staticStyle:{"border-bottom":"10px solid #edf1f4"}},[e._m(0),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.data.projectName))])]),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.data.applyTimeBZ))])])]),e._v(" "),e._m(1)]),e._v(" "),a("tbody",e._l(e.data.unitProjectList,function(t,r){return a("tr",{key:r},[a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.sortNum))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.engineeringName))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.tenderMethod))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.tenderType))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.tenderPlatform))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.investorRequire))])])])}),0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("td",{attrs:{colspan:"2"}},[t("div",{staticClass:"cell"},[this._v("项目名称")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[a("div",{staticClass:"cell"},[e._v("序号")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("工程名称")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("招标方式")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("招标形式")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("招标平台")])]),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v("投标人资格要求")])])])}]};var ls=a("VU/8")({props:["data"],data:function(){return{}},methods:{}},is,!1,function(e){a("wBzo"),a("TpVq")},"data-v-cc5cdee0",null).exports,cs=a("d7EF"),us=a.n(cs),ps=a("W3Iv"),ms=a.n(ps),ds=a("pFYg"),fs=a.n(ds),gs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑",visible:e.show,width:"50%",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{close:function(t){return e.handClose("form","unitProjectList")}}},[a("el-form",{ref:"form",staticClass:"demo-form",attrs:{model:e.form,rules:e.rules,"label-width":"110px"}},[a("el-row",{staticClass:"add"},[a("el-col",{attrs:{span:12}},[a("span",[e._v("招标规划")]),e._v(" "),a("i",{staticClass:"el-icon-plus btn-plus",on:{click:e.addAform}})])],1),e._v(" "),e._l(e.form.unitProjectList,function(t,r){return a("div",{key:r,staticClass:"demo-form"},[a("el-button",{staticClass:"colseform",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(a){return e.colseForm(t,r)}}}),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程名称",prop:"unitProjectList["+r+"].engineeringName",rules:[{required:!0,message:"请输入工程名称",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入工程名称"},model:{value:t.engineeringName,callback:function(a){e.$set(t,"engineeringName",a)},expression:"item.engineeringName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"招标方式",prop:"unitProjectList["+r+"].tenderMethod",rules:[{required:!0,message:"请输入招标方式",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择招标方式"},model:{value:t.tenderMethod,callback:function(a){e.$set(t,"tenderMethod",a)},expression:"item.tenderMethod"}},e._l(e.options,function(e,t){return a("el-option",{key:t,attrs:{label:e.display,value:e.id}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"招标形式",prop:"unitProjectList["+r+"].tenderType",rules:[{required:!0,message:"请输入招标形式",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入招标形式"},model:{value:t.tenderType,callback:function(a){e.$set(t,"tenderType",a)},expression:"item.tenderType"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"招标平台",prop:"unitProjectList["+r+"].tenderPlatform",rules:[{required:!0,message:"请输入招标平台",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入招标平台"},model:{value:t.tenderPlatform,callback:function(a){e.$set(t,"tenderPlatform",a)},expression:"item.tenderPlatform"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"投标人资格要求",prop:"unitProjectList["+r+"].investorRequire",rules:[{required:!0,message:"请输入投标人资格要求",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入投标人资格要求"},model:{value:t.investorRequire,callback:function(a){e.$set(t,"investorRequire",a)},expression:"item.investorRequire"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}})],1)],1)})],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var hs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",{staticClass:"align-center matterForm"},[a("thead",[a("tr",{staticStyle:{"border-bottom":"10px solid #edf1f4"}},[e._m(0),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.data.projectName))])]),e._v(" "),e._m(1),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(e.data.contractNum))])])]),e._v(" "),e._m(2)]),e._v(" "),a("tbody",e._l(e.data.unitProjectList,function(t,r){return a("tr",{key:r},[a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.sortNum))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.counselAdvise))])]),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v(e._s(t.responseAdvise))])])])}),0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("项目名称")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("咨询合同编号")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("th",[t("div",{staticClass:"cell"},[this._v("序号")])]),this._v(" "),t("th",[t("div",{staticClass:"cell"},[this._v("咨询意见")])]),this._v(" "),t("th",{attrs:{colspan:"2"}},[t("div",{staticClass:"cell"},[this._v("承包人回复意见")])])])}]};var vs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑",visible:e.show,width:"50%",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t},close:function(t){return e.handClose("form","unitProjectList")}}},[a("el-form",{ref:"form",staticClass:"demo-form",attrs:{model:e.form,rules:e.rules,"label-width":"110px"}},[a("el-row",{staticClass:"add"},[a("el-col",{attrs:{span:12}},[a("span",[e._v("咨询工作记录")]),e._v(" "),a("i",{staticClass:"el-icon-plus btn-plus",on:{click:e.addAform}})])],1),e._v(" "),e._l(e.form.unitProjectList,function(t,r){return a("div",{key:r,staticClass:"demo-form"},[a("el-button",{staticClass:"colseform",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(a){return e.colseForm(t,r)}}}),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"咨询意见",prop:"unitProjectList["+r+"].counselAdvise",rules:[{required:!0,message:"请输入咨询意见",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入咨询意见"},model:{value:t.counselAdvise,callback:function(a){e.$set(t,"counselAdvise",a)},expression:"item.counselAdvise"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"承包人回复意见",prop:"unitProjectList["+r+"].responseAdvise",rules:[{required:!0,message:"请输入承包人回复意见",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入承包人回复意见"},model:{value:t.responseAdvise,callback:function(a){e.$set(t,"responseAdvise",a)},expression:"item.responseAdvise"}})],1)],1)],1)],1)})],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var bs={components:{"table-bidding-plan":ls,"dialog-bidding-plan":a("VU/8")({methods:{handClose:function(e,t){this.$refs[e].resetFields(),this.form.unitProjectList=[],this.show=!1},submitForm:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return!1;t.$emit("submit",t.tool.deepCopy(t.form,t.tool.deepCopy))})},addAform:function(){this.form.unitProjectList.push({engineeringName:"",tenderMethod:"",tenderType:"",investorRequire:"",tenderPlatform:""})},colseForm:function(e,t){this.form.unitProjectList.splice(t,1)}},data:function(){return{show:!1,form:{relationId:"",unitProjectList:[]},rules:{},options:[{display:"公开招标",id:"公开招标"},{display:"邀请招标",id:"邀请招标"},{display:"比选",id:"比选"},{display:"竞争性谈判",id:"竞争性谈判"},{display:"政府采购",id:"政府采购"},{display:"询价",id:"询价"},{display:"单一来源",id:"单一来源"}]}}},gs,!1,function(e){a("O0ha"),a("E9QH")},"data-v-2a1d5c95",null).exports,"table-consultation-record":a("VU/8")({props:["data"],data:function(){return{}},methods:{}},hs,!1,function(e){a("VPmq"),a("e4Ug")},"data-v-d7806a8e",null).exports,"dialog-consultation-record":a("VU/8")({data:function(){return{show:!1,form:{relationId:"",unitProjectList:[]},rules:{}}},methods:{handClose:function(e,t){this.$refs[e].resetFields(),this.form.unitProjectList=[]},submitForm:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return!1;t.$emit("submit",t.tool.deepCopy(t.form,t.tool.deepCopy))})},addAform:function(){this.form.unitProjectList.push({counselAdvise:"",responseAdvise:""})},colseForm:function(e,t){this.form.unitProjectList.splice(t,1)}}},vs,!1,function(e){a("WCjD"),a("cSBh")},"data-v-337ea0ce",null).exports},mounted:function(){this.getData()},props:["transmittedData"],data:function(){return{showT1:!0,title:"",tableData:[]}},methods:{searchList:function(){var e=this;this.apiAddress("/taskExecute/query/searchA6Info",{relationId:this.transmittedData.relationId}).then(function(t){"success"==t.data.status&&(e.tableData=t.data.dataVO)}).catch(function(t){e.stateDialog("error",t)})},submitBiddingPlan:function(e){var t=this,a=this,r=W()({},a.$refs.dialogBiddingPlan.form);r.unitProjectList=[].concat(Wr()(r.unitProjectList)),r.relationId=a.transmittedData.relationId,a.apiAddress("/taskExecute/add/insertA6ZbdlInfo",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.$refs.dialogBiddingPlan.show=!1,a.$message({message:e.data.message,type:"success",center:!0}),t.searchList())}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},submitConsultationRecord:function(e){var t=this,a=this,r=W()({},a.$refs.dialogConsultationRecord.form);r.unitProjectList=[].concat(Wr()(r.unitProjectList)),r.relationId=a.transmittedData.relationId,a.apiAddress("/taskExecute/add/insertA6Info",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.$refs.dialogConsultationRecord.show=!1,a.$message({message:e.data.message,type:"success",center:!0}),t.searchList())}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},showDialogBiddingPlan:function(){var e=this,t=e.showT1?"dialogBiddingPlan":"dialogConsultationRecord";e.$refs[t].show=!0,e.$refs[t].form=e.tool.deepCopy(this.tableData,e.tool.deepCopy)},getData:function(){this.searchList()}}},ys={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A4 matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",[a("p",[e._v(e._s(e.title))])])]),e._v(" "),"1"===e.transmittedData.currentState&&"1"!=e.transmittedData.isInvalidFlag&&"1"===e.transmittedData.isMainHeadFlag&&"1"!==e.transmittedData.projectSts?a("el-col",{staticClass:"item-tab-chuang",staticStyle:{"text-align":"right",margin:"0"},attrs:{span:6}},[a("div",{staticStyle:{display:"inline-block"},on:{click:e.showDialogBiddingPlan}},[a("span",{staticClass:"linear el-icon-edit"}),e._v("\n        编辑\n      ")])]):e._e()],1),e._v(" "),e.showT1?a("table-bidding-plan",{ref:"tableBiddingPlan",attrs:{data:e.tableData}}):a("table-consultation-record",{ref:"tableConsultationRecord",attrs:{data:e.tableData}}),e._v(" "),a("dialog-bidding-plan",{ref:"dialogBiddingPlan",on:{submit:e.submitBiddingPlan}}),e._v(" "),a("dialog-consultation-record",{ref:"dialogConsultationRecord",on:{submit:e.submitConsultationRecord}})],1)},staticRenderFns:[]};var _s=a("VU/8")(bs,ys,!1,function(e){a("fUcF"),a("FCGj")},"data-v-54a69c01",null).exports,ws={data:function(){return{top:"top",topForm:{textarea:"我是工作内容说明我是工作内容说明我是工作内容说明"}}},components:{costA6:_s},methods:{}},Cs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-index"},[a("div",{staticClass:"matterForm"},[a("el-form",{attrs:{"label-position":e.top,"label-width":"80px",model:e.topForm}},[a("el-form-item",{attrs:{label:"工作内容说明"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"工作内容说明",disabled:!0},model:{value:e.topForm.textarea,callback:function(t){e.$set(e.topForm,"textarea",t)},expression:"topForm.textarea"}})],1)],1)],1),e._v(" "),a("costA6",[e._v("招标规划")])],1)},staticRenderFns:[]};a("VU/8")(ws,Cs,!1,function(e){a("jonv"),a("cv3J")},"data-v-13ff8d9f",null).exports;var ks={props:["transmittedData"],mounted:function(){this.searchList()},methods:{searchList:function(){var e=this;this.apiAddress("/taskExecute/query/searchA8Info",{relationId:this.transmittedData.relationId}).then(function(t){"success"==t.data.status&&(e.form=t.data.dataVO,e.ruleForm=t.data.dataVO,e.tableData=t.data.dataVO)}).catch(function(t){e.stateDialog("error",t)})},redact:function(){this.ruleForm=W()({},this.tableData),this.centerDialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t;a.ruleForm.relationId=a.transmittedData.relationId;var r=a.ruleForm;a.apiAddress("/taskExecute/add/insertA8Info",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.centerDialogVisible=!1,a.$message({message:e.data.message,type:"success",center:!0}),t.searchList())}).catch(function(e){a.$message({message:e,type:"error",center:!0})})})},handClose:function(e){this.$refs[e].resetFields()}},data:function(){return{centerDialogVisible:!1,form:{},tableData:{employerA8:"",contractor:"",supervisor:"",prospectRecord:""},ruleForm:{relationId:"",employerA8:"",contractor:"",supervisor:"",prospectRecord:""},rules:{employerA8:[{required:!0,message:"请输入发包人",trigger:"blur"}],contractor:[{required:!0,message:"请输入承包人",trigger:"blur"}],supervisor:[{required:!0,message:"请输入监理人",trigger:"blur"}],prospectRecord:[{required:!0,message:"请输入现场勘查记录",trigger:"blur"}]}}}},Fs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A4 matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("p",[e._v("现场踏勘复验记录表")])]),e._v(" "),"1"===e.transmittedData.currentState&&"1"!=e.transmittedData.isInvalidFlag&&"1"===e.transmittedData.isMainHeadFlag&&"1"!==e.transmittedData.projectSts?a("el-col",{staticClass:"item-tab-chuang",staticStyle:{"text-align":"right"},attrs:{span:6}},[a("div",{staticStyle:{display:"inline-block"},on:{click:e.redact}},[a("span",{staticClass:"linear el-icon-edit"}),e._v("\n        编辑\n      ")])]):e._e()],1),e._v(" "),a("table",{staticClass:"align-center"},[a("thead",[a("tr",[e._m(0),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v(e._s(e.form.projectName))])]),e._v(" "),e._m(1),e._v(" "),a("th",[a("div",{staticClass:"cell"},[e._v(e._s(e.form.contractNum))])])])]),e._v(" "),a("tbody",[a("tr",[e._m(2),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.employerA8))])])]),e._v(" "),a("tr",[e._m(3),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.contractor))])])]),e._v(" "),a("tr",[e._m(4),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.supervisor))])])]),e._v(" "),a("tr",[e._m(5),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.tableData.prospectRecord))])])]),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10)])]),e._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改项目",visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"发包人",prop:"employerA8"}},[a("el-input",{attrs:{type:"text",rows:2,placeholder:"请输入发包人"},model:{value:e.ruleForm.employerA8,callback:function(t){e.$set(e.ruleForm,"employerA8",t)},expression:"ruleForm.employerA8"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"承包人",prop:"contractor"}},[a("el-input",{attrs:{type:"text",rows:2,placeholder:"请输入承包人"},model:{value:e.ruleForm.contractor,callback:function(t){e.$set(e.ruleForm,"contractor",t)},expression:"ruleForm.contractor"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"监理人",prop:"supervisor"}},[a("el-input",{attrs:{type:"text",rows:2,placeholder:"请输入监理人"},model:{value:e.ruleForm.supervisor,callback:function(t){e.$set(e.ruleForm,"supervisor",t)},expression:"ruleForm.supervisor"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"现场勘查记录",prop:"prospectRecord"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入现场勘查记录"},model:{value:e.ruleForm.prospectRecord,callback:function(t){e.$set(e.ruleForm,"prospectRecord",t)},expression:"ruleForm.prospectRecord"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("th",[t("div",{staticClass:"cell"},[this._v("项目名称")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("th",[t("div",{staticClass:"cell"},[this._v("咨询合同编号")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("发包人")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("承包人")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("监理人")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("div",{staticClass:"cell"},[this._v("现场勘查记录")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("div",{staticClass:"cell"},[this._v("发包人（签字）")])]),this._v(" "),t("td",{attrs:{colspan:"3"}},[t("div",{staticClass:"cell"})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("div",{staticClass:"cell"},[this._v("承包人（签字）")])]),this._v(" "),t("td",{attrs:{colspan:"3"}},[t("div",{staticClass:"cell"})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("div",{staticClass:"cell"},[this._v("监理人（签字）")])]),this._v(" "),t("td",{attrs:{colspan:"3"}},[t("div",{staticClass:"cell"})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("div",{staticClass:"cell"},[this._v("咨询人（签字）")])]),this._v(" "),t("td",{attrs:{colspan:"3"}},[t("div",{staticClass:"cell"})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("div",{staticClass:"cell"},[this._v("记录人")])]),this._v(" "),t("td",[t("div",{staticClass:"cell"})]),this._v(" "),t("td",[t("div",{staticClass:"cell"},[this._v("时间")])]),this._v(" "),t("td",[t("div",{staticClass:"cell"})])])}]};var Ds=a("VU/8")(ks,Fs,!1,function(e){a("Wg/V"),a("6gaU")},"data-v-82419e4c",null).exports,xs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A4 matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("p",[e._v("咨询工作记录")])]),e._v(" "),a("el-col",{staticClass:"item-tab-chuang",staticStyle:{"text-align":"right"},attrs:{span:6}},[a("div",{staticStyle:{display:"inline-block"},on:{click:e.redact}},[a("span",{staticClass:"linear el-icon-edit"}),e._v("\n        编辑\n      ")])])],1),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改项目",visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"咨询业务简述",prop:"consultationBrief"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入咨询业务简述"},model:{value:e.ruleForm.consultationBrief,callback:function(t){e.$set(e.ruleForm,"consultationBrief",t)},expression:"ruleForm.consultationBrief"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"建设规模",prop:"constructionScale"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入建设规模"},model:{value:e.ruleForm.constructionScale,callback:function(t){e.$set(e.ruleForm,"constructionScale",t)},expression:"ruleForm.constructionScale"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"咨询内容与重点",prop:"consultationContentAndFocus"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入咨询内容与重点"},model:{value:e.ruleForm.consultationContentAndFocus,callback:function(t){e.$set(e.ruleForm,"consultationContentAndFocus",t)},expression:"ruleForm.consultationContentAndFocus"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"组长",prop:"groupLeader"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入组长"},model:{value:e.ruleForm.groupLeader,callback:function(t){e.$set(e.ruleForm,"groupLeader",t)},expression:"ruleForm.groupLeader"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"专业负责人",prop:"professionalResponsiblePerson"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入专业负责人"},model:{value:e.ruleForm.professionalResponsiblePerson,callback:function(t){e.$set(e.ruleForm,"professionalResponsiblePerson",t)},expression:"ruleForm.professionalResponsiblePerson"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"咨询业务小组分工",prop:"consultingTeamIsDivided"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入咨询业务小组分工"},model:{value:e.ruleForm.consultingTeamIsDivided,callback:function(t){e.$set(e.ruleForm,"consultingTeamIsDivided",t)},expression:"ruleForm.consultingTeamIsDivided"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("table",{staticClass:"align-center"},[t("tbody",[t("tr",[t("td",[t("div",{staticClass:"cell"},[this._v("项目名称")])]),this._v(" "),t("td",[t("div",{staticClass:"cell"})]),this._v(" "),t("td",[t("div",{staticClass:"cell"})])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("table",{staticClass:"align-center"},[t("thead",[t("tr",[t("td",[t("div",{staticClass:"cell"},[this._v("序号")])]),this._v(" "),t("td",[t("div",{staticClass:"cell"},[this._v("咨询意见")])]),this._v(" "),t("td",[t("div",{staticClass:"cell"},[this._v("委托方回复意见")])])])]),this._v(" "),t("tbody")])}]};a("VU/8")({methods:{redact:function(){this.centerDialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.stateDialog("error","验证失败"),!1;t.centerDialogVisible=!1,t.stateDialog("success","提交成功")})},handClose:function(e){this.$refs[e].resetFields()}},data:function(){return{tableData:{consultationBrief:"",constructionScale:"",consultationContentAndFocus:"",groupLeader:"",professionalResponsiblePerson:"",consultingTeamIsDivided:""},centerDialogVisible:!1,ruleForm:{consultationBrief:"",constructionScale:"",consultationContentAndFocus:"",groupLeader:"",professionalResponsiblePerson:"",consultingTeamIsDivided:""},rules:{consultationBrief:[{required:!0,message:"请输入咨询业务简述",trigger:"blur"}],constructionScale:[{required:!0,message:"请输入建设规模",trigger:"blur"}],consultationContentAndFocus:[{required:!0,message:"请输入咨询内容与重点",trigger:"blur"}],groupLeader:[{required:!0,message:"请输入组长",trigger:"blur"}],professionalResponsiblePerson:[{required:!0,message:"请输入专业负责人",trigger:"blur"}],consultingTeamIsDivided:[{required:!0,message:"请输入咨询业务小组分工",trigger:"blur"}]}}}},xs,!1,function(e){a("EuDK"),a("c8C+")},"data-v-29e9f457",null).exports;var Ts={data:function(){return{component:"costA8Cost",top:"top",topForm:{textarea:"我是工作内容说明我是工作内容说明我是工作内容说明"},active:this.$route.fullPath}},components:{costA8Cost:Ds},methods:{}},Ns={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-index"},[a("div",{staticClass:"matterForm"},[a("el-form",{attrs:{"label-position":e.top,"label-width":"80px",model:e.topForm}},[a("el-form-item",{attrs:{label:"工作内容说明"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"工作内容说明",disabled:!0},model:{value:e.topForm.textarea,callback:function(t){e.$set(e.topForm,"textarea",t)},expression:"topForm.textarea"}})],1)],1)],1),e._v(" "),a(e.component,{tag:"component"})],1)},staticRenderFns:[]};a("VU/8")(Ts,Ns,!1,function(e){a("tB7y"),a("TLFi")},"data-v-b16ecc98",null).exports;var Is={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cost-A4 matterForm"},[t("el-row",[t("el-col",{attrs:{span:18}},[t("div",[this._t("default")],2)])],1),this._v(" "),this._m(0)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",{staticClass:"align-center"},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("接收单位：")])]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("成果文件名称：")])]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("份数：")])]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("项目相关资料：")])]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("送件人：")])]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("收件人：")])]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("签收日期：")])]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("备注：")])]),e._v(" "),a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"cell"})])])])])}]};var As={data:function(){return{top:"top",topForm:{textarea:"我是工作内容说明我是工作内容说明我是工作内容说明"},active:this.$route.fullPath}},components:{costa10:a("VU/8")({data:function(){return{}}},Is,!1,function(e){a("lAXo"),a("oSgS")},"data-v-b8430614",null).exports},methods:{}},Ss={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-index"},[a("div",{staticClass:"matterForm"},[a("el-form",{attrs:{"label-position":e.top,"label-width":"80px",model:e.topForm}},[a("el-form-item",{attrs:{label:"工作内容说明"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"工作内容说明",disabled:!0},model:{value:e.topForm.textarea,callback:function(t){e.$set(e.topForm,"textarea",t)},expression:"topForm.textarea"}})],1)],1)],1),e._v(" "),a("costa10",[a("p",[e._v("成果文件提交签收单")])])],1)},staticRenderFns:[]};a("VU/8")(As,Ss,!1,function(e){a("Zc9q"),a("LH7m")},"data-v-1ca16206",null).exports;var Ls=[],$s=[],Ps={props:["transmittedData"],data:function(){return{data:{relationId:"",timeArr:"",opinionList:[]},tableData:[],form:{},centerDialogVisible:!1,gutter:40,flowpathlist:[{name:"发布招标公告/邀请",id:"1"},{name:"投标报名",id:"2"},{name:"领取资格预审文件",id:"3"},{name:"递交资格预审文件",id:"4"},{name:"资格预审评标抽取专家",id:"5"},{name:"资格预审评标",id:"6"},{name:"资格预审评标结果备案",id:"7"},{name:"招标文件备案",id:"8"},{name:"领取招标文件",id:"9"},{name:"编制投标文件",id:"10"},{name:"抽取评标专家",id:"11"},{name:"开标、评标",id:"12"},{name:"评标结果公示",id:"13"},{name:"发中标通知书",id:"14"},{name:"签订合同",id:"15"},{name:"设计出图时间",id:"16"},{name:"投标邀请",id:"17"},{name:"中标候选人公示",id:"18"}],ruleForm:{relationId:"",taskId:"",timeArr:"",opinionList:[]},rules:{timeArr:[{required:!0,message:"资料最后上传时间",trigger:"blur"}]}}},mounted:function(){this.searchList()},methods:{searchList:function(){var e=this,t=this;t.apiAddress("/taskExecute/query/searchA7ZbdlInfo",{relationId:this.transmittedData.relationId,taskId:this.transmittedData.taskId}).then(function(e){if("success"==e.data.status){t.tool.isNull(e.data.dataVO)||(t.ruleForm=e.data.dataVO,t.form=W()({},t.ruleForm),t.data=W()({},t.ruleForm),t.tool.isNull(e.data.dataVO.showList)||(t.tableData=[].concat(Wr()(e.data.dataVO.showList))),console.info("tableData",t.tableData)),Ls=[];for(var a={rowSpan:1,id:""},r=0,s=t.tableData.length;r<s;r++){var o=t.tableData[r];a.id==o.relationId?a.rowSpan++:(a.rowSpan>1&&Ls.push(a),a={rowSpan:1,id:o.relationId}),r+1==s&&Ls.push(a)}}}).catch(function(t){e.stateDialog("error",t)})},handClose:function(e){this.$refs[e].resetFields(),this.ruleForm.opinionList=[]},redact:function(){this.ruleForm=W()({},this.data),this.centerDialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t;t.ruleForm.relationId=t.transmittedData.relationId,t.ruleForm.taskId=t.transmittedData.taskId;var r=t.ruleForm;a.apiAddress("/taskExecute/add/insertA7ZbdlInfo",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.centerDialogVisible=!1,a.searchList(),a.$message({message:e.data.message,type:"success",center:!0}))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})})},addAform:function(){this.ruleForm.opinionList.push({tenderTypeContent:"",flowList:[]})},colseForm:function(e,t){this.ruleForm.opinionList.splice(t,2)},addAformTwo:function(e){this.ruleForm.opinionList[e].flowList.push({workflow:"",nodeArr:"",involvedDepartment:"",remark:""})},colseFormTwo:function(e,t,a){this.ruleForm.opinionList[a].flowList.splice(t,1)},spanMethod:function(e){var t=e.row,a=(e.column,e.rowIndex),r=[1,1];if(0==e.columnIndex){0==a&&($s=this.tool.deepCopy(Ls,this.tool.deepCopy));for(var s=this.tool.deepCopy($s,this.tool.deepCopy),o=0,n=s.length;o<n;o++){var i=s[o];if(null===i&&(r=[0,1]),i&&i.id==t.relationId)return $s.splice(o,1,null),[i.rowSpan,1]}}return r}}},js={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A7 matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",[a("p",[e._v("招标工作进度计划（勘察、设计）")])])]),e._v(" "),"1"!=e.transmittedData.isInvalidFlag&&"1"===e.transmittedData.isMainHeadFlag&&"1"!==e.transmittedData.projectSts?a("el-col",{staticClass:"item-tab-chuang",attrs:{span:6}},[a("div",{on:{click:e.redact}},[a("span",{staticClass:"linear el-icon-edit"}),e._v("\n        编辑\n      ")])]):e._e()],1),e._v(" "),a("el-row",[a("el-col",{staticStyle:{position:"absolute",height:"100%"},attrs:{span:24}},[e.form.projectName?a("el-table",{staticClass:"table--empty",staticStyle:{width:"100%"},attrs:{data:[],border:""}},[a("el-table-column",{attrs:{prop:"date",label:"项目名称：",width:"100",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:e.form.projectName,width:"200",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"资料最后上传时间：",width:"200",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:(e.form.startDate||"")+" - "+(e.form.endDate||""),resizable:!1}})],1):e._e(),e._v(" "),a("el-table",{staticClass:"table--empty",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","span-method":e.spanMethod}},[a("el-table-column",{attrs:{prop:"tenderTypeContent",label:"招标类型",width:"100",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"sortNum",label:"序号",width:"100",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"workflowName",label:"工作流程",width:"100",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"startDate",label:"节点",width:"200",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.startDate)+" - "+e._s(t.row.endDate)+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"days",label:"时间",width:"100",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"involvedDepartment",label:"涉及部门",width:"100",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",resizable:!1}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.centerDialogVisible,width:"700px",top:"30vh",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-position":"top"}},[a("el-form-item",{attrs:{label:"资料最后上传时间",prop:"timeArr"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.ruleForm.timeArr,callback:function(t){e.$set(e.ruleForm,"timeArr",t)},expression:"ruleForm.timeArr"}})],1),e._v(" "),a("el-row",{staticClass:"add"},[a("el-col",{attrs:{span:12}},[e._v("\n          招标内容\n          "),a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addAform}})],1)],1),e._v(" "),e._l(e.ruleForm.opinionList,function(t,r){return a("div",{key:r,staticClass:"addform"},[a("el-button",{staticClass:"colseform",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(a){return e.colseForm(t,r)}}}),e._v(" "),a("el-form-item",{attrs:{label:"招标类型",prop:"opinionList["+r+"].tenderTypeContent",rules:[{required:!0,message:"请输入招标类型",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入招标类型"},model:{value:t.tenderTypeContent,callback:function(a){e.$set(t,"tenderTypeContent",a)},expression:"item.tenderTypeContent"}})],1),e._v(" "),a("el-row",{staticClass:"add addtwo"},[a("el-col",{attrs:{span:12}},[e._v("\n            工作流程及信息\n            "),a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addAformTwo(r)}}})],1)],1),e._v(" "),e._l(t.flowList,function(t,s){return a("div",{key:s,staticClass:"addform addformtwo"},[a("el-button",{staticClass:"colseform",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(a){return e.colseFormTwo(t,s,r)}}}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工作流程",prop:"opinionList["+r+"].flowList["+s+"].workflow",rules:[{required:!0,message:"请选择工作流程",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择工作流程"},model:{value:t.workflow,callback:function(a){e.$set(t,"workflow",a)},expression:"loop.workflow"}},e._l(e.flowpathlist,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[e._v(e._s(t.name))])}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"涉及部门",prop:"opinionList["+r+"].flowList["+s+"].involvedDepartment",rules:[{required:!0,message:"请输入涉及部门",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入涉及部门"},model:{value:t.involvedDepartment,callback:function(a){e.$set(t,"involvedDepartment",a)},expression:"loop.involvedDepartment"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"节点",prop:"opinionList["+r+"].flowList["+s+"].nodeArr",rules:[{required:!0,message:"请选择节点",trigger:"blur"}]}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.nodeArr,callback:function(a){e.$set(t,"nodeArr",a)},expression:"loop.nodeArr"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"opinionList["+r+"].flowList["+s+"].remark",rules:[{required:!0,message:"请输入备注",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:t.remark,callback:function(a){e.$set(t,"remark",a)},expression:"loop.remark"}})],1)],1)],1)],1)})],2)})],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var qs=a("VU/8")(Ps,js,!1,function(e){a("E/Dp"),a("7xP0")},"data-v-78292a0d",null).exports,Rs={data:function(){return{top:"top",topForm:{textarea:"我是工作内容说明我是工作内容说明我是工作内容说明"},active:this.$route.fullPath}},components:{costa7:qs},methods:{}},Bs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-index"},[a("div",{staticClass:"matterForm"},[a("el-form",{attrs:{"label-position":e.top,"label-width":"80px",model:e.topForm}},[a("el-form-item",{attrs:{label:"工作内容说明"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"工作内容说明",disabled:!0},model:{value:e.topForm.textarea,callback:function(t){e.$set(e.topForm,"textarea",t)},expression:"topForm.textarea"}})],1)],1)],1),e._v(" "),a("costa7",[a("p",[e._v("咨询工作记录")])])],1)},staticRenderFns:[]};a("VU/8")(Rs,Bs,!1,function(e){a("p6hT"),a("en1A")},"data-v-af691582",null).exports;var Os={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-A8 matterForm"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",[a("p",[e._v("咨询工作记录")])])]),e._v(" "),"1"===e.transmittedData.currentState&&"1"!=e.transmittedData.isInvalidFlag&&"1"===e.transmittedData.isMainHeadFlag&&"1"!==e.transmittedData.projectSts?a("el-col",{staticClass:"item-tab-chuang",attrs:{span:6}},[a("div",{on:{click:e.redact}},[a("span",{staticClass:"linear el-icon-edit"}),e._v("\n        编辑\n      ")])]):e._e()],1),e._v(" "),a("table",{staticClass:"align-center"},[a("tbody",[a("tr",[e._m(0),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.form.projectName))])]),e._v(" "),e._m(1),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("div",{staticClass:"cell"},[e._v(e._s(e.form.consensusTime))])])]),e._v(" "),e._m(2),e._v(" "),e._l(e.tableData,function(t,r){return a("tr",{key:r},[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell"},[e._v(e._s(t.sortNum))])]),e._v(" "),a("td",{attrs:{colspan:"4"}},[a("div",{staticClass:"cell"},[e._v(e._s(t.counselAdvise))])]),e._v(" "),a("td",{attrs:{colspan:"4"}},[a("div",{staticClass:"cell"},[e._v(e._s(t.answerAdvise))])])])})],2)]),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",top:"30vh",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"达成意见一致时间",prop:"consensusTime"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.consensusTime,callback:function(t){e.$set(e.ruleForm,"consensusTime",t)},expression:"ruleForm.consensusTime"}})],1),e._v(" "),a("el-row",{staticClass:"add"},[a("el-col",{attrs:{span:12}},[a("span",[e._v("咨询工作记录")]),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addAform}})],1)],1),e._v(" "),e._l(e.ruleForm.opinionList,function(t,r){return a("div",{key:r,staticClass:"addform"},[a("el-button",{staticClass:"colseform",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(a){return e.colseForm(t,r)}}}),e._v(" "),a("el-form-item",{attrs:{label:"咨询意见",prop:"opinionList["+r+"].counselAdvise",rules:[{required:!0,message:"请输入咨询意见",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入咨询意见"},model:{value:t.counselAdvise,callback:function(a){e.$set(t,"counselAdvise",a)},expression:"item.counselAdvise"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"委托方回复意见",prop:"opinionList["+r+"].answerAdvise",rules:[{required:!0,message:"请输入委托方回复意见",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入委托方回复意见"},model:{value:t.answerAdvise,callback:function(a){e.$set(t,"answerAdvise",a)},expression:"item.answerAdvise"}})],1)],1)})],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("td",{attrs:{colspan:"2"}},[t("div",{staticClass:"cell"},[this._v("项目名称：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{attrs:{colspan:"2"}},[t("div",{staticClass:"cell"},[this._v("达成意见一致时间：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",{attrs:{colspan:"2"}},[t("div",{staticClass:"cell"},[this._v("序号")])]),this._v(" "),t("td",{attrs:{colspan:"4"}},[t("div",{staticClass:"cell"},[this._v("咨询意见")])]),this._v(" "),t("td",{attrs:{colspan:"4"}},[t("div",{staticClass:"cell"},[this._v("委托方回复意见")])])])}]};var zs=a("VU/8")({props:["transmittedData"],data:function(){return{data:{consensusTime:"",opinionList:[]},tableData:[],form:{},centerDialogVisible:!1,ruleForm:{relationId:"",consensusTime:"",opinionList:[]},rules:{consensusTime:[{required:!0,message:"请选择达成意见一致时间",trigger:"blur"}]}}},mounted:function(){this.searchList()},methods:{searchList:function(){var e=this,t=this;this.apiAddress("/taskExecute/query/searchA8Info",{relationId:this.transmittedData.relationId}).then(function(a){"success"==a.data.status&&(e.form=t.tool.deepCopy(a.data.dataVO,t.tool.deepCopy),e.ruleForm=t.tool.deepCopy(a.data.dataVO,t.tool.deepCopy),e.tableData=t.tool.deepCopy(a.data.dataVO.opinionList,t.tool.deepCopy),e.data=t.tool.deepCopy(a.data.dataVO,t.tool.deepCopy))}).catch(function(t){e.stateDialog("error",t)})},handClose:function(e){this.$refs[e].resetFields(),this.ruleForm.opinionList=[]},redact:function(){this.ruleForm=this.tool.deepCopy(this.data,this.tool.deepCopy),this.centerDialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t;a.ruleForm.relationId=a.transmittedData.relationId;var r=a.ruleForm;a.apiAddress("/taskExecute/add/insertA8ZbdlInfo",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.centerDialogVisible=!1,a.$message({message:e.data.message,type:"success",center:!0}),t.searchList())}).catch(function(e){a.$message({message:e,type:"error",center:!0})})})},addAform:function(){this.ruleForm.opinionList.push({counselAdvise:"",answerAdvise:""})},colseForm:function(e,t){this.ruleForm.opinionList.splice(t,1)}}},Os,!1,function(e){a("psz+"),a("g8VP")},"data-v-df454c36",null).exports,Ms={data:function(){return{top:"top",topForm:{textarea:"我是工作内容说明我是工作内容说明我是工作内容说明"},active:this.$route.fullPath}},components:{costa8:zs},methods:{}},Vs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-index"},[a("div",{staticClass:"matterForm"},[a("el-form",{attrs:{"label-position":e.top,"label-width":"80px",model:e.topForm}},[a("el-form-item",{attrs:{label:"工作内容说明"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"工作内容说明",disabled:!0},model:{value:e.topForm.textarea,callback:function(t){e.$set(e.topForm,"textarea",t)},expression:"topForm.textarea"}})],1)],1)],1),e._v(" "),a("costa8",[a("p",[e._v("咨询工作记录")])])],1)},staticRenderFns:[]};a("VU/8")(Ms,Vs,!1,function(e){a("TeRL"),a("bKyt")},"data-v-a690b346",null).exports;var Us={data:function(){return{show:!1,storageData:this.SStorage.getItem("/page/work/contract/FoundItem"),projectNum:"",currentTaskform:this.taskform?[this.taskform]:[{taskId:"",taskName:"",contractTypeId:"",counselTypeId:"",userName:"",userId:"",endDate:"",needHour:"",taskContent:"",showTable:!1,iconDown:!0,iconUp:!1,smallForm:[],userList:[],consultList:[],tableData:[]}],personList:[],addUser:!1,rules:{taskName:[{required:!0,message:"请输入任务名称",trigger:"blur"}],contractTypeName:[{required:!0,message:"请选择合同类型",trigger:"change"}],counselTypeName:[{required:!0,message:"请选择咨询类别",trigger:"change"}],needHour:[{required:!0,message:"请输入所需工时",trigger:"blur"}],taskContent:[{required:!0,message:"请输入任务概况",trigger:"blur"}],endDate:[{required:!0,message:"请输入完成时间",trigger:"blur"}]}}},props:["contractList","title","taskform","transmittedData"],watch:{taskform:{handler:function(){this.currentTaskform=this.tool.deepCopy([this.taskform].concat(),this.tool.deepCopy)},immediate:!0}},mounted:function(){var e=this;e.getProjectNum(),e.bus.$off("searchDictCounselTypeListByContractTypeId"),e.bus.$on("searchDictCounselTypeListByContractTypeId",function(){e.$nextTick(function(){var e=this;"db5e76f9-9fbd-11e9-a036-0e411fd5cf91"!==this.$parent.changeContract.departmentId&&this.apiAddress("/task/query/searchDictCounselTypeListByContractTypeId",{contractTypeId:this.$parent.changeContract.departmentId}).then(function(t){"success"==t.data.status?e.currentTaskform[0].consultList=t.data.dataList:e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})})})},methods:{isUserEndDate:function(e,t,a){var r=this;this.currentTaskform[a].smallForm[t].endDate=e;var s;s={userId:this.currentTaskform[a].smallForm[t].userId,endDate:this.tool.formatDate(this.currentTaskform[a].smallForm[t].endDate,"yyyy-MM-dd"),departmentId:this.transmittedData.departmentId},this.apiAddress("/task/query/searchUserInfo",s).then(function(e){"success"==e.data.status?r.currentTaskform[a].smallForm[t].tableData=e.data.dataList:r.stateDialog("error",e.data.message)}).catch(function(e){r.stateDialog("error",e)})},isMainUserEndDate:function(e){var t=this;this.currentTaskform[0].endDate=this.tool.formatDate(e,"yyyy-MM-dd"),this.apiAddress("/task/query/searchUserInfo",{userId:this.currentTaskform[0].userId,endDate:this.tool.formatDate(e,"yyyy-MM-dd"),departmentId:this.transmittedData.departmentId}).then(function(e){"success"==e.data.status?t.currentTaskform[0].tableData=e.data.dataList:t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},checkmainUser:function(e,t,a){if(void 0==t)a(new Error("请选择编制成果文件人"));else{for(var r=0,s=0;s<this.currentTaskform[0].smallForm.length;s++)this.currentTaskform[0].smallForm[s].userName==t&&r++;r>0?a(new Error("其他组员不可以和主提审人重复")):a()}},checkUserList:function(e,t,a){if(t)if(t==this.currentTaskform[0].userName)a(new Error("其他组员不可以和主提审人重复"));else{for(var r=0,s=0;s<this.currentTaskform[0].smallForm.length;s++)this.currentTaskform[0].smallForm[s].userName==t&&r++;if(r>1)return this.addUser=!0,!1;this.addUser=!1,a()}else a(new Error("请选择执行人"))},getProjectNum:function(){var e=this;this.apiAddress("/project/query/searchProjectInfo",{projectId:this.storageData.projectId}).then(function(t){"success"==t.data.status?e.projectNum=t.data.dataVO.projectNum:e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})},getContractType:function(e,t){var a,r=this;a=this.contractList.find(function(t){return t.contractTypeName===e}),this.currentTaskform[t].contractTypeId=a.contractTypeId,this.apiAddress("/task/query/searchDictCounselTypeListByContractTypeId",{contractTypeId:a.contractTypeId}).then(function(e){"success"==e.data.status?r.currentTaskform[t].consultList=e.data.dataList:r.stateDialog("error",e.data.message)}).catch(function(e){r.stateDialog("error",e)})},getCounselType:function(e,t){var a;a=this.currentTaskform[t].consultList.find(function(t){return t.counselTypeName===e}),this.currentTaskform[t].counselTypeId=a.counselTypeId},getExecutor:function(e,t,a){var r,s=this;r=this.personList.find(function(t){return t.userName===e}),this.currentTaskform[a].smallForm[t].userId=r.userId;var o;o={userId:r.userId,endDate:this.tool.formatDate(this.currentTaskform[a].smallForm[t].endDate,"yyyy-MM-dd"),departmentId:this.transmittedData.departmentId},this.apiAddress("/task/query/searchUserInfo",o).then(function(e){"success"==e.data.status?s.currentTaskform[a].smallForm[t].tableData=e.data.dataList:s.stateDialog("error",e.data.message)}).catch(function(e){s.stateDialog("error",e)})},getUserId:function(e,t){var a,r=this;a=this.personList.find(function(t){return t.userName===e}),this.currentTaskform[t].userId=a.userId,this.apiAddress("/task/query/searchUserInfo",{userId:a.userId,endDate:this.currentTaskform[0].endDate,departmentId:this.transmittedData.departmentId}).then(function(e){"success"==e.data.status?r.currentTaskform[t].tableData=e.data.dataList:r.stateDialog("error",e.data.message)}).catch(function(e){r.stateDialog("error",e)})},addCrew:function(e){this.currentTaskform[e].smallForm.push({userId:"",userName:"",isMainDuty:"0",endDate:"",needHour:"",taskContent:"",showTable1:!1,iconDown1:!0,iconUp1:!1,tableData:[]})},handleClose:function(){this.$refs.currentTaskform[0].resetFields(),this.currentTaskform[0].smallForm=[],this.currentTaskform[0].userList=[],this.currentTaskform[0].tableData=[],this.currentTaskform[0].consultList=[],console.log("currentTaskform",this.currentTaskform),this.show=!1},colseForm1:function(e,t,a,r){this.currentTaskform[r].smallForm.splice(t,1)},showTab:function(e,t){this.currentTaskform[t].showTable?(this.currentTaskform[t].showTable=!1,this.currentTaskform[t].iconDown=!0,this.currentTaskform[t].iconUp=!1):(this.currentTaskform[t].showTable=!0,this.currentTaskform[t].iconDown=!1,this.currentTaskform[t].iconUp=!0)},showTab1:function(e,t){this.currentTaskform[e].smallForm[t].showTable1?(this.currentTaskform[e].smallForm[t].showTable1=!1,this.currentTaskform[e].smallForm[t].iconDown1=!0,this.currentTaskform[e].smallForm[t].iconUp1=!1):(this.currentTaskform[e].smallForm[t].showTable1=!0,this.currentTaskform[e].smallForm[t].iconDown1=!1,this.currentTaskform[e].smallForm[t].iconUp1=!0)},submitForm:function(e){var t=this;t.$refs[e][0].validate(function(e){if(!e)return!1;t.$confirm("您确认要提交吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info ",center:!0}).then(function(){t.currentTaskform[0].userList=[];for(var e=0;e<t.currentTaskform.length;e++){var a={userId:t.currentTaskform[e].userId,isMainDuty:"1",endDate:t.currentTaskform[e].endDate,needHour:t.currentTaskform[e].needHour,taskContent:t.currentTaskform[e].taskContent};t.currentTaskform[e].userList=t.currentTaskform[e].userList.concat(t.currentTaskform[e].smallForm),t.currentTaskform[e].userList.unshift(a)}for(var r=t.tool.deepCopy(t.currentTaskform,t.tool.deepCopy),s=0;s<r[0].userList.length;s++)r[0].userList[s].endDate=t.tool.formatDate(r[0].userList[s].endDate,"yyyy-MM-dd");var o="",n={};"创建任务"==t.title?(o="/task/add/insertTaskInfo",n={contractId:t.$parent.changeContract.contractId,taskList:r}):"修改任务"==t.title&&(o="/task/modify/updateTaskInfo",n={taskList:r}),t.apiAddress(o,n).then(function(e){if("success"==e.data.status){t.stateDialog("success",e.data.message);var a=t.SStorage.getItem("/page/work/contract/FoundItem");a.businessId=e.data.primaryKey||r[0].taskId,t.SStorage.setItem("/page/work/contract/FoundItem",a),t.show=!1,t.bus.$emit("asideRefresh")}else t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})})}}},Es={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"create-task",attrs:{title:e.title,visible:e.show,width:"710px",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t},close:e.handleClose}},[a("el-row",[a("el-col",{attrs:{span:12}},[e._v("项目编号："+e._s(e.projectNum))]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("合同编号："+e._s(this.$parent.changeContract.contractNum))])],1),e._v(" "),a("hr",{attrs:{color:"#dcdfe6",size:"1",width:"100%"}}),e._v(" "),e._l(e.currentTaskform,function(t,r){return a("div",{key:r,staticClass:"currentTaskform"},[a("el-form",{ref:"currentTaskform",refInFor:!0,attrs:{model:t,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"任务名称",prop:"taskName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:t.taskName,callback:function(a){e.$set(t,"taskName",a)},expression:"item.taskName"}})],1)],1)],1),e._v(" "),a("el-row",["db5e76f9-9fbd-11e9-a036-0e411fd5cf91"===e.$parent.changeContract.departmentId?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同类型",prop:"contractTypeName"}},[a("el-select",{attrs:{disabled:"修改任务"==e.title,placeholder:"请选择合同类型"},on:{change:function(a){return e.getContractType(t.contractTypeName,r)}},model:{value:t.contractTypeName,callback:function(a){e.$set(t,"contractTypeName",a)},expression:"item.contractTypeName"}},e._l(e.contractList,function(e){return a("el-option",{key:e.contractTypeId,attrs:{label:e.contractTypeName,value:e.contractTypeName}})}),1)],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"咨询类别",prop:"counselTypeName"}},[a("el-select",{attrs:{disabled:"修改任务"==e.title,placeholder:"请选择咨询类别"},on:{change:function(a){return e.getCounselType(t.counselTypeName,r)}},model:{value:t.counselTypeName,callback:function(a){e.$set(t,"counselTypeName",a)},expression:"item.counselTypeName"}},e._l(t.consultList,function(e){return a("el-option",{key:e.counselTypeId,attrs:{label:e.counselTypeName,value:e.counselTypeName}})}),1)],1)],1)],1),e._v(" "),a("hr",{attrs:{color:"#dcdfe6",size:"1",width:"100%"}}),e._v(" "),a("p",[e._v("指定人员")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"file",attrs:{label:"编制成果文件人",prop:"userName",rules:[{validator:e.checkmainUser,trigger:"change"}]}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择编制成果文件人"},on:{change:function(a){return e.getUserId(t.userName,r)}},model:{value:t.userName,callback:function(a){e.$set(t,"userName",a)},expression:"item.userName"}},e._l(e.personList,function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userName}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"personnel",attrs:{type:"text"},on:{click:function(a){return e.showTab(t,r)}}},[e._v("人员任务信息"),a("i",{class:{"el-icon--right":!0,"el-icon-arrow-down":t.iconDown,"el-icon-arrow-up":t.iconUp}})])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.showTable,expression:"item.showTable"}],staticClass:"showTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"taskName",label:"已分配任务","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"endDate",label:"完成时间","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"needHour",label:"分配工时","show-overflow-tooltip":!0}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"完成时间",prop:"endDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"请输入完成时间"},on:{change:e.isMainUserEndDate},model:{value:t.endDate,callback:function(a){e.$set(t,"endDate",a)},expression:"item.endDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所需工时",prop:"needHour"}},[a("el-input",{attrs:{placeholder:"请输入所需工时"},model:{value:t.needHour,callback:function(a){e.$set(t,"needHour",a)},expression:"item.needHour"}},[a("template",{slot:"append"},[e._v("时")])],2)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"任务概况",prop:"taskContent"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入任务概况"},model:{value:t.taskContent,callback:function(a){e.$set(t,"taskContent",a)},expression:"item.taskContent"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"else"},[a("el-col",{attrs:{span:12}},[e._v("\n            其他组员：\n            "),a("el-button",{staticClass:"linear add",attrs:{icon:"el-icon-plus"},on:{click:function(t){return e.addCrew(r)}}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.addUser,expression:"addUser"}],staticClass:"el-form-item__error userInfo"},[e._v("\n            其他组员不可以重复\n          ")])],1),e._v(" "),a("hr",{attrs:{color:"#dcdfe6",size:"1",width:"100%"}}),e._v(" "),e._l(t.smallForm,function(s,o){return a("div",{key:o,staticClass:"smallForm"},[a("el-button",{staticClass:"colseform",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(a){return e.colseForm1(s,o,t,r)}}}),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"file",attrs:{label:"执行人",prop:"smallForm["+o+"].userName",rules:[{validator:e.checkUserList,trigger:"change"}]}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择执行人"},on:{change:function(t){return e.getExecutor(s.userName,o,r)}},model:{value:s.userName,callback:function(t){e.$set(s,"userName",t)},expression:"value.userName"}},e._l(e.personList,function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userName}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"personnel",attrs:{type:"text"},on:{click:function(t){return e.showTab1(r,o)}}},[e._v("人员任务信息"),a("i",{class:{"el-icon--right":!0,"el-icon-arrow-down":s.iconDown1,"el-icon-arrow-up":s.iconUp1}})])],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:s.showTable1,expression:"value.showTable1"}],staticClass:"showTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:s.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"taskName",label:"已分配任务","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"endDate",label:"完成时间","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"needHour",label:"分配工时","show-overflow-tooltip":!0}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"完成时间",prop:"smallForm["+o+"].endDate",rules:[{type:"date",required:!0,message:"请输入完成时间",trigger:"blur"}]}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请输入完成时间"},on:{change:function(t){return e.isUserEndDate(s.endDate,o,r)}},model:{value:s.endDate,callback:function(t){e.$set(s,"endDate",t)},expression:"value.endDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所需工时",prop:"smallForm["+o+"].needHour",rules:[{required:!0,message:"请输入所需工时",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入所需工时"},model:{value:s.needHour,callback:function(t){e.$set(s,"needHour",t)},expression:"value.needHour"}},[a("template",{slot:"append"},[e._v("时")])],2)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"任务概况",prop:"smallForm["+o+"].taskContent",rules:[{required:!0,message:"请输入任务概况",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入任务概况"},model:{value:s.taskContent,callback:function(t){e.$set(s,"taskContent",t)},expression:"value.taskContent"}})],1)],1)],1)],1)})],2)],1)}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("currentTaskform")}}},[e._v("确 定")])],1)],2)},staticRenderFns:[]};var Hs=a("VU/8")(Us,Es,!1,function(e){a("sGCi"),a("U6h4")},"data-v-45b46eda",null).exports,Ws={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"创建请款单",visible:e.show,width:"600px",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t},close:function(t){return e.handleClose("form")}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm qingkuan",attrs:{model:e.form,"status-icon":"",rules:e.rules,id:"myform","label-width":"100px","inline-message":!0},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{staticClass:"name",attrs:{label:"请款单名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入请款单名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary",form:"myform"},on:{click:function(t){return e.submit("form")}}},[e._v("确认提交")])],1)],1)},staticRenderFns:[]};var Ks=a("VU/8")({data:function(){return{show:!1,form:{name:""},rules:{name:[{required:!0,message:"请输入请款单名",trigger:"blur"},{max:20,message:"最长50字",trigger:"blur"}]}}},methods:{handleClose:function(e){this.$refs[e].resetFields()},submit:function(e){var t=this;t.$refs[e].validate(function(a){if(!a)return!1;t.$emit("submit",t.form),t.show=!1,t.handleClose(e)})}}},Ws,!1,function(e){a("2Wod")},null,null).exports,Js={baseContract:{projectName:"",counselBusinessType:"",contractSealType:"1",counselTypePeriod:"",projectTypeList:[],residential:{landArea:"",floorArea:"",eavesHeight:"",buildingControlHeight:"",volumeRatio:"",homeType:""},commercialBuildings:{landArea:"",floorArea:"",eavesHeight:"",buildingControlHeight:""},hotelAndLeisureEntertainment:{landArea:"",floorArea:"",eavesHeight:"",buildingControlHeight:"",roomNum:""},industrialArchitecture:{landArea:"",floorArea:"",eavesHeight:"",level:"",span:"",produceCondition:""},education:{landArea:"",floorArea:"",makeGreenRatio:"",greenLevel:""},culturalAndSportsFacilities:{landArea:"",floorArea:"",makeGreenRatio:"",greenLevel:""},power:{landArea:"",floorArea:"",installationCapacity:"",transformersNum:"",cableLayingLength:"",cableLayingMethod:"",transmissionCapacity:""},railwayRoadBridgeConstruction:{grade:"",bridgeLength:"",designSpeed:"",orbitalType:"",bridgeType:""},water:{normalOperatingWaterLevel:"",totalStorageCapacity:"",maximumDamHeight:"",installedCapacityOfPowerStation:""},publicUtilitiesUrbanInfrastructure:{landArea:"",floorArea:"",others:""},waterTransportationAndTransportation:{portThroughput:"",channelThroughput:"",flowDirection:"",branchLineVolume:"",shipFlow:"",gatheringAndDistributingWays:""},others:{others:""},projectAddress:"",investedAmount:"",isProvisional:"",projectNatureList:[],trusterName:"",trusterTypeList:[],trusterDutyUser:"",trusterDutyPhone:"",consultUser:"",thirdParty:"",dutyPeople:"",planner:"",contractNatureList:[],determinateMethodList:[],contractAmount:"",isValueProvisional:"",contractDate:"",otherThings:"",characteristic:[{startDate:"",receivedAmount:"",isProvisional:""}],input:"",textarea:"",checkbox:[],select:"",date:"",radioC:"",controlObj:{},contractType:"0"}},Qs={props:["_form","disabled"],data:function(){return{sourceData:Js,gutter:40,controlObj:this._form.controlObj,form:this._form.form,options:[{value:"0",label:"造价咨询"},{value:"1",label:"招标代理"},{value:"2",label:"项目管理（监理）"}],radios:[],fileList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],rules:{projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],counselBusinessType:[{required:!0,message:"请选择咨询业务类型",trigger:"change"}],contractSealType:[{required:!0,message:"请选择合同盖章类型",trigger:"change"}],projectAddress:[{required:!0,message:"请输入项目地点",trigger:"blur"}],projectTypeList:[{required:!0,message:"请选择项目类别",trigger:"change"}],trusterName:[{required:!0,message:"请输入委托人",trigger:"blur"}],trusterTypeList:[{required:!0,message:"请选择委托人性质",trigger:"change"}],trusterDutyUser:[{required:!0,message:"请输入委托方负责人",trigger:"blur"}],trusterDutyPhone:[{required:!0,message:"请输入委托方负责人电话",trigger:"blur"}],consultUser:[{required:!0,message:"请输入咨询人",trigger:"blur"}],thirdParty:[{required:!0,message:"请输入第三方（合作单位）",trigger:"blur"}],titlePageConsultant:[{required:!0,message:"请输入扉页咨询人",trigger:"blur"}],projectNatureList:[{required:!0,message:"请选择项目性质",trigger:"change"}],investedAmount:[{required:!0,message:"请输入投资金额",trigger:"blur"}],contractNatureList:[{required:!0,message:"请选择合同性质",trigger:"change"}],determinateMethodList:[{required:!0,message:"请选择合同确认方式",trigger:"change"}],contractAmount:[{required:!0,message:"请输入拟定合同金额",trigger:"blur"}],dutyPeople:[{required:!0,message:"请输入拟定合同负责人",trigger:"blur"}],contractDate:[{required:!0,message:"请选择咨询合同签订日期",trigger:"blur"}],otherThings:[{required:!0,message:"请输入其他情况说明",trigger:"blur"}],planner:[{required:!0,message:"请输入拟定人",trigger:"blur"}],"residential.landArea":[{required:!0,message:"请输入占地面积",trigger:"blur"}],"residential.floorArea":[{required:!0,message:"请输入建筑面积",trigger:"blur"}],"residential.eavesHeight":[{required:!0,message:"请输入檐高",trigger:"blur"}],"residential.buildingControlHeight":[{required:!0,message:"请输入建筑控制高度",trigger:"blur"}],"residential.volumeRatio":[{required:!0,message:"请输入容积率",trigger:"blur"}],"residential.homeType":[{required:!0,message:"请选择住宅类别",trigger:"change"}],"commercialBuildings.landArea":[{required:!0,message:"请输入占地面积",trigger:"blur"}],"commercialBuildings.floorArea":[{required:!0,message:"请输入建筑面积",trigger:"blur"}],"commercialBuildings.eavesHeight":[{required:!0,message:"请输入檐高",trigger:"blur"}],"commercialBuildings.buildingControlHeight":[{required:!0,message:"请输入建筑控制高度",trigger:"blur"}],"hotelAndLeisureEntertainment.landArea":[{required:!0,message:"请输入占地面积",trigger:"blur"}],"hotelAndLeisureEntertainment.floorArea":[{required:!0,message:"请输入建筑面积",trigger:"blur"}],"hotelAndLeisureEntertainment.eavesHeight":[{required:!0,message:"请输入檐高",trigger:"blur"}],"hotelAndLeisureEntertainment.buildingControlHeight":[{required:!0,message:"请输入建筑控制高度",trigger:"blur"}],"hotelAndLeisureEntertainment.roomNum":[{required:!0,message:"请输入房间数量",trigger:"blur"}],"industrialArchitecture.landArea":[{required:!0,message:"请输入占地面积",trigger:"blur"}],"industrialArchitecture.floorArea":[{required:!0,message:"请输入建筑面积",trigger:"blur"}],"industrialArchitecture.eavesHeight":[{required:!0,message:"请输入檐高",trigger:"blur"}],"industrialArchitecture.level":[{required:!0,message:"请输入层数",trigger:"blur"}],"industrialArchitecture.span":[{required:!0,message:"请输入跨度",trigger:"blur"}],"industrialArchitecture.produceCondition":[{required:!0,message:"请输入生产状况",trigger:"blur"}],"education.landArea":[{required:!0,message:"请输入占地面积",trigger:"blur"}],"education.floorArea":[{required:!0,message:"请输入建筑面积",trigger:"blur"}],"education.makeGreenRatio":[{required:!0,message:"请输入绿化率",trigger:"blur"}],"education.greenLevel":[{required:!0,message:"请输入绿色等级",trigger:"blur"}],"culturalAndSportsFacilities.landArea":[{required:!0,message:"请输入占地面积",trigger:"blur"}],"culturalAndSportsFacilities.floorArea":[{required:!0,message:"请输入建筑面积",trigger:"blur"}],"culturalAndSportsFacilities.persionCapacity":[{required:!0,message:"请输入人容量",trigger:"blur"}],"power.installationCapacity":[{required:!0,message:"请输入装机容量",trigger:"blur"}],"power.floorArea":[{required:!0,message:"请输入建筑面积",trigger:"blur"}],"power.landArea":[{required:!0,message:"请输入占地面积",trigger:"blur"}],"power.transformersNum":[{required:!0,message:"请输入发电机变压器参数数量",trigger:"blur"}],"power.cableLayingLength":[{required:!0,message:"请输入线缆敷设长度",trigger:"blur"}],"power.cableLayingMethod":[{required:!0,message:"请输入线缆敷设方式",trigger:"blur"}],"power.transmissionCapacity":[{required:!0,message:"请输入输电量",trigger:"blur"}],"railwayRoadBridgeConstruction.grade":[{required:!0,message:"请输入等级",trigger:"blur"}],"railwayRoadBridgeConstruction.bridgeLength":[{required:!0,message:"请输入全线（桥）长度",trigger:"blur"}],"railwayRoadBridgeConstruction.designSpeed":[{required:!0,message:"请输入设计速度",trigger:"blur"}],"railwayRoadBridgeConstruction.orbitalType":[{required:!0,message:"请输入轨道类型",trigger:"blur"}],"railwayRoadBridgeConstruction.bridgeType":[{required:!0,message:"请输入桥梁类型",trigger:"blur"}],"water.normalOperatingWaterLevel":[{required:!0,message:"请输入正常运用水位",trigger:"blur"}],"water.totalStorageCapacity":[{required:!0,message:"请输入总库容",trigger:"blur"}],"water.maximumDamHeight":[{required:!0,message:"请输入最大坝高",trigger:"blur"}],"water.installedCapacityOfPowerStation":[{required:!0,message:"请输入电站装机容量",trigger:"blur"}],"publicUtilitiesUrbanInfrastructure.landArea":[{required:!0,message:"请输入占地面积",trigger:"blur"}],"publicUtilitiesUrbanInfrastructure.floorArea":[{required:!0,message:"请输入建筑面积",trigger:"blur"}],"publicUtilitiesUrbanInfrastructure.others":[{required:!0,message:"请输入其他（长度/规模/范围等）",trigger:"blur"}],"waterTransportationAndTransportation.portThroughput":[{required:!0,message:"请输入港口（码头）吞吐量",trigger:"blur"}],"waterTransportationAndTransportation.channelThroughput":[{required:!0,message:"请输入航道（闸机）通过量",trigger:"blur"}],"waterTransportationAndTransportation.flowDirection":[{required:!0,message:"请输入主要货物的流量流向",trigger:"blur"}],"waterTransportationAndTransportation.branchLineVolume":[{required:!0,message:"请输入分航线运量",trigger:"blur"}],"waterTransportationAndTransportation.shipFlow":[{required:!0,message:"请输入船舶流量",trigger:"blur"}],"waterTransportationAndTransportation.gatheringAndDistributingWays":[{required:!0,message:"请输入集疏方式",trigger:"blur"}],"others.others":[{required:!0,message:"请输入其他",trigger:"blur"}],cooperateCompany:[{required:!0,message:"请输入合作公司",trigger:"blur"},{max:50,message:"最长50字",trigger:"blur"}],contractType:[{required:!0,message:"请输选择合同类型",trigger:"blur"}]}}},watch:{_form:{handler:function(){var e=this;e.form=e.tool.deepCopy(e._form.form,e.tool.deepCopy),e.controlObj=e.tool.deepCopy(e._form.controlObj,e.tool.deepCopy)},immediate:!0},"_form.form":{handler:function(){var e=this;e.form=e.tool.deepCopy(e._form.form,e.tool.deepCopy),e.$nextTick(function(){e.$refs.form&&e.$refs.form.clearValidate()})},immediate:!0},"form.counselBusinessType":{handler:function(){var e=this;e.radios=[],"0"==e.form.counselBusinessType?e.radios=[{display:"编制",val:"0"},{display:"审核",val:"1"},{display:"全过程跟踪审计",val:"2"},{display:"全过程工程造价咨询",val:"3"}]:"1"==e.form.counselBusinessType&&(e.radios=[{display:"施工",val:"0"},{display:"监理",val:"1"},{display:"设计",val:"2"},{display:"勘察",val:"3"},{display:"服务类",val:"4"},{display:"采购",val:"5"},{display:"其他",val:"6"}]),e.$nextTick(function(){e.$refs.form&&e.$refs.form.clearValidate()})},immediate:!0},"_form.controlObj":{handler:function(){this.controlObj=this.tool.deepCopy(this._form.controlObj,this.tool.deepCopy)},immediate:!0}},updated:function(){},methods:{delCollection:function(e){this.form.characteristic.splice(e,1)},addCharacteristic:function(){this.form.characteristic.push({startDate:"",receivedAmount:"",isProvisional:""}),console.log("vm.form.characteristic",this.form.characteristic)},handleCheckboxC:function(e){this.controlObj={};for(var t=0,a=e.length;t<a;t++)this.controlObj[e[t]]=!0},change:function(e){var t=this;t.radios={0:[{display:"编制",val:"0"},{display:"审核",val:"1"},{display:"全过程跟踪审计",val:"2"},{display:"全过程工程造价咨询",val:"3"}],1:[{display:"施工",val:"0"},{display:"监理",val:"1"},{display:"设计",val:"2"},{display:"勘察",val:"3"},{display:"服务类",val:"4"},{display:"采购",val:"5"},{display:"其他",val:"6"}],2:[]}[e],t.form.counselTypePeriod||t.radios.length&&(t.form.counselTypePeriod=t.radios[0].val),t.radios.length||(t.form.counselTypePeriod="")},getData:function(){var e=this;return new la.a(function(t,a){e.$refs.form.validate(function(a){a&&t(e._getFormData(e.form))})})},setData:function(e){this._setFormData(e)},_getFormData:function(e){var t=e,a=new FormData;a.append("projectName",t.projectName),a.append("counselBusinessType",t.counselBusinessType),a.append("counselTypePeriod",t.counselTypePeriod),a.append("contractSealType",t.contractSealType),a.append("projectAddress",t.projectAddress),a.append("investedAmount",t.investedAmount),a.append("isProvisional",t.isProvisional),a.append("projectNatureList",t.projectNatureList.sort()),a.append("trusterName",t.trusterName),a.append("trusterTypeList",t.trusterTypeList.sort()),a.append("trusterDutyUser",t.trusterDutyUser),a.append("trusterDutyPhone",t.trusterDutyPhone),a.append("consultUser",t.consultUser),a.append("thirdParty",t.thirdParty),a.append("titlePageConsultant",t.titlePageConsultant),a.append("dutyPeople",t.dutyPeople),a.append("planner",t.planner),a.append("contractNatureList",t.contractNatureList.sort()),a.append("determinateMethodList",t.determinateMethodList.sort()),a.append("contractAmount",t.contractAmount),a.append("isValueProvisional",t.isValueProvisional),a.append("contractDate",t.contractDate),a.append("otherThings",t.otherThings),a.append("cooperateCompany",t.cooperateCompany),a.append("contractType",t.contractType);for(var r=0;r<t.characteristic.length;r++)a.append("predictRequestDateList["+r+"].startDate",this.tool.formatDate(t.characteristic[r].startDate,"yyyy-MM-dd")),a.append("predictRequestDateList["+r+"].receivedAmount",t.characteristic[r].receivedAmount),a.append("predictRequestDateList["+r+"].isProvisional",t.characteristic[r].isProvisional);for(r=0;r<t.projectTypeList.length;r++)switch(a.append("projectTypeList["+r+"].projectType",t.projectTypeList[r]),t.projectTypeList[r]){case 0:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].landArea",t.residential.landArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].floorArea",t.residential.floorArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].eavesHeight",t.residential.eavesHeight),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].buildingControlHeight",t.residential.buildingControlHeight),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].volumeRatio",t.residential.volumeRatio),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].homeType",t.residential.homeType);break;case 1:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].landArea",t.commercialBuildings.landArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].floorArea",t.commercialBuildings.floorArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].eavesHeight",t.commercialBuildings.eavesHeight),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].buildingControlHeight",t.commercialBuildings.buildingControlHeight);break;case 2:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].landArea",t.hotelAndLeisureEntertainment.landArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].floorArea",t.hotelAndLeisureEntertainment.floorArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].eavesHeight",t.hotelAndLeisureEntertainment.eavesHeight),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].buildingControlHeight",t.hotelAndLeisureEntertainment.buildingControlHeight),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].roomNum",t.hotelAndLeisureEntertainment.roomNum);break;case 3:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].landArea",t.industrialArchitecture.landArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].floorArea",t.industrialArchitecture.floorArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].eavesHeight",t.industrialArchitecture.eavesHeight),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].level",t.industrialArchitecture.level),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].span",t.industrialArchitecture.span),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].produceCondition",t.industrialArchitecture.produceCondition);break;case 4:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].landArea",t.education.landArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].floorArea",t.education.floorArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].makeGreenRatio",t.education.makeGreenRatio),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].greenLevel",t.education.greenLevel);break;case 5:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].landArea",t.culturalAndSportsFacilities.landArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].floorArea",t.culturalAndSportsFacilities.floorArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].persionCapacity",t.culturalAndSportsFacilities.persionCapacity);break;case 6:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].landArea",t.power.landArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].floorArea",t.power.floorArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].installationCapacity",t.power.installationCapacity),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].transformersNum",t.power.transformersNum),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].cableLayingLength",t.power.cableLayingLength),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].cableLayingMethod",t.power.cableLayingMethod),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].transmissionCapacity",t.power.transmissionCapacity);break;case 7:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].grade",t.railwayRoadBridgeConstruction.grade),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].bridgeLength",t.railwayRoadBridgeConstruction.bridgeLength),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].designSpeed",t.railwayRoadBridgeConstruction.designSpeed),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].orbitalType",t.railwayRoadBridgeConstruction.orbitalType),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].bridgeType",t.railwayRoadBridgeConstruction.bridgeType);break;case 8:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].normalOperatingWaterLevel",t.water.normalOperatingWaterLevel),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].totalStorageCapacity",t.water.totalStorageCapacity),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].maximumDamHeight",t.water.maximumDamHeight),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].installedCapacityOfPowerStation",t.water.installedCapacityOfPowerStation);break;case 9:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].landArea",t.publicUtilitiesUrbanInfrastructure.landArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].floorArea",t.publicUtilitiesUrbanInfrastructure.floorArea),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].others",t.publicUtilitiesUrbanInfrastructure.others);break;case 10:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].portThroughput",t.waterTransportationAndTransportation.portThroughput),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].channelThroughput",t.waterTransportationAndTransportation.channelThroughput),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].flowDirection",t.waterTransportationAndTransportation.flowDirection),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].branchLineVolume",t.waterTransportationAndTransportation.branchLineVolume),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].shipFlow",t.waterTransportationAndTransportation.shipFlow),a.append("projectTypeList["+r+"].projectFeatureList["+r+"].gatheringAndDistributingWays",t.waterTransportationAndTransportation.gatheringAndDistributingWays);break;case 11:a.append("projectTypeList["+r+"].projectFeatureList["+r+"].others",t.others.others)}return a},_setFormData:function(e){var t=this,a=e,r=t.tool.deepCopy(t.sourceData.baseContract,t.tool.deepCopy),s=[],o={};if(a.projectTypeList&&a.projectTypeList.length)for(var n={},i=0;i<a.projectTypeList.length;i++){var l=parseInt(a.projectTypeList[i].projectType);switch(s.push(l),o[l]=!0,n={},n=a.projectFeatureList[i],a.projectTypeList[i].projectType){case"0":r.residential=n;break;case"1":r.commercialBuildings=n;break;case"2":r.hotelAndLeisureEntertainment=n;break;case"3":r.industrialArchitecture=n;break;case"4":r.education=n;break;case"5":r.culturalAndSportsFacilities=n;break;case"6":r.power=n;break;case"7":r.railwayRoadBridgeConstruction=n;break;case"8":r.water=n;break;case"9":r.publicUtilitiesUrbanInfrastructure=n;break;case"10":r.waterTransportationAndTransportation=n;break;case"11":r.others=n}}if(null!=a.predictRequestDateList&&a.predictRequestDateList.length>0){r.characteristic=[];for(var c=void 0,u=0;u<a.predictRequestDateList.length;u++)(c={}).startDate=new Date(a.predictRequestDateList[u].startDate),c.receivedAmount=a.predictRequestDateList[u].receivedAmount,c.isProvisional=a.predictRequestDateList[u].isProvisional,r.characteristic.push(c)}r=W()({},r,a,{projectTypeList:s}),t.controlObj=t.tool.deepCopy(o,t.tool.deepCopy),t.form=t.tool.deepCopy(r,t.tool.deepCopy),t.$nextTick(function(){t.$refs.form&&t.$refs.form.clearValidate()})},changeContractType:function(e){this.$emit("changeContractType",e)}}},Gs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"baseContract--work-common-components"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,disabled:e.disabled,rules:e.rules}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"咨询业务类型",prop:"counselBusinessType"}},[a("el-select",{attrs:{placeholder:"请选择咨询业务类型"},on:{change:e.change},model:{value:e.form.counselBusinessType,callback:function(t){e.$set(e.form,"counselBusinessType",t)},expression:"form.counselBusinessType"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),e.radios.length?a("el-checkbox-group",{staticStyle:{"margin-top":"10px"}},e._l(e.radios,function(t,r){return a("el-radio",{key:r,attrs:{label:t.val},model:{value:e.form.counselTypePeriod,callback:function(t){e.$set(e.form,"counselTypePeriod",t)},expression:"form.counselTypePeriod"}},[e._v(e._s(t.display))])}),1):e._e()],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"合同盖章类型",prop:"contractSealType"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.form.contractSealType,callback:function(t){e.$set(e.form,"contractSealType",t)},expression:"form.contractSealType"}},[e._v("委托代理人章")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.form.contractSealType,callback:function(t){e.$set(e.form,"contractSealType",t)},expression:"form.contractSealType"}},[e._v("法定代表人章")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"项目地点",prop:"projectAddress"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入项目地点"},model:{value:e.form.projectAddress,callback:function(t){e.$set(e.form,"projectAddress",t)},expression:"form.projectAddress"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"项目类别",prop:"projectTypeList"}},[a("el-checkbox-group",{on:{change:e.handleCheckboxC},model:{value:e.form.projectTypeList,callback:function(t){e.$set(e.form,"projectTypeList",t)},expression:"form.projectTypeList"}},[a("el-checkbox",{attrs:{label:0}},[e._v("住宅")]),e._v(" "),a("el-checkbox",{attrs:{label:1}},[e._v("商业建筑")]),e._v(" "),a("el-checkbox",{attrs:{label:2}},[e._v("酒店及休闲娱乐")]),e._v(" "),a("el-checkbox",{attrs:{label:3}},[e._v("工业建筑")]),e._v(" "),a("el-checkbox",{attrs:{label:4}},[e._v("教育")]),e._v(" "),a("el-checkbox",{attrs:{label:5}},[e._v("文化及体育设施")]),e._v(" "),a("el-checkbox",{attrs:{label:6}},[e._v("电力")]),e._v(" "),a("el-checkbox",{attrs:{label:7}},[e._v("铁路、道路及桥梁建设")]),e._v(" "),a("el-checkbox",{attrs:{label:8}},[e._v("水务")]),e._v(" "),a("el-checkbox",{attrs:{label:9}},[e._v("公用事业及城市基础设施")]),e._v(" "),a("el-checkbox",{attrs:{label:10}},[e._v("水运、交通")]),e._v(" "),a("el-checkbox",{attrs:{label:11}},[e._v("其他")])],1)],1)],1)],1),e._v(" "),e.form.projectTypeList.length?a("h3",{staticClass:"form-title"},[e._v("项目特征/指标")]):e._e(),e._v(" "),e.controlObj[0]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("住宅")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"占地面积",prop:"residential.landArea"}},[a("el-input",{attrs:{placeholder:"请输入占地面积"},model:{value:e.form.residential.landArea,callback:function(t){e.$set(e.form.residential,"landArea",t)},expression:"form.residential.landArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑面积",prop:"residential.floorArea"}},[a("el-input",{attrs:{placeholder:"请输入建筑面积"},model:{value:e.form.residential.floorArea,callback:function(t){e.$set(e.form.residential,"floorArea",t)},expression:"form.residential.floorArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"檐高",prop:"residential.eavesHeight"}},[a("el-input",{attrs:{placeholder:"请输入檐高"},model:{value:e.form.residential.eavesHeight,callback:function(t){e.$set(e.form.residential,"eavesHeight",t)},expression:"form.residential.eavesHeight"}},[a("template",{slot:"append"},[e._v("\n                    米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑控制高度",prop:"residential.buildingControlHeight"}},[a("el-input",{attrs:{placeholder:"请输入建筑控制高度"},model:{value:e.form.residential.buildingControlHeight,callback:function(t){e.$set(e.form.residential,"buildingControlHeight",t)},expression:"form.residential.buildingControlHeight"}},[a("template",{slot:"append"},[e._v("\n                    米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容积率",prop:"residential.volumeRatio"}},[a("el-input",{attrs:{placeholder:"请输入容积率"},model:{value:e.form.residential.volumeRatio,callback:function(t){e.$set(e.form.residential,"volumeRatio",t)},expression:"form.residential.volumeRatio"}},[a("template",{slot:"append"},[e._v("\n                    米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"住宅类别",prop:"residential.homeType"}},[a("el-select",{attrs:{placeholder:"请选择住宅类别"},model:{value:e.form.residential.homeType,callback:function(t){e.$set(e.form.residential,"homeType",t)},expression:"form.residential.homeType"}},[a("el-option",{attrs:{label:"商品房",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"公租房",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"共有产权",value:"2"}})],1)],1)],1)],1)],1):e._e(),e._v(" "),e.controlObj[1]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("商业建筑")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"占地面积",prop:"commercialBuildings.landArea"}},[a("el-input",{attrs:{placeholder:"请输入占地面积"},model:{value:e.form.commercialBuildings.landArea,callback:function(t){e.$set(e.form.commercialBuildings,"landArea",t)},expression:"form.commercialBuildings.landArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑面积",prop:"commercialBuildings.floorArea"}},[a("el-input",{attrs:{placeholder:"请输入建筑面积"},model:{value:e.form.commercialBuildings.floorArea,callback:function(t){e.$set(e.form.commercialBuildings,"floorArea",t)},expression:"form.commercialBuildings.floorArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"檐高",prop:"commercialBuildings.eavesHeight"}},[a("el-input",{attrs:{placeholder:"请输入檐高"},model:{value:e.form.commercialBuildings.eavesHeight,callback:function(t){e.$set(e.form.commercialBuildings,"eavesHeight",t)},expression:"form.commercialBuildings.eavesHeight"}},[a("template",{slot:"append"},[e._v("\n                    米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑控制高度",prop:"commercialBuildings.buildingControlHeight"}},[a("el-input",{attrs:{placeholder:"请输入建筑控制高度"},model:{value:e.form.commercialBuildings.buildingControlHeight,callback:function(t){e.$set(e.form.commercialBuildings,"buildingControlHeight",t)},expression:"form.commercialBuildings.buildingControlHeight"}},[a("template",{slot:"append"},[e._v("\n                    米\n                  ")])],2)],1)],1)],1)],1):e._e(),e._v(" "),e.controlObj[2]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("酒店及休闲娱乐")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"占地面积",prop:"hotelAndLeisureEntertainment.landArea"}},[a("el-input",{attrs:{placeholder:"请输入占地面积"},model:{value:e.form.hotelAndLeisureEntertainment.landArea,callback:function(t){e.$set(e.form.hotelAndLeisureEntertainment,"landArea",t)},expression:"form.hotelAndLeisureEntertainment.landArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑面积",prop:"hotelAndLeisureEntertainment.floorArea"}},[a("el-input",{attrs:{placeholder:"请输入建筑面积"},model:{value:e.form.hotelAndLeisureEntertainment.floorArea,callback:function(t){e.$set(e.form.hotelAndLeisureEntertainment,"floorArea",t)},expression:"form.hotelAndLeisureEntertainment.floorArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"檐高",prop:"hotelAndLeisureEntertainment.eavesHeight"}},[a("el-input",{attrs:{placeholder:"请输入檐高"},model:{value:e.form.hotelAndLeisureEntertainment.eavesHeight,callback:function(t){e.$set(e.form.hotelAndLeisureEntertainment,"eavesHeight",t)},expression:"form.hotelAndLeisureEntertainment.eavesHeight"}},[a("template",{slot:"append"},[e._v("\n                    米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑控制高度",prop:"hotelAndLeisureEntertainment.buildingControlHeight"}},[a("el-input",{attrs:{placeholder:"请输入建筑控制高度"},model:{value:e.form.hotelAndLeisureEntertainment.buildingControlHeight,callback:function(t){e.$set(e.form.hotelAndLeisureEntertainment,"buildingControlHeight",t)},expression:"form.hotelAndLeisureEntertainment.buildingControlHeight"}},[a("template",{slot:"append"},[e._v("\n                    米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"房间数量",prop:"hotelAndLeisureEntertainment.roomNum"}},[a("el-input",{attrs:{placeholder:"请输入房间数量"},model:{value:e.form.hotelAndLeisureEntertainment.roomNum,callback:function(t){e.$set(e.form.hotelAndLeisureEntertainment,"roomNum",t)},expression:"form.hotelAndLeisureEntertainment.roomNum"}},[a("template",{slot:"append"},[e._v("\n                    个\n                  ")])],2)],1)],1)],1)],1):e._e(),e._v(" "),e.controlObj[3]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("工业建筑")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"占地面积",prop:"industrialArchitecture.landArea"}},[a("el-input",{attrs:{placeholder:"请输入占地面积"},model:{value:e.form.industrialArchitecture.landArea,callback:function(t){e.$set(e.form.industrialArchitecture,"landArea",t)},expression:"form.industrialArchitecture.landArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑面积",prop:"industrialArchitecture.floorArea"}},[a("el-input",{attrs:{placeholder:"请输入建筑面积"},model:{value:e.form.industrialArchitecture.floorArea,callback:function(t){e.$set(e.form.industrialArchitecture,"floorArea",t)},expression:"form.industrialArchitecture.floorArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"层数",prop:"industrialArchitecture.level"}},[a("el-input",{attrs:{placeholder:"请输入层数"},model:{value:e.form.industrialArchitecture.level,callback:function(t){e.$set(e.form.industrialArchitecture,"level",t)},expression:"form.industrialArchitecture.level"}},[a("template",{slot:"append"},[e._v("\n                    层\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"檐高",prop:"industrialArchitecture.eavesHeight"}},[a("el-input",{attrs:{placeholder:"请输入檐高"},model:{value:e.form.industrialArchitecture.eavesHeight,callback:function(t){e.$set(e.form.industrialArchitecture,"eavesHeight",t)},expression:"form.industrialArchitecture.eavesHeight"}},[a("template",{slot:"append"},[e._v("\n                    米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"跨度",prop:"industrialArchitecture.span"}},[a("el-input",{attrs:{placeholder:"请输入跨度"},model:{value:e.form.industrialArchitecture.span,callback:function(t){e.$set(e.form.industrialArchitecture,"span",t)},expression:"form.industrialArchitecture.span"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生产状况",prop:"industrialArchitecture.produceCondition"}},[a("el-input",{attrs:{placeholder:"请输入生产状况"},model:{value:e.form.industrialArchitecture.produceCondition,callback:function(t){e.$set(e.form.industrialArchitecture,"produceCondition",t)},expression:"form.industrialArchitecture.produceCondition"}})],1)],1)],1)],1):e._e(),e._v(" "),e.controlObj[4]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("教育")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"占地面积",prop:"education.landArea"}},[a("el-input",{attrs:{placeholder:"请输入占地面积"},model:{value:e.form.education.landArea,callback:function(t){e.$set(e.form.education,"landArea",t)},expression:"form.education.landArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑面积",prop:"education.floorArea"}},[a("el-input",{attrs:{placeholder:"请输入建筑面积"},model:{value:e.form.education.floorArea,callback:function(t){e.$set(e.form.education,"floorArea",t)},expression:"form.education.floorArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"绿化率",prop:"education.makeGreenRatio"}},[a("el-input",{attrs:{placeholder:"请输入绿化率"},model:{value:e.form.education.makeGreenRatio,callback:function(t){e.$set(e.form.education,"makeGreenRatio",t)},expression:"form.education.makeGreenRatio"}},[a("template",{slot:"append"},[e._v("\n                    %\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"绿色等级",prop:"education.greenLevel"}},[a("el-input",{attrs:{placeholder:"请输入绿色等级"},model:{value:e.form.education.greenLevel,callback:function(t){e.$set(e.form.education,"greenLevel",t)},expression:"form.education.greenLevel"}},[a("template",{slot:"append"},[e._v("\n                    级\n                  ")])],2)],1)],1)],1)],1):e._e(),e._v(" "),e.controlObj[5]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("文化及体育设施")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"占地面积",prop:"culturalAndSportsFacilities.landArea"}},[a("el-input",{attrs:{placeholder:"请输入占地面积"},model:{value:e.form.culturalAndSportsFacilities.landArea,callback:function(t){e.$set(e.form.culturalAndSportsFacilities,"landArea",t)},expression:"form.culturalAndSportsFacilities.landArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑面积",prop:"culturalAndSportsFacilities.floorArea"}},[a("el-input",{attrs:{placeholder:"请输入建筑面积"},model:{value:e.form.culturalAndSportsFacilities.floorArea,callback:function(t){e.$set(e.form.culturalAndSportsFacilities,"floorArea",t)},expression:"form.culturalAndSportsFacilities.floorArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"人容量",prop:"culturalAndSportsFacilities.persionCapacity"}},[a("el-input",{attrs:{placeholder:"请输入人容量"},model:{value:e.form.culturalAndSportsFacilities.persionCapacity,callback:function(t){e.$set(e.form.culturalAndSportsFacilities,"persionCapacity",t)},expression:"form.culturalAndSportsFacilities.persionCapacity"}})],1)],1)],1)],1):e._e(),e._v(" "),e.controlObj[6]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("电力")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"装机容量",prop:"power.installationCapacity"}},[a("el-input",{attrs:{placeholder:"请输入装机容量"},model:{value:e.form.power.installationCapacity,callback:function(t){e.$set(e.form.power,"installationCapacity",t)},expression:"form.power.installationCapacity"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑面积",prop:"power.floorArea"}},[a("el-input",{attrs:{placeholder:"请输入建筑面积"},model:{value:e.form.power.floorArea,callback:function(t){e.$set(e.form.power,"floorArea",t)},expression:"form.power.floorArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"占地面积",prop:"power.landArea"}},[a("el-input",{attrs:{placeholder:"请输入占地面积"},model:{value:e.form.power.landArea,callback:function(t){e.$set(e.form.power,"landArea",t)},expression:"form.power.landArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发电机变压器参数数量",prop:"power.transformersNum"}},[a("el-input",{attrs:{placeholder:"请输入发电机变压器参数数量"},model:{value:e.form.power.transformersNum,callback:function(t){e.$set(e.form.power,"transformersNum",t)},expression:"form.power.transformersNum"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"线缆敷设长度",prop:"power.cableLayingLength"}},[a("el-input",{attrs:{placeholder:"请输入线缆敷设长度"},model:{value:e.form.power.cableLayingLength,callback:function(t){e.$set(e.form.power,"cableLayingLength",t)},expression:"form.power.cableLayingLength"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"线缆敷设方式",prop:"power.cableLayingMethod"}},[a("el-input",{attrs:{placeholder:"请输入线缆敷设方式"},model:{value:e.form.power.cableLayingMethod,callback:function(t){e.$set(e.form.power,"cableLayingMethod",t)},expression:"form.power.cableLayingMethod"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"输电量",prop:"power.transmissionCapacity"}},[a("el-input",{attrs:{placeholder:"请输入输电量"},model:{value:e.form.power.transmissionCapacity,callback:function(t){e.$set(e.form.power,"transmissionCapacity",t)},expression:"form.power.transmissionCapacity"}})],1)],1)],1)],1):e._e(),e._v(" "),e.controlObj[7]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("铁路、道路及桥梁建设")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"等级",prop:"railwayRoadBridgeConstruction.grade"}},[a("el-input",{attrs:{placeholder:"请输入等级"},model:{value:e.form.railwayRoadBridgeConstruction.grade,callback:function(t){e.$set(e.form.railwayRoadBridgeConstruction,"grade",t)},expression:"form.railwayRoadBridgeConstruction.grade"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"全线（桥）长度",prop:"railwayRoadBridgeConstruction.bridgeLength"}},[a("el-input",{attrs:{placeholder:"请输入全线（桥）长度"},model:{value:e.form.railwayRoadBridgeConstruction.bridgeLength,callback:function(t){e.$set(e.form.railwayRoadBridgeConstruction,"bridgeLength",t)},expression:"form.railwayRoadBridgeConstruction.bridgeLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设计速度",prop:"railwayRoadBridgeConstruction.designSpeed"}},[a("el-input",{attrs:{placeholder:"请输入设计速度"},model:{value:e.form.railwayRoadBridgeConstruction.designSpeed,callback:function(t){e.$set(e.form.railwayRoadBridgeConstruction,"designSpeed",t)},expression:"form.railwayRoadBridgeConstruction.designSpeed"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"轨道类型",prop:"railwayRoadBridgeConstruction.orbitalType"}},[a("el-input",{attrs:{placeholder:"请输入轨道类型"},model:{value:e.form.railwayRoadBridgeConstruction.orbitalType,callback:function(t){e.$set(e.form.railwayRoadBridgeConstruction,"orbitalType",t)},expression:"form.railwayRoadBridgeConstruction.orbitalType"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"桥梁类型",prop:"railwayRoadBridgeConstruction.bridgeType"}},[a("el-input",{attrs:{placeholder:"请输入桥梁类型"},model:{value:e.form.railwayRoadBridgeConstruction.bridgeType,callback:function(t){e.$set(e.form.railwayRoadBridgeConstruction,"bridgeType",t)},expression:"form.railwayRoadBridgeConstruction.bridgeType"}})],1)],1)],1)],1):e._e(),e._v(" "),e.controlObj[8]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("水务")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"正常运用水位",prop:"water.normalOperatingWaterLevel"}},[a("el-input",{attrs:{placeholder:"请输入正常运用水位"},model:{value:e.form.water.normalOperatingWaterLevel,callback:function(t){e.$set(e.form.water,"normalOperatingWaterLevel",t)},expression:"form.water.normalOperatingWaterLevel"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"总库容",prop:"water.totalStorageCapacity"}},[a("el-input",{attrs:{placeholder:"请输入总库容"},model:{value:e.form.water.totalStorageCapacity,callback:function(t){e.$set(e.form.water,"totalStorageCapacity",t)},expression:"form.water.totalStorageCapacity"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"最大坝高",prop:"water.maximumDamHeight"}},[a("el-input",{attrs:{placeholder:"请输入最大坝高"},model:{value:e.form.water.maximumDamHeight,callback:function(t){e.$set(e.form.water,"maximumDamHeight",t)},expression:"form.water.maximumDamHeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电站装机容量",prop:"water.installedCapacityOfPowerStation"}},[a("el-input",{attrs:{placeholder:"请输入电站装机容量"},model:{value:e.form.water.installedCapacityOfPowerStation,callback:function(t){e.$set(e.form.water,"installedCapacityOfPowerStation",t)},expression:"form.water.installedCapacityOfPowerStation"}})],1)],1)],1)],1):e._e(),e._v(" "),e.controlObj[9]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("公用事业及城市基础设施")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"占地面积",prop:"publicUtilitiesUrbanInfrastructure.landArea"}},[a("el-input",{attrs:{placeholder:"请输入占地面积"},model:{value:e.form.publicUtilitiesUrbanInfrastructure.landArea,callback:function(t){e.$set(e.form.publicUtilitiesUrbanInfrastructure,"landArea",t)},expression:"form.publicUtilitiesUrbanInfrastructure.landArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建筑面积",prop:"publicUtilitiesUrbanInfrastructure.floorArea"}},[a("el-input",{attrs:{placeholder:"请输入建筑面积"},model:{value:e.form.publicUtilitiesUrbanInfrastructure.floorArea,callback:function(t){e.$set(e.form.publicUtilitiesUrbanInfrastructure,"floorArea",t)},expression:"form.publicUtilitiesUrbanInfrastructure.floorArea"}},[a("template",{slot:"append"},[e._v("\n                    平方米\n                  ")])],2)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"其他（长度/规模/范围等）",prop:"publicUtilitiesUrbanInfrastructure.others"}},[a("el-input",{attrs:{placeholder:"请输入其他（长度/规模/范围等）"},model:{value:e.form.publicUtilitiesUrbanInfrastructure.others,callback:function(t){e.$set(e.form.publicUtilitiesUrbanInfrastructure,"others",t)},expression:"form.publicUtilitiesUrbanInfrastructure.others"}})],1)],1)],1)],1):e._e(),e._v(" "),e.controlObj[10]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("水运、交通")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"港口（码头）吞吐量",prop:"waterTransportationAndTransportation.portThroughput"}},[a("el-input",{attrs:{placeholder:"请输入港口（码头）吞吐量"},model:{value:e.form.waterTransportationAndTransportation.portThroughput,callback:function(t){e.$set(e.form.waterTransportationAndTransportation,"portThroughput",t)},expression:"form.waterTransportationAndTransportation.portThroughput"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"航道（闸机）通过量",prop:"waterTransportationAndTransportation.channelThroughput"}},[a("el-input",{attrs:{placeholder:"请输入航道（闸机）通过量"},model:{value:e.form.waterTransportationAndTransportation.channelThroughput,callback:function(t){e.$set(e.form.waterTransportationAndTransportation,"channelThroughput",t)},expression:"form.waterTransportationAndTransportation.channelThroughput"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"主要货物的流量流向",prop:"waterTransportationAndTransportation.flowDirection"}},[a("el-input",{attrs:{placeholder:"请输入主要货物的流量流向"},model:{value:e.form.waterTransportationAndTransportation.flowDirection,callback:function(t){e.$set(e.form.waterTransportationAndTransportation,"flowDirection",t)},expression:"form.waterTransportationAndTransportation.flowDirection"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分航线运量",prop:"waterTransportationAndTransportation.branchLineVolume"}},[a("el-input",{attrs:{placeholder:"请输入分航线运量"},model:{value:e.form.waterTransportationAndTransportation.branchLineVolume,callback:function(t){e.$set(e.form.waterTransportationAndTransportation,"branchLineVolume",t)},expression:"form.waterTransportationAndTransportation.branchLineVolume"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"船舶流量",prop:"waterTransportationAndTransportation.shipFlow"}},[a("el-input",{attrs:{placeholder:"请输入船舶流量"},model:{value:e.form.waterTransportationAndTransportation.shipFlow,callback:function(t){e.$set(e.form.waterTransportationAndTransportation,"shipFlow",t)},expression:"form.waterTransportationAndTransportation.shipFlow"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"集疏方式",prop:"waterTransportationAndTransportation.gatheringAndDistributingWays"}},[a("el-input",{attrs:{placeholder:"请输入集疏方式"},model:{value:e.form.waterTransportationAndTransportation.gatheringAndDistributingWays,callback:function(t){e.$set(e.form.waterTransportationAndTransportation,"gatheringAndDistributingWays",t)},expression:"form.waterTransportationAndTransportation.gatheringAndDistributingWays"}})],1)],1)],1)],1):e._e(),e._v(" "),e.controlObj[11]?a("div",{staticClass:"control-block"},[a("h4",{staticClass:"form-title"},[e._v("其他")]),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"其他",prop:"others.others"}},[a("el-input",{attrs:{placeholder:"请输入其他"},model:{value:e.form.others.others,callback:function(t){e.$set(e.form.others,"others",t)},expression:"form.others.others"}})],1)],1)],1)],1):e._e(),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"投资金额",prop:"investedAmount"}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n                  投资金额\n                     "),a("el-checkbox",{staticStyle:{position:"absolute",right:"-12px"},attrs:{label:1,"true-label":"1","false-label":"0"},model:{value:e.form.isProvisional,callback:function(t){e.$set(e.form,"isProvisional",t)},expression:"form.isProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入投资金额"},model:{value:e.form.investedAmount,callback:function(t){e.$set(e.form,"investedAmount",t)},expression:"form.investedAmount"}},[a("template",{slot:"append"},[e._v("\n                  万元\n                ")])],2)],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目性质",prop:"projectNatureList"}},[a("el-checkbox-group",{model:{value:e.form.projectNatureList,callback:function(t){e.$set(e.form,"projectNatureList",t)},expression:"form.projectNatureList"}},[a("el-checkbox",{attrs:{label:"0"}},[e._v("新建")]),e._v(" "),a("el-checkbox",{attrs:{label:"1"}},[e._v("扩建")]),e._v(" "),a("el-checkbox",{attrs:{label:"2"}},[e._v("改建")])],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"委托人",prop:"trusterName"}},[a("el-input",{attrs:{placeholder:"请输入委托人"},model:{value:e.form.trusterName,callback:function(t){e.$set(e.form,"trusterName",t)},expression:"form.trusterName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"委托人性质",prop:"trusterTypeList"}},[a("el-checkbox-group",{model:{value:e.form.trusterTypeList,callback:function(t){e.$set(e.form,"trusterTypeList",t)},expression:"form.trusterTypeList"}},[a("el-checkbox",{attrs:{label:"0",name:"checkbox"}},[e._v("政府部门")]),e._v(" "),a("el-checkbox",{attrs:{label:"1",name:"checkbox"}},[e._v("国企")]),e._v(" "),a("el-checkbox",{attrs:{label:"2",name:"checkbox"}},[e._v("上市公司")]),e._v(" "),a("el-checkbox",{attrs:{label:"3",name:"checkbox"}},[e._v("私企")]),e._v(" "),a("el-checkbox",{attrs:{label:"4",name:"checkbox"}},[e._v("其他")])],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托方负责人",prop:"trusterDutyUser"}},[a("el-input",{attrs:{placeholder:"请输入委托方负责人"},model:{value:e.form.trusterDutyUser,callback:function(t){e.$set(e.form,"trusterDutyUser",t)},expression:"form.trusterDutyUser"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托方负责人电话",prop:"trusterDutyPhone"}},[a("el-input",{attrs:{placeholder:"请输入委托方负责人电话"},model:{value:e.form.trusterDutyPhone,callback:function(t){e.$set(e.form,"trusterDutyPhone",t)},expression:"form.trusterDutyPhone"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"咨询人",prop:"consultUser"}},[a("el-input",{attrs:{placeholder:"请输入咨询人"},model:{value:e.form.consultUser,callback:function(t){e.$set(e.form,"consultUser",t)},expression:"form.consultUser"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"第三方（合作单位）",prop:"thirdParty"}},[a("el-input",{attrs:{placeholder:"请输入第三方（合作单位）"},model:{value:e.form.thirdParty,callback:function(t){e.$set(e.form,"thirdParty",t)},expression:"form.thirdParty"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"扉页咨询人",prop:"titlePageConsultant"}},[a("el-input",{attrs:{placeholder:"请输入扉页咨询人"},model:{value:e.form.titlePageConsultant,callback:function(t){e.$set(e.form,"titlePageConsultant",t)},expression:"form.titlePageConsultant"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"拟定合同负责人",prop:"dutyPeople"}},[a("el-input",{attrs:{placeholder:"请输入拟定合同负责人"},model:{value:e.form.dutyPeople,callback:function(t){e.$set(e.form,"dutyPeople",t)},expression:"form.dutyPeople"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"拟定人",prop:"planner"}},[a("el-input",{attrs:{placeholder:"请输入拟定人"},model:{value:e.form.planner,callback:function(t){e.$set(e.form,"planner",t)},expression:"form.planner"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"合同性质",prop:"contractNatureList"}},[a("el-checkbox-group",{staticStyle:{display:"inline-block","margin-right":"30px"},model:{value:e.form.contractNatureList,callback:function(t){e.$set(e.form,"contractNatureList",t)},expression:"form.contractNatureList"}},[a("el-checkbox",{attrs:{label:"0"}},[e._v("双方合同")]),e._v(" "),a("el-checkbox",{attrs:{label:"1"}},[e._v("三方合同")]),e._v(" "),a("el-checkbox",{attrs:{label:"2"}},[e._v("补充合同")])],1),e._v(" "),a("span",{staticClass:"checkbox-parentheses-left"},[e._v("(")]),e._v(" "),a("el-checkbox-group",{staticStyle:{display:"inline-block",padding:"0 5px"},model:{value:e.form.contractNatureList,callback:function(t){e.$set(e.form,"contractNatureList",t)},expression:"form.contractNatureList"}},[a("el-checkbox",{attrs:{label:"3"}},[e._v("单独核算")]),e._v(" "),a("el-checkbox",{attrs:{label:"4"}},[e._v("非单独核算")])],1),e._v(" "),a("span",{staticClass:"checkbox-parentheses-right"},[e._v(")")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"确定方式",prop:"determinateMethodList"}},[a("el-checkbox-group",{model:{value:e.form.determinateMethodList,callback:function(t){e.$set(e.form,"determinateMethodList",t)},expression:"form.determinateMethodList"}},[a("el-checkbox",{attrs:{label:"0",name:"checkbox"}},[e._v("招标")]),e._v(" "),a("el-checkbox",{attrs:{label:"1",name:"checkbox"}},[e._v("财政委托")]),e._v(" "),a("el-checkbox",{attrs:{label:"2",name:"checkbox"}},[e._v("审计委托")]),e._v(" "),a("el-checkbox",{attrs:{label:"3",name:"checkbox"}},[e._v("商务洽谈")]),e._v(" "),a("el-checkbox",{attrs:{label:"4",name:"checkbox"}},[e._v("战略合作")]),e._v(" "),a("el-checkbox",{attrs:{label:"5",name:"checkbox"}},[e._v("法院委托")]),e._v(" "),a("el-checkbox",{attrs:{label:"6",name:"checkbox"}},[e._v("其他")])],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"拟定合同金额",prop:"contractAmount"}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n                  拟定合同金额\n                  "),a("el-checkbox",{staticStyle:{position:"absolute",right:"-12px"},attrs:{label:1,"true-label":"1","false-label":"0"},model:{value:e.form.isValueProvisional,callback:function(t){e.$set(e.form,"isValueProvisional",t)},expression:"form.isValueProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入拟定合同金额"},model:{value:e.form.contractAmount,callback:function(t){e.$set(e.form,"contractAmount",t)},expression:"form.contractAmount"}},[a("template",{slot:"append"},[e._v("\n                  元\n                ")])],2)],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"咨询合同签订日期",prop:"contractDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.contractDate,callback:function(t){e.$set(e.form,"contractDate",t)},expression:"form.contractDate"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("h4",{staticClass:"form-title"},[e._v("\n          预计收款时间\n          "),a("el-button",{staticClass:"linear",staticStyle:{width:"26px",height:"16px !important","line-height":"16px !important","border-radius":"5px",padding:"0 !important",border:"none"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addCharacteristic}})],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"第1次收款",prop:"characteristic[0].startDate",rules:[{type:"date",required:!0,message:"请选择日期",trigger:"blur"}]}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.characteristic[0].startDate,callback:function(t){e.$set(e.form.characteristic[0],"startDate",t)},expression:"form.characteristic[0].startDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"characteristic[0].receivedAmount",rules:[{required:!0,message:"请输入预计收款金额",trigger:"blur"}]}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n                  请输入预计收款金额\n                  "),a("span",{staticStyle:{opacity:"0"}},[e._v("1")]),e._v(" "),a("el-checkbox",{staticStyle:{position:"absolute",right:"calc(20% - 9px)"},attrs:{label:1,"true-label":"1","false-label":"0"},model:{value:e.form.characteristic[0].isProvisional,callback:function(t){e.$set(e.form.characteristic[0],"isProvisional",t)},expression:"form.characteristic[0].isProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{staticStyle:{width:"80%","margin-right":"10px"},attrs:{placeholder:"请输入预计收款金额"},model:{value:e.form.characteristic[0].receivedAmount,callback:function(t){e.$set(e.form.characteristic[0],"receivedAmount",t)},expression:"form.characteristic[0].receivedAmount"}},[a("template",{slot:"append"},[e._v("元")])],2)],2)],1)],1),e._v(" "),e._l(e.form.characteristic,function(t,r){return a("el-row",{key:r,attrs:{gutter:e.gutter}},[r>=1?[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"第"+(r+1)+"次收款",prop:"characteristic["+r+"].startDate",rules:[{type:"date",required:!0,message:"请选择日期",trigger:"blur"}]}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.startDate,callback:function(a){e.$set(t,"startDate",a)},expression:"item.startDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"",prop:"characteristic["+r+"].receivedAmount",rules:[{required:!0,message:"请输入预计收款金额",trigger:"blur"}]}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n                  请输入预计收款金额\n                  "),a("span",{staticStyle:{opacity:"0"}},[e._v("1")]),e._v(" "),a("el-checkbox",{staticStyle:{position:"absolute",right:"calc(20% - 9px)"},attrs:{label:1,"true-label":"1","false-label":"0"},model:{value:t.isProvisional,callback:function(a){e.$set(t,"isProvisional",a)},expression:"item.isProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{staticStyle:{width:"80%","margin-right":"10px"},attrs:{placeholder:"请输入预计收款金额"},model:{value:t.receivedAmount,callback:function(a){e.$set(t,"receivedAmount",a)},expression:"item.receivedAmount"}},[a("template",{slot:"append"},[e._v("元")])],2),e._v(" "),a("i",{staticClass:"el-icon-close",on:{click:function(t){return e.delCollection(r)}}})],2)],1)]:e._e()],2)})],2),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"其他情况",prop:"otherThings"}},[a("el-input",{attrs:{type:"textarea",placeholder:"其他情况说明"},model:{value:e.form.otherThings,callback:function(t){e.$set(e.form,"otherThings",t)},expression:"form.otherThings"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"合作公司",prop:"cooperateCompany"}},[a("el-input",{attrs:{placeholder:"请输入合作公司"},model:{value:e.form.cooperateCompany,callback:function(t){e.$set(e.form,"cooperateCompany",t)},expression:"form.cooperateCompany"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"合同类型",prop:"contractType"}},[a("el-radio-group",{on:{change:e.changeContractType},model:{value:e.form.contractType,callback:function(t){e.$set(e.form,"contractType",t)},expression:"form.contractType"}},[a("el-radio",{attrs:{label:"0"}},[e._v("自定义合同")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("模板合同")])],1)],1)],1)],1)],1)])],1)},staticRenderFns:[]};var Ys=a("VU/8")(Qs,Gs,!1,function(e){a("gY89"),a("O/VW")},"data-v-4d2b8ae9",null).exports,Xs={props:["_form","nodeInfo"],data:function(){return{sourceData:Js,form:this.tool.deepCopy(this._form.form,this.tool.deepCopy),controlObj:this.tool.deepCopy(this._form.controlObj,this.tool.deepCopy),curNodeInfo:this.tool.deepCopy(this.nodeInfo,this.tool.deepCopy)}},watch:{_form:{handler:function(){this.form=this.tool.deepCopy(this._form.form,this.tool.deepCopy),this.controlObj=this.tool.deepCopy(this._form.controlObj,this.tool.deepCopy)},immediate:!0},nodeInfo:{handler:function(){this.curNodeInfo=this.tool.deepCopy(this.nodeInfo,this.tool.deepCopy)},immediate:!0}},methods:{setData:function(e){this._setFormData(e)},_setFormData:function(e){var t=this,a=e,r=t.tool.deepCopy(t.sourceData.baseContract,t.tool.deepCopy),s=[],o={};if(a.projectTypeList&&a.projectTypeList.length)for(var n={},i=0;i<a.projectTypeList.length;i++){var l=parseInt(a.projectTypeList[i].projectType);switch(s.push(l),o[l]=!0,n={},n=a.projectFeatureList[i],a.projectTypeList[i].projectType){case"0":r.residential=n;break;case"1":r.commercialBuildings=n;break;case"2":r.hotelAndLeisureEntertainment=n;break;case"3":r.industrialArchitecture=n;break;case"4":r.education=n;break;case"5":r.culturalAndSportsFacilities=n;break;case"6":r.power=n;break;case"7":r.railwayRoadBridgeConstruction=n;break;case"8":r.water=n;break;case"9":r.publicUtilitiesUrbanInfrastructure=n;break;case"10":r.waterTransportationAndTransportation=n;break;case"11":r.others=n}}if(null!=a.predictRequestDateList&&a.predictRequestDateList.length>0){r.characteristic=[];for(var c=void 0,u=0;u<a.predictRequestDateList.length;u++)(c={}).startDate=new Date(a.predictRequestDateList[u].startDate),c.receivedAmount=a.predictRequestDateList[u].receivedAmount,c.isProvisional=a.predictRequestDateList[u].isProvisional,r.characteristic.push(c)}r=W()({},r,a,{projectTypeList:s}),t.controlObj=t.tool.deepCopy(o,t.tool.deepCopy),t.form=t.tool.deepCopy(r,t.tool.deepCopy)}}},Zs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-information--work-common-components"},[a("div",{staticClass:"form-block"},[a("table",{attrs:{width:"100%"}},[a("tr",[a("td",[e._v("项目编号：*")]),e._v(" "),a("td",[e._v(e._s(e.curNodeInfo.projectNumber))]),e._v(" "),a("td",[e._v("合同编号：*")]),e._v(" "),a("td",[e._v("由行政部提供生成")])]),e._v(" "),a("tr",[a("td",[e._v("项目名称：*")]),e._v(" "),a("td",[e._v(e._s(e.form.projectName))]),e._v(" "),a("td",[e._v("咨询业务类型：*")]),e._v(" "),a("td",[e._v("\n        "+e._s(0==e.form.counselBusinessType&&""!==e.form.counselBusinessType?"造价咨询":"")+"\n        "+e._s(1==e.form.counselBusinessType?"招标代理":"")+"\n        "+e._s(2==e.form.counselBusinessType?"项目管理（监理）":"")+"\n        ")])]),e._v(" "),a("tr",[a("td",[e._v("委托人：*")]),e._v(" "),a("td",[e._v(e._s(e.form.trusterName))]),e._v(" "),a("td",[e._v("委托人性质：*")]),e._v(" "),e.form.trusterTypeList.length?a("td",[e._v("\n          "+e._s(-1!=e.form.trusterTypeList.indexOf("0")?"政府部门":"")+"\n          "+e._s(-1!=e.form.trusterTypeList.indexOf("1")?"国企":"")+"\n          "+e._s(-1!=e.form.trusterTypeList.indexOf("2")?"上市公司":"")+"\n          "+e._s(-1!=e.form.trusterTypeList.indexOf("3")?"私企":"")+"\n          "+e._s(-1!=e.form.trusterTypeList.indexOf("4")?"其他":"")+"\n        ")]):a("td")]),e._v(" "),a("tr",[a("td",[e._v("委托方负责人：*")]),e._v(" "),a("td",[e._v(e._s(e.form.trusterDutyUser))]),e._v(" "),a("td",[e._v("委托方负责人电话：*")]),e._v(" "),a("td",[e._v(e._s(e.form.trusterDutyPhone))])]),e._v(" "),a("tr",[a("td",[e._v("咨询人：*")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.form.consultUser))])]),e._v(" "),a("tr",[a("td",[e._v("第三方（合作单位）：")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.form.thirdParty))])]),e._v(" "),a("tr",[a("td",[e._v("项目类别：*")]),e._v(" "),e.form.projectTypeList.length?a("td",{attrs:{colspan:"3"}},[e._v("\n        "+e._s(-1!=e.form.projectTypeList.indexOf(0)?"住宅":"")+"\n        "+e._s(-1!=e.form.projectTypeList.indexOf(1)?"商业建筑":"")+"\n        "+e._s(-1!=e.form.projectTypeList.indexOf(2)?"酒店及休闲娱乐":"")+"\n        "+e._s(-1!=e.form.projectTypeList.indexOf(3)?"工业建筑":"")+"\n        "+e._s(-1!=e.form.projectTypeList.indexOf(4)?"教育":"")+"\n        "+e._s(-1!=e.form.projectTypeList.indexOf(5)?"文化及体育设施":"")+"\n        "+e._s(-1!=e.form.projectTypeList.indexOf(6)?"电力":"")+"\n        "+e._s(-1!=e.form.projectTypeList.indexOf(7)?"铁路、道路及桥梁建设":"")+"\n        "+e._s(-1!=e.form.projectTypeList.indexOf(8)?"水务":"")+"\n        "+e._s(-1!=e.form.projectTypeList.indexOf(9)?"公用事业及城市基础设施":"")+"\n        "+e._s(-1!=e.form.projectTypeList.indexOf(10)?"水运、交通":"")+"\n        "+e._s(-1!=e.form.projectTypeList.indexOf(11)?"其他":"")+"\n        ")]):a("td",{attrs:{colspan:"3"}})]),e._v(" "),a("tr",[a("td",[e._v("项目性质：*")]),e._v(" "),e.form.projectNatureList.length?a("td",[e._v("\n          "+e._s(e.form.projectNatureList.indexOf("0")?"新建":"")+"\n          "+e._s(e.form.projectNatureList.indexOf("1")?"扩建":"")+"\n          "+e._s(e.form.projectNatureList.indexOf("2")?"改建":"")+"\n        ")]):a("td"),e._v(" "),a("td",[e._v("投资金额（万元）：*")]),e._v(" "),a("td",[e._v(e._s("1"===e.form.isProvisional?"暂定":"")+e._s(e.form.investedAmount?e.form.investedAmount+"万元":""))])]),e._v(" "),a("tr",[a("td",[e._v("项目特征/指标：*")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e.controlObj[0]?a("p",[e._v("\n            住宅："),a("br"),e._v("\n            占地面积："+e._s(e.form.residential.landArea)+"平方米"),a("br"),e._v("\n            建筑面积："+e._s(e.form.residential.floorArea)+"平方米"),a("br"),e._v("\n            檐高："+e._s(e.form.residential.eavesHeight)+"米"),a("br"),e._v("\n            建筑控制高度："+e._s(e.form.residential.buildingControlHeight)+"米"),a("br"),e._v("\n            容积率："+e._s(e.form.residential.volumeRatio)+"米"),a("br"),e._v("\n            住宅类别：\n                      "+e._s(0==e.form.residential.homeType&&""!==e.form.residential.homeType?"商品房":"")+"\n                      "+e._s(1==e.form.residential.homeType?"公租房":"")+"\n                      "+e._s(2==e.form.residential.homeType?"共有产权":"")+"\n          ")]):e._e(),e._v(" "),e.controlObj[1]?a("p",[e._v("\n            商业建筑："),a("br"),e._v("\n            占地面积："+e._s(e.form.commercialBuildings.landArea)+"平方米"),a("br"),e._v("\n            建筑面积："+e._s(e.form.commercialBuildings.floorArea)+"平方米"),a("br"),e._v("\n            檐高："+e._s(e.form.commercialBuildings.eavesHeight)+"米"),a("br"),e._v("\n            建筑控制高度："+e._s(e.form.commercialBuildings.buildingControlHeight)+"米"),a("br")]):e._e(),e._v(" "),e.controlObj[2]?a("p",[e._v("\n            酒店及休闲娱乐："),a("br"),e._v("\n            占地面积："+e._s(e.form.hotelAndLeisureEntertainment.landArea)+"平方米"),a("br"),e._v("\n            建筑面积："+e._s(e.form.hotelAndLeisureEntertainment.floorArea)+"平方米"),a("br"),e._v("\n            檐高："+e._s(e.form.hotelAndLeisureEntertainment.eavesHeight)+"米"),a("br"),e._v("\n            建筑控制高度："+e._s(e.form.hotelAndLeisureEntertainment.buildingControlHeight)+"米"),a("br"),e._v("\n            房间数量："+e._s(e.form.hotelAndLeisureEntertainment.roomNum)+"个"),a("br")]):e._e(),e._v(" "),e.controlObj[3]?a("p",[e._v("\n            工业建筑："),a("br"),e._v("\n            占地面积："+e._s(e.form.industrialArchitecture.landArea)+"平方米"),a("br"),e._v("\n            建筑面积："+e._s(e.form.industrialArchitecture.floorArea)+"平方米"),a("br"),e._v("\n            层数："+e._s(e.form.industrialArchitecture.level)+"层"),a("br"),e._v("\n            檐高："+e._s(e.form.industrialArchitecture.eavesHeight)+"米"),a("br"),e._v("\n            跨度："+e._s(e.form.industrialArchitecture.span)),a("br"),e._v("\n            生产状况："+e._s(e.form.industrialArchitecture.produceCondition)),a("br")]):e._e(),e._v(" "),e.controlObj[4]?a("p",[e._v("\n            教育："),a("br"),e._v("\n            占地面积："+e._s(e.form.education.landArea)+"平方米"),a("br"),e._v("\n            建筑面积："+e._s(e.form.education.floorArea)+"平方米"),a("br"),e._v("\n            绿化率："+e._s(e.form.education.makeGreenRatio)+"%"),a("br"),e._v("\n            绿色等级："+e._s(e.form.education.greenLevel)+"级"),a("br")]):e._e(),e._v(" "),e.controlObj[5]?a("p",[e._v("\n            文化及体育设施："),a("br"),e._v("\n            占地面积："+e._s(e.form.culturalAndSportsFacilities.landArea)+"平方米"),a("br"),e._v("\n            建筑面积："+e._s(e.form.culturalAndSportsFacilities.floorArea)+"平方米"),a("br"),e._v("\n            人容量："+e._s(e.form.culturalAndSportsFacilities.persionCapacity)),a("br")]):e._e(),e._v(" "),e.controlObj[6]?a("p",[e._v("\n            电力："),a("br"),e._v("\n            装机容量："+e._s(e.form.power.installationCapacity)),a("br"),e._v("\n            建筑面积："+e._s(e.form.power.floorArea)+"平方米"),a("br"),e._v("\n            占地面积："+e._s(e.form.power.landArea)+"平方米"),a("br"),e._v("\n            发电机变压器参数数量："+e._s(e.form.power.transformersNum)),a("br"),e._v("\n            线缆敷设长度："+e._s(e.form.power.cableLayingLength)+"平方米"),a("br"),e._v("\n            线缆敷设方式："+e._s(e.form.power.cableLayingMethod)),a("br"),e._v("\n            输电量："+e._s(e.form.power.transmissionCapacity)),a("br")]):e._e(),e._v(" "),e.controlObj[7]?a("p",[e._v("\n            铁路、道路及桥梁建设："),a("br"),e._v("\n            等级："+e._s(e.form.railwayRoadBridgeConstruction.grade)),a("br"),e._v("\n            全线（桥）长度："+e._s(e.form.railwayRoadBridgeConstruction.bridgeLength)),a("br"),e._v("\n            设计速度："+e._s(e.form.railwayRoadBridgeConstruction.designSpeed)),a("br"),e._v("\n            轨道类型："+e._s(e.form.railwayRoadBridgeConstruction.orbitalType)),a("br"),e._v("\n            桥梁类型："+e._s(e.form.railwayRoadBridgeConstruction.bridgeType)),a("br")]):e._e(),e._v(" "),e.controlObj[8]?a("p",[e._v("\n            水务："),a("br"),e._v("\n            正常运用水位："+e._s(e.form.water.normalOperatingWaterLevel)),a("br"),e._v("\n            总库容："+e._s(e.form.water.totalStorageCapacity)+"平方米"),a("br"),e._v("\n            最大坝高："+e._s(e.form.water.maximumDamHeight)),a("br"),e._v("\n            电站装机容量："+e._s(e.form.water.installedCapacityOfPowerStation)),a("br")]):e._e(),e._v(" "),e.controlObj[9]?a("p",[e._v("\n            公用事业及城市基础设施："),a("br"),e._v("\n            占地面积："+e._s(e.form.publicUtilitiesUrbanInfrastructure.landArea)+"平方米"),a("br"),e._v("\n            建筑面积："+e._s(e.form.publicUtilitiesUrbanInfrastructure.floorArea)+"平方米"),a("br"),e._v("\n            其他（长度/规模/范围等）："+e._s(e.form.publicUtilitiesUrbanInfrastructure.others)),a("br")]):e._e(),e._v(" "),e.controlObj[10]?a("p",[e._v("\n            水运、交通："),a("br"),e._v("\n            港口（码头）吞吐量："+e._s(e.form.waterTransportationAndTransportation.portThroughput)),a("br"),e._v("\n            航道（闸机）通过量："+e._s(e.form.waterTransportationAndTransportation.channelThroughput)),a("br"),e._v("\n            主要货物的流量流向："+e._s(e.form.waterTransportationAndTransportation.flowDirection)),a("br"),e._v("\n            分航线运量："+e._s(e.form.waterTransportationAndTransportation.branchLineVolume)),a("br"),e._v("\n            船舶流量："+e._s(e.form.waterTransportationAndTransportation.shipFlow)),a("br"),e._v("\n            集疏方式："+e._s(e.form.waterTransportationAndTransportation.gatheringAndDistributingWays)),a("br")]):e._e(),e._v(" "),e.controlObj[11]?a("p",[e._v("\n            其他："),a("br"),e._v("\n            其他："+e._s(e.form.others.others)),a("br")]):e._e()])]),e._v(" "),a("tr",[a("td",[e._v("项目地点：*")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.form.projectAddress))])]),e._v(" "),a("tr",[a("td",[e._v("合同性质：*")]),e._v(" "),e.form.contractNatureList.length?a("td",{attrs:{colspan:"3"}},[e._v("\n          "+e._s(e.form.contractNatureList.indexOf("0")>=0?"双方合同":"")+"\n          "+e._s(e.form.contractNatureList.indexOf("1")>=0?"三方合同":"")+"\n          "+e._s(e.form.contractNatureList.indexOf("2")>=0?"补充合同":"")+"\n          "+e._s(e.form.contractNatureList.indexOf("3")>=0?"单独核算":"")+"\n          "+e._s(e.form.contractNatureList.indexOf("4")>=0?"非单独核算":"")+"\n          ")]):a("td",{attrs:{colspan:"3"}})]),e._v(" "),a("tr",[a("td",[e._v("合同确定方式：*")]),e._v(" "),e.form.determinateMethodList.length?a("td",{attrs:{colspan:"3"}},[e._v("\n          "+e._s(e.form.determinateMethodList.indexOf("0")>=0?"招标":"")+"\n          "+e._s(e.form.determinateMethodList.indexOf("1")>=0?"财政委托":"")+"\n          "+e._s(e.form.determinateMethodList.indexOf("2")>=0?"审计委托":"")+"\n          "+e._s(e.form.determinateMethodList.indexOf("3")>=0?"商务洽谈":"")+"\n          "+e._s(e.form.determinateMethodList.indexOf("4")>=0?"战略合作":"")+"\n          "+e._s(e.form.determinateMethodList.indexOf("5")>=0?"法院委托":"")+"\n          "+e._s(e.form.determinateMethodList.indexOf("6")>=0?"其他":"")+"\n          ")]):a("td",{attrs:{colspan:"3"}})]),e._v(" "),a("tr",[a("td",[e._v("拟定合同金额（元）：* ")]),e._v(" "),a("td",[e._v(e._s("1"===e.form.isValueProvisional?"暂定":"")+e._s(e.form.contractAmount?e.form.contractAmount+"元":""))]),e._v(" "),a("td",[e._v("预计回款情况：*")]),e._v(" "),a("td",[e.form.characteristic&&e.form.characteristic.length&&e.form.characteristic[0].startDate?e._l(e.form.characteristic,function(t,r){return a("p",{key:r},[e._v("\n            "+e._s(e.tool.formatDate(t.startDate,"yyyy年MM月dd日"))+","+e._s("第"+(r+1)+"次收款")+",预计收款金额"+e._s("1"===t.isProvisional?"暂定":"")+e._s(t.receivedAmount)+"元\n          ")])}):e._e()],2)]),e._v(" "),a("tr",[a("td",[e._v("拟定合同负责人：* ")]),e._v(" "),a("td",[e._v(e._s(e.form.dutyPeople))]),e._v(" "),a("td",[e._v("咨询合同签订日期：*")]),e._v(" "),a("td",[e._v(e._s(e.form.contractDate?e.tool.formatDate(e.form.contractDate,"yyyy年MM月dd日"):""))])]),e._v(" "),a("tr",[a("td",[e._v("其他情况说明：")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.form.otherThings))])]),e._v(" "),a("tr",[a("td",[e._v("拟定人：*")]),e._v(" "),a("td",[e._v(e._s(e.form.planner))]),e._v(" "),a("td",[e._v("合同模板：*")]),e._v(" "),a("td",[e._v("\n          "+e._s(e.form.planner&&0==e.form.contractType?"自定义合同":"")+"\n          "+e._s(e.form.planner&&1==e.form.contractType?"模板合同":"")+"\n        ")])])])])])},staticRenderFns:[]};var eo={components:{"base-contract":Ys,"basic-information":a("VU/8")(Xs,Zs,!1,function(e){a("SjNn")},"data-v-4f385286",null).exports},props:["transmittedData","theFormData"],data:function(){return{disabled:!1,currentTransmittedData:this.tool.deepCopy(this.transmittedData,this.tool.deepCopy),currentTheFormData:this.tool.deepCopy(this.theFormData,this.tool.deepCopy)}},watch:{transmittedData:{handler:function(){var e=this;e.currentTransmittedData=e.tool.deepCopy(e.transmittedData,e.tool.deepCopy),e.disabled="1"===e.currentTransmittedData.isInvalidFlag||"0"!==e.currentTransmittedData.hasContractApply},immediate:!0},theFormData:{handler:function(){this.currentTheFormData=this.tool.deepCopy(this.theFormData,this.tool.deepCopy)},immediate:!0}},mounted:function(){var e=this;e.$nextTick(function(){e.bus.$off("saveProjectBasicInformation"),e.bus.$on("saveProjectBasicInformation",function(){e.save()})}),e.excSearchBaseContractDetailInfo()},methods:{excSearchBaseContractDetailInfo:function(){var e=this;e.apiAddress("/contract/query/excSearchBaseContractDetailInfo",{projectId:e.currentTransmittedData.projectId}).then(function(t){"success"==t.data.status?e.$nextTick(function(){e.$refs.baseContract&&e.$refs.baseContract.setData(t.data.dataVO),e.$refs.basicInformation&&e.$refs.basicInformation.setData(t.data.dataVO)}):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})},save:function(){var e=this;e.$nextTick(function(){e.$refs.baseContract.getData().then(function(t){console.log("data",t),t.append("projectId",e.currentTransmittedData.projectId),e.apiAddress("/contract/modify/updateBaseContractInfo",t).then(function(t){"success"==t.data.status?e.bus.$emit("asideRefresh",{checkedKey:t.data.baseId}):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})})})}}},to={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"project-basic-information--found-item"},["1"!==this.currentTransmittedData.isMainHeadFlag?t("basic-information",{ref:"basicInformation",attrs:{nodeInfo:this.currentTransmittedData,_form:this.currentTheFormData.baseContract}}):t("base-contract",{ref:"baseContract",attrs:{_form:this.currentTheFormData.baseContract,disabled:this.disabled}})],1)},staticRenderFns:[]};var ao=a("VU/8")(eo,to,!1,function(e){a("5BaV"),a("fstc")},"data-v-0a68e766",null).exports,ro={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"m-work-contract-foundItem"},["0"===this.transmittedData.hasContractApply&&"1"===this.transmittedData.isMainHeadFlag&&"1"!==this.transmittedData.isInvalidFlag?t("div",{staticClass:"btn-group"},[t("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:this.save}},[this._v("保存")])],1):this._e()])},staticRenderFns:[]};var so=a("VU/8")({components:{},data:function(){return{}},mounted:function(){},props:["transmittedData"],methods:{save:function(){var e=this;e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.bus.$emit("saveProjectBasicInformation")}).catch(function(){})}}},ro,!1,function(e){a("UZhY"),a("5ISc")},"data-v-ae6e4002",null).exports,oo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Aform"},[a("div",{staticClass:"form-block"},[a("el-row",{staticClass:"add",attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("span",[e._v("服务范围及工作内容、酬金")]),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addAform}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("p",[e._v("注：未选择的服务内容将在文档中以“/”体现")])])],1),e._v(" "),a("el-form",{ref:"Aform",staticClass:"form",attrs:{model:e.Aform,disabled:e.disabled}},e._l(e.Aform.data,function(t,r){return a("div",{key:r,staticClass:"addform"},[a("el-button",{staticClass:"colse-icon",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(t){return e.colseForm(r)}}}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"服务阶段",prop:"data."+r+".serve",rules:[{required:!0,message:"请选择服务阶段",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择服务阶段"},on:{change:function(a){return e.select(t,r)}},model:{value:t.serve,callback:function(a){e.$set(t,"serve",a)},expression:"item.serve"}},e._l(e.servelist,function(t){return a("el-option-group",{key:t.id,attrs:{label:t.name}},e._l(t.list,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:t.id+","+t.name+","+e.name}})}),1)}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.checkbox,expression:"item.checkbox"}],attrs:{label:"工作内容",prop:"data."+r+".content",rules:[{required:!0,message:"请选择工作内容",trigger:"blur"}]}},[a("el-checkbox-group",{model:{value:t.content,callback:function(a){e.$set(t,"content",a)},expression:"item.content"}},e._l(e.contentlist,function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name))])}),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.checkbox1,expression:"item.checkbox1"}],attrs:{label:"工作内容",prop:"data."+r+".content",rules:[{required:!0,message:"请选择工作内容",trigger:"blur"}]}},[a("el-checkbox-group",{model:{value:t.content,callback:function(a){e.$set(t,"content",a)},expression:"item.content"}},e._l(e.contentlist1,function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name))])}),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.input,expression:"item.input"}],attrs:{label:"工作内容",prop:"data."+r+".details",rules:[{required:!0,message:"请输入工作内容",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text"},model:{value:t.details,callback:function(a){e.$set(t,"details",a)},expression:"item.details"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"tentative",attrs:{label:"收费基数",prop:"data."+r+".charge.money",rules:[{required:!0,message:"收费基数",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.charge.money,callback:function(a){e.$set(t.charge,"money",a)},expression:"item.charge.money"}},[a("template",{slot:"append"},[e._v("\n                  万元\n                ")])],2),e._v(" "),a("el-checkbox-group",{model:{value:t.charge.state,callback:function(a){e.$set(t.charge,"state",a)},expression:"item.charge.state"}},[a("el-checkbox",{attrs:{label:"1",name:"type","true-label":"1","false-label":"0",value:"0"}},[e._v("暂定")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"tentative",attrs:{label:"收费标准",prop:"data."+r+".standard.money",rules:[{required:!0,message:"收费标准",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.standard.money,callback:function(a){e.$set(t.standard,"money",a)},expression:"item.standard.money"}},[a("template",{slot:"append"},[e._v("\n                  %\n                ")])],2),e._v(" "),a("el-checkbox-group",{model:{value:t.standard.state,callback:function(a){e.$set(t.standard,"state",a)},expression:"item.standard.state"}},[a("el-checkbox",{attrs:{label:"1",name:"type","true-label":"1","false-label":"0",value:"0"}},[e._v("暂定")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"tentative",attrs:{label:"酬金金额",prop:"data."+r+".sum.money",rules:[{required:!0,message:"酬金金额",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.sum.money,callback:function(a){e.$set(t.sum,"money",a)},expression:"item.sum.money"}},[a("template",{slot:"append"},[e._v("\n                  万元\n                ")])],2),e._v(" "),a("el-checkbox-group",{model:{value:t.sum.state,callback:function(a){e.$set(t.sum,"state",a)},expression:"item.sum.state"}},[a("el-checkbox",{attrs:{label:"1",name:"type","true-label":"1","false-label":"0",value:"0"}},[e._v("暂定")])],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"data."+r+".remark",rules:[{required:!0,message:"备注",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.remark,callback:function(a){e.$set(t,"remark",a)},expression:"item.remark"}})],1)],1)],1)],1)}),0)],1)])},staticRenderFns:[]};var no={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Bform"},[a("div",{staticClass:"form-block"},[a("el-row",{staticClass:"add",attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("span",[e._v("咨询人提交成果")]),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addBform}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("p",[e._v("注：未选择的服务内容将在文档中以“/”体现")])])],1),e._v(" "),a("el-form",{ref:"Bform",staticClass:"form",attrs:{model:e.Bform,disabled:e.disabled}},e._l(e.Bform.data,function(t,r){return a("div",{key:r,staticClass:"addform"},[a("el-button",{staticClass:"colse-icon",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(t){return e.colseForm(r)}}}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"服务范围",prop:"data."+r+".serve",rules:[{required:!0,message:"请选择服务范围",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择服务范围"},model:{value:t.serve,callback:function(a){e.$set(t,"serve",a)},expression:"item.serve"}},e._l(e.servelist,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id+","+e.name}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件名称",prop:"data."+r+".name",rules:[{required:!0,message:"请输入成果文件名称",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入成果文件名称"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"成果文件组成",prop:"data."+r+".constitute",rules:[{required:!0,message:"请输入成果文件组成",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入成果文件组成"},model:{value:t.constitute,callback:function(a){e.$set(t,"constitute",a)},expression:"item.constitute"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提交时间",prop:"data."+r+".date",rules:[{required:!0,message:"请选择提交时间",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入提交时间"},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"item.date"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"份数",prop:"data."+r+".copies",rules:[{required:!0,message:"请输入份数",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入份数"},model:{value:t.copies,callback:function(a){e.$set(t,"copies",a)},expression:"item.copies"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"质量标准",prop:"data."+r+".standard",rules:[{required:!0,message:"请输入质量标准",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入质量标准"},model:{value:t.standard,callback:function(a){e.$set(t,"standard",a)},expression:"item.standard"}})],1)],1)],1)],1)}),0)],1)])},staticRenderFns:[]};var io={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Cform"},[a("div",{staticClass:"form-block"},[a("el-row",{staticClass:"add",attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("span",[e._v("委托人提供资料")]),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addCform}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("p",[e._v("注：未选择的服务内容将在文档中以“/”体现")])])],1),e._v(" "),a("el-form",{ref:"Cform",staticClass:"form",attrs:{model:e.Cform,disabled:e.disabled}},e._l(e.Cform.data,function(t,r){return a("div",{key:r,staticClass:"addform"},[a("el-button",{staticClass:"colse-icon",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(t){return e.colseForm(r)}}}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"委托人名称",prop:"data."+r+".name",rules:[{required:!0,message:"请输入委托人名称",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"资料份数",prop:"data."+r+".copies",rules:[{required:!0,message:"请输入资料份数",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text"},model:{value:t.copies,callback:function(a){e.$set(t,"copies",a)},expression:"item.copies"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"提供时间",prop:"data."+r+".time",rules:[{required:!0,message:"请提供提供时间",trigger:"blur"}]}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.time,callback:function(a){e.$set(t,"time",a)},expression:"item.time"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"data."+r+".remark",rules:[{required:!0,message:"请输入备注",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.remark,callback:function(a){e.$set(t,"remark",a)},expression:"item.remark"}})],1)],1)],1)],1)}),0)],1)])},staticRenderFns:[]};var lo={props:["theFormData","disabled"],data:function(){return Ot()({gutter:40,paylist:[{name:"一次性支付",id:0},{name:"分期支付",id:1}],form:this.theFormData.form,rules:{}},"form",{pay:0})},watch:{"theFormData.form":function(){this.form=this.theFormData.form}},methods:{},components:{Aform:a("VU/8")({props:["theFormData","disabled"],data:function(){return{gutter:40,servelist:[{name:"决策阶段",list:[{name:"投资估算",id:1},{name:"经济评价",id:2},{name:"其他",id:0}],id:0},{name:"设计阶段",list:[{name:"设计概算",id:1},{name:"施工图预算",id:2},{name:"其他",id:0}],id:1},{name:"发承包阶段",list:[{name:"工程量清单",id:1},{name:"最高投标限价",id:2},{name:"投标报价分析",id:3},{name:"清标报告",id:4},{name:"其他",id:0}],id:2},{name:"实施阶段",list:[{name:"资金使用计划",id:1},{name:"工程计量与工程款审核",id:2},{name:"合同价款调整",id:3},{name:"工程变更、索赔、签证",id:4},{name:"工程实施阶段造价控制",id:5},{name:"其他",id:0}],id:3},{name:"竣工阶段",list:[{name:"竣工结算",id:1},{name:"竣工决算",id:2},{name:"其他",id:0}],id:4},{name:"其他服务",list:[{name:"工程造价鉴定",id:0}],id:5}],contentlist:[{name:"编制",id:1},{name:"审核",id:2},{name:"调整",id:3}],contentlist1:[{name:"编制",id:1}],Aform:this.theFormData||{data:[]}}},watch:{theFormData:function(){this.Aform=this.theFormData}},methods:{resetForm:function(){this.$refs.Aform.resetFields()},addAform:function(){this.Aform.data.push({serve:"",hide:"",content:[],details:"",charge:{money:"",state:""},standard:{money:"",state:""},sum:{money:"",state:""},remark:"",checkbox:!0,checkbox1:!1,input:!1})},colseForm:function(e){this.Aform.data.splice(e,1)},select:function(e,t){/其他|工程实施阶段造价/g.test(e.serve)?(this.Aform.data[t].input=!0,this.Aform.data[t].checkbox=!1,this.Aform.data[t].checkbox1=!1):/资金使用计划/g.test(e.serve)?(this.Aform.data[t].input=!1,this.Aform.data[t].checkbox=!1,this.Aform.data[t].checkbox1=!0):(this.Aform.data[t].input=!1,this.Aform.data[t].checkbox=!0,this.Aform.data[t].checkbox1=!1)}}},oo,!1,function(e){a("pm1s"),a("Diyn")},"data-v-c86b751e",null).exports,Bform:a("VU/8")({props:["theFormData","disabled"],data:function(){return{gutter:40,servelist:[{name:"决策阶段",id:0},{name:"设计阶段",id:1},{name:"发承包阶段",id:2},{name:"实施阶段",id:3},{name:"竣工阶段",id:4},{name:"其他服务",id:5}],Bform:this.theFormData||{data:[]}}},watch:{theFormData:function(){this.Bform=this.theFormData}},methods:{resetForm:function(){this.$refs.Bform.resetFields()},addBform:function(){this.Bform.data.push({serve:""})},colseForm:function(e){this.Bform.data.splice(e,1)}}},no,!1,function(e){a("dwi/"),a("sdAx")},"data-v-230521f1",null).exports,Cform:a("VU/8")({props:["theFormData","disabled"],data:function(){return{gutter:40,Cform:this.theFormData||{data:[]}}},watch:{theFormData:function(){this.Cform=this.theFormData}},methods:{resetForm:function(){this.$refs.Cform.resetFields()},addCform:function(){this.Cform.data.push({name:"",copies:"",time:"",remark:""})},colseForm:function(e){this.Cform.data.splice(e,1)}}},io,!1,function(e){a("5ZCc"),a("AkK1")},"data-v-a00ca7fe",null).exports}},co={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"formCostConsulting--work-contract-customContract form",attrs:{model:e.form,rules:e.rules,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"省份"}},[a("el-input",{attrs:{placeholder:"请输入省份"},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地区"}},[a("el-input",{attrs:{placeholder:"请输入地区"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程规模"}},[a("el-input",{attrs:{placeholder:"请输入工程规模 "},model:{value:e.form.generalize,callback:function(t){e.$set(e.form,"generalize",t)},expression:"form.generalize"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"资金来源"}},[a("el-input",{attrs:{placeholder:"请输入资金来源 "},model:{value:e.form.fund,callback:function(t){e.$set(e.form,"fund",t)},expression:"form.fund"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"建设工期或周期"}},[a("el-input",{attrs:{placeholder:"请输入建设工期或周期"},model:{value:e.form.period,callback:function(t){e.$set(e.form,"period",t)},expression:"form.period"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"双方约定的服务范围及工作内容"}},[a("el-input",{attrs:{placeholder:"请输入双方约定的服务范围及工作内容"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"服务期限"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.deadline,callback:function(t){e.$set(e.form,"deadline",t)},expression:"form.deadline"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"总合同份数"}},[a("el-input",{attrs:{placeholder:"请输入总合同份数"},model:{value:e.form.copies,callback:function(t){e.$set(e.form,"copies",t)},expression:"form.copies"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托人合同份数"}},[a("el-input",{attrs:{placeholder:"请输入委托人合同份数"},model:{value:e.form.entrust,callback:function(t){e.$set(e.form,"entrust",t)},expression:"form.entrust"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"咨询人合同份数"}},[a("el-input",{attrs:{placeholder:"请输入咨询人合同份数"},model:{value:e.form.consult,callback:function(t){e.$set(e.form,"consult",t)},expression:"form.consult"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托人代表"}},[a("el-input",{attrs:{placeholder:"请输入选择委托人代表"},model:{value:e.form.representative,callback:function(t){e.$set(e.form,"representative",t)},expression:"form.representative"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"团队人员"}},[a("el-input",{attrs:{placeholder:"请输入团队人员"},model:{value:e.form.personnel,callback:function(t){e.$set(e.form,"personnel",t)},expression:"form.personnel"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"支付方式"}},[a("el-radio-group",{model:{value:e.form.pay,callback:function(t){e.$set(e.form,"pay",t)},expression:"form.pay"}},e._l(e.paylist,function(t,r){return a("el-radio",{key:r,attrs:{label:t.id,name:"radio",value:t.id}},[e._v(e._s(t.name))])}),1)],1)],1)],1),e._v(" "),0==e.form.pay?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"咨询成果报告出具几日内支付"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.input,callback:function(t){e.$set(e.form,"input",t)},expression:"form.input"}},[a("template",{slot:"append"},[e._v("\n              天\n            ")])],2)],1)],1)],1):e._e(),e._v(" "),1==e.form.pay?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分期信息"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入分期信息"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1)],1):e._e(),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"争议解决"}},[a("el-input",{attrs:{placeholder:"请输入争议解决"},model:{value:e.form.dispute,callback:function(t){e.$set(e.form,"dispute",t)},expression:"form.dispute"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送达接收人"}},[a("el-input",{attrs:{placeholder:"请输入送达接收人"},model:{value:e.form.recipient,callback:function(t){e.$set(e.form,"recipient",t)},expression:"form.recipient"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送达地点"}},[a("el-input",{attrs:{placeholder:"请输入送达地点"},model:{value:e.form.site,callback:function(t){e.$set(e.form,"site",t)},expression:"form.site"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"酬金及计取方式为"}},[a("el-input",{attrs:{placeholder:"请输入酬金及计取方式"},model:{value:e.form.reward,callback:function(t){e.$set(e.form,"reward",t)},expression:"form.reward"}})],1)],1)],1)],1),e._v(" "),a("Aform",{ref:"serviceAndWorkContent",attrs:{theFormData:e.form.serviceAndWorkContent,disabled:e.disabled}}),e._v(" "),a("Bform",{ref:"achievementFile",attrs:{theFormData:e.form.achievementFile,disabled:e.disabled}}),e._v(" "),a("Cform",{ref:"provideData",attrs:{theFormData:e.form.provideData,disabled:e.disabled}})],1)},staticRenderFns:[]};var uo=a("VU/8")(lo,co,!1,function(e){a("NUTy")},null,null).exports,po={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"formConstructionProjectBiddingAgency--work-contract-customContract form",attrs:{model:e.form,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"省份"}},[a("el-input",{attrs:{placeholder:"请输入省份"},model:{value:e.form.provinceName,callback:function(t){e.$set(e.form,"provinceName",t)},expression:"form.provinceName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地区"}},[a("el-input",{attrs:{placeholder:"请输入地区"},model:{value:e.form.districtName,callback:function(t){e.$set(e.form,"districtName",t)},expression:"form.districtName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"规模"}},[a("el-input",{attrs:{placeholder:"请输入规模"},model:{value:e.form.scale,callback:function(t){e.$set(e.form,"scale",t)},expression:"form.scale"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"招标规模"}},[a("el-input",{attrs:{placeholder:"请输入招标规模"},model:{value:e.form.biddingScale,callback:function(t){e.$set(e.form,"biddingScale",t)},expression:"form.biddingScale"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理工作内容"}},[a("el-input",{attrs:{placeholder:"请输入代理工作内容"},model:{value:e.form.agentWorkContent,callback:function(t){e.$set(e.form,"agentWorkContent",t)},expression:"form.agentWorkContent"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同订立地点"}},[a("el-input",{attrs:{placeholder:"请输入合同订立地点"},model:{value:e.form.signAddress,callback:function(t){e.$set(e.form,"signAddress",t)},expression:"form.signAddress"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理范围"}},[a("el-input",{attrs:{placeholder:"请输入代理范围"},model:{value:e.form.agentRange,callback:function(t){e.$set(e.form,"agentRange",t)},expression:"form.agentRange"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理内容"}},[a("el-radio-group",{model:{value:e.form.agentContent,callback:function(t){e.$set(e.form,"agentContent",t)},expression:"form.agentContent"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0",value:"2"}},[e._v("否")])],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"代理报酬的支付方式"}},[a("el-select",{attrs:{placeholder:"请选择代理报酬的支付方式"},model:{value:e.form.paymentMethod,callback:function(t){e.$set(e.form,"paymentMethod",t)},expression:"form.paymentMethod"}},[a("el-option",{attrs:{label:"委托人",value:"委托人"}}),e._v(" "),a("el-option",{attrs:{label:"中标人",value:"中标人"}})],1)],1)],1)],1)],1)])},staticRenderFns:[]};var mo=a("VU/8")({props:["theFormData","disabled"],data:function(){return{gutter:40,form:this.theFormData.form}},watch:{"theFormData.form":function(){this.form=this.theFormData.form}},methods:{}},po,!1,function(e){a("zx00"),a("H6oS")},"data-v-4f7bfcb7",null).exports,fo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"formProjectManagementConsultingService--work-contract-customContract form",attrs:{model:e.form,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"省份"}},[a("el-input",{attrs:{placeholder:"请输入省份"},model:{value:e.form.provinceName,callback:function(t){e.$set(e.form,"provinceName",t)},expression:"form.provinceName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地区"}},[a("el-input",{attrs:{placeholder:"请输入地区"},model:{value:e.form.districtName,callback:function(t){e.$set(e.form,"districtName",t)},expression:"form.districtName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"服务内容"}},[a("el-input",{attrs:{placeholder:"请输入服务内容"},model:{value:e.form.serviceContent,callback:function(t){e.$set(e.form,"serviceContent",t)},expression:"form.serviceContent"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"咨询工程师地址"}},[a("el-input",{attrs:{placeholder:"请输入咨询工程师地址"},model:{value:e.form.consultAddress,callback:function(t){e.$set(e.form,"consultAddress",t)},expression:"form.consultAddress"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电话号码"}},[a("el-input",{attrs:{placeholder:"请输入电话号码"},model:{value:e.form.telNumber,callback:function(t){e.$set(e.form,"telNumber",t)},expression:"form.telNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"传真号码"}},[a("el-input",{attrs:{placeholder:"请输入传真号码"},model:{value:e.form.faxNumber,callback:function(t){e.$set(e.form,"faxNumber",t)},expression:"form.faxNumber"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目建筑面积"}},[a("el-input",{attrs:{placeholder:"请输入项目建筑面积"},model:{value:e.form.floorage,callback:function(t){e.$set(e.form,"floorage",t)},expression:"form.floorage"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目使用性质"}},[a("el-input",{attrs:{placeholder:"请输入项目使用性质"},model:{value:e.form.useNature,callback:function(t){e.$set(e.form,"useNature",t)},expression:"form.useNature"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设计阶段服务报酬"}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n              设计阶段服务报酬\n              "),a("el-checkbox",{staticClass:"tentative",attrs:{label:"1","true-label":"1","false-label":"0"},model:{value:e.form.isDesignPayProvisional,callback:function(t){e.$set(e.form,"isDesignPayProvisional",t)},expression:"form.isDesignPayProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入设计阶段服务报酬"},model:{value:e.form.designPay,callback:function(t){e.$set(e.form,"designPay",t)},expression:"form.designPay"}},[a("template",{slot:"append"},[e._v("\n              元\n            ")])],2)],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"施工阶段服务报酬"}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n              施工阶段服务报酬\n              "),a("el-checkbox",{staticClass:"tentative",attrs:{label:"1","true-label":"1","false-label":"0"},model:{value:e.form.isConstructionPayProvisional,callback:function(t){e.$set(e.form,"isConstructionPayProvisional",t)},expression:"form.isConstructionPayProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入施工阶段服务报酬"},model:{value:e.form.constructionPay,callback:function(t){e.$set(e.form,"constructionPay",t)},expression:"form.constructionPay"}},[a("template",{slot:"append"},[e._v("\n              元\n            ")])],2)],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结算阶段服务报酬"}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n              结算阶段服务报酬\n              "),a("el-checkbox",{staticClass:"tentative",attrs:{label:"1","true-label":"1","false-label":"0"},model:{value:e.form.isSettlementPayProvisional,callback:function(t){e.$set(e.form,"isSettlementPayProvisional",t)},expression:"form.isSettlementPayProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入结算阶段服务报酬"},model:{value:e.form.settlementPay,callback:function(t){e.$set(e.form,"settlementPay",t)},expression:"form.settlementPay"}},[a("template",{slot:"append"},[e._v("\n              元\n            ")])],2)],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预付款"}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n              预付款\n              "),a("el-checkbox",{staticClass:"tentative",attrs:{label:"1","true-label":"1","false-label":"0"},model:{value:e.form.isAdvancePaymentProvisional,callback:function(t){e.$set(e.form,"isAdvancePaymentProvisional",t)},expression:"form.isAdvancePaymentProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入预付款"},model:{value:e.form.advancePayment,callback:function(t){e.$set(e.form,"advancePayment",t)},expression:"form.advancePayment"}},[a("template",{slot:"append"},[e._v("\n              元\n            ")])],2)],2)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"进度款"}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n              进度款\n              "),a("el-checkbox",{staticClass:"tentative",attrs:{label:"1","true-label":"1","false-label":"0"},model:{value:e.form.isProgressPaymentProvisional,callback:function(t){e.$set(e.form,"isProgressPaymentProvisional",t)},expression:"form.isProgressPaymentProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入进度款"},model:{value:e.form.progressPayment,callback:function(t){e.$set(e.form,"progressPayment",t)},expression:"form.progressPayment"}},[a("template",{slot:"append"},[e._v("\n              元\n            ")])],2)],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"余款"}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n              余款\n              "),a("el-checkbox",{staticClass:"tentative",attrs:{label:"1","true-label":"1","false-label":"0"},model:{value:e.form.isBalanceProvisional,callback:function(t){e.$set(e.form,"isBalanceProvisional",t)},expression:"form.isBalanceProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入余款"},model:{value:e.form.balance,callback:function(t){e.$set(e.form,"balance",t)},expression:"form.balance"}},[a("template",{slot:"append"},[e._v("\n              元\n            ")])],2)],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"附加条款"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入附加条款"},model:{value:e.form.addClauses,callback:function(t){e.$set(e.form,"addClauses",t)},expression:"form.addClauses"}})],1)],1)],1)],1)])},staticRenderFns:[]};var go=a("VU/8")({props:["theFormData","disabled"],data:function(){return{gutter:40,form:this.theFormData.form}},watch:{"theFormData.form":function(){this.form=this.theFormData.form}},methods:{}},fo,!1,function(e){a("kpPn"),a("rof8")},"data-v-44733260",null).exports,ho={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"formSupervision--work-contract-customContract form",attrs:{model:e.form,disabled:e.disabled}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"监理人"}},[a("el-input",{attrs:{placeholder:"请输入监理人"},model:{value:e.form.supervisor,callback:function(t){e.$set(e.form,"supervisor",t)},expression:"form.supervisor"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程规模"}},[a("el-input",{attrs:{placeholder:"请输入工程规模"},model:{value:e.form.projectScale,callback:function(t){e.$set(e.form,"projectScale",t)},expression:"form.projectScale"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程概算投资额或建筑安装工程费"}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n              工程概算投资额或建筑安装工程费\n              "),a("el-checkbox",{staticStyle:{position:"absolute",right:"-12px"},attrs:{label:"1","true-label":"1","false-label":"0"},model:{value:e.form.isInstalCostProvisional,callback:function(t){e.$set(e.form,"isInstalCostProvisional",t)},expression:"form.isInstalCostProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入工程概算投资额或建筑安装工程费"},model:{value:e.form.instalCost,callback:function(t){e.$set(e.form,"instalCost",t)},expression:"form.instalCost"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("总监理工程师\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"总监理工程师姓名"}},[a("el-input",{attrs:{placeholder:"请输入总监理工程师姓名"},model:{value:e.form.engineerName,callback:function(t){e.$set(e.form,"engineerName",t)},expression:"form.engineerName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号码"}},[a("el-input",{attrs:{placeholder:"请输入身份证号码"},model:{value:e.form.IDNumber,callback:function(t){e.$set(e.form,"IDNumber",t)},expression:"form.IDNumber"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"注册号"}},[a("el-input",{attrs:{placeholder:"请输入注册号"},model:{value:e.form.registrationNumber,callback:function(t){e.$set(e.form,"registrationNumber",t)},expression:"form.registrationNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"签约酬金与补偿费用"}},[a("template",{slot:"label"},[a("div",{staticStyle:{position:"relative"}},[e._v("\n              签约酬金与补偿费用\n              "),a("el-checkbox",{staticStyle:{position:"absolute",right:"-12px"},attrs:{label:"1","true-label":"1","false-label":"0"},model:{value:e.form.isSignAmountProvisional,callback:function(t){e.$set(e.form,"isSignAmountProvisional",t)},expression:"form.isSignAmountProvisional"}},[e._v("暂定")])],1)]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入签约酬金与补偿费用"},model:{value:e.form.signAmount,callback:function(t){e.$set(e.form,"signAmount",t)},expression:"form.signAmount"}})],2)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"监理期限"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.superviseDate,callback:function(t){e.$set(e.form,"superviseDate",t)},expression:"form.superviseDate"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("合同订立\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订立时间"}},[a("el-date-picker",{attrs:{placeholder:"请输入订立时间"},model:{value:e.form.signDate,callback:function(t){e.$set(e.form,"signDate",t)},expression:"form.signDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订立地点"}},[a("el-input",{attrs:{placeholder:"请输入订立地点"},model:{value:e.form.signAddress,callback:function(t){e.$set(e.form,"signAddress",t)},expression:"form.signAddress"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("委托人合同相关信息\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"营业执照号"}},[a("el-input",{attrs:{placeholder:"请输入营业执照号"},model:{value:e.form.truBusinessLicenseNumber,callback:function(t){e.$set(e.form,"truBusinessLicenseNumber",t)},expression:"form.truBusinessLicenseNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"住所"}},[a("el-input",{attrs:{placeholder:"请输入住所"},model:{value:e.form.truAddress,callback:function(t){e.$set(e.form,"truAddress",t)},expression:"form.truAddress"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮政编码"}},[a("el-input",{attrs:{placeholder:"请输入邮政编码"},model:{value:e.form.truPostalCode,callback:function(t){e.$set(e.form,"truPostalCode",t)},expression:"form.truPostalCode"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("法定代表人或其委托\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开户银行"}},[a("el-input",{attrs:{placeholder:"请输入开户银行"},model:{value:e.form.truOpenBank,callback:function(t){e.$set(e.form,"truOpenBank",t)},expression:"form.truOpenBank"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.form.truAcountNumber,callback:function(t){e.$set(e.form,"truAcountNumber",t)},expression:"form.truAcountNumber"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.form.truTelNumber,callback:function(t){e.$set(e.form,"truTelNumber",t)},expression:"form.truTelNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"传真"}},[a("el-input",{attrs:{placeholder:"请输入传真"},model:{value:e.form.truFaxNumber,callback:function(t){e.$set(e.form,"truFaxNumber",t)},expression:"form.truFaxNumber"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电子邮箱"}},[a("el-input",{attrs:{placeholder:"请输入电子邮箱"},model:{value:e.form.truEMail,callback:function(t){e.$set(e.form,"truEMail",t)},expression:"form.truEMail"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("监理人合同相关信息\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"营业执照号"}},[a("el-input",{attrs:{placeholder:"请输入营业执照号"},model:{value:e.form.supBusinessLicenseNumber,callback:function(t){e.$set(e.form,"supBusinessLicenseNumber",t)},expression:"form.supBusinessLicenseNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"资质证书编号"}},[a("el-input",{attrs:{placeholder:"请输入资质证书编号"},model:{value:e.form.supCertificateNumber,callback:function(t){e.$set(e.form,"supCertificateNumber",t)},expression:"form.supCertificateNumber"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"住所"}},[a("el-input",{attrs:{placeholder:"请输入住所"},model:{value:e.form.supAddress,callback:function(t){e.$set(e.form,"supAddress",t)},expression:"form.supAddress"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮政编码"}},[a("el-input",{attrs:{placeholder:"请输入邮政编码"},model:{value:e.form.supPostalCode,callback:function(t){e.$set(e.form,"supPostalCode",t)},expression:"form.supPostalCode"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[e._v("法定代表人或其委托\n      ")])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开户银行"}},[a("el-input",{attrs:{placeholder:"请输入开户银行"},model:{value:e.form.supOpenBank,callback:function(t){e.$set(e.form,"supOpenBank",t)},expression:"form.supOpenBank"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.form.supAcountNumber,callback:function(t){e.$set(e.form,"supAcountNumber",t)},expression:"form.supAcountNumber"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.form.supTelNumber,callback:function(t){e.$set(e.form,"supTelNumber",t)},expression:"form.supTelNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"传真"}},[a("el-input",{attrs:{placeholder:"请输入传真"},model:{value:e.form.supFaxNumber,callback:function(t){e.$set(e.form,"supFaxNumber",t)},expression:"form.supFaxNumber"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电子邮箱"}},[a("el-input",{attrs:{placeholder:"请输入电子邮箱"},model:{value:e.form.supEMail,callback:function(t){e.$set(e.form,"supEMail",t)},expression:"form.supEMail"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"专用条款"}},[a("el-input",{attrs:{placeholder:"请输入专用条款"},model:{value:e.form.specialClauses,callback:function(t){e.$set(e.form,"specialClauses",t)},expression:"form.specialClauses"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托人代表为"}},[a("el-input",{attrs:{placeholder:"请输入委托人代表为"},model:{value:e.form.trusterAgent,callback:function(t){e.$set(e.form,"trusterAgent",t)},expression:"form.trusterAgent"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"监理酬金具体支付方式"}},[a("el-input",{attrs:{placeholder:"请输入监理酬金具体支付方式"},model:{value:e.form.paymentMethod,callback:function(t){e.$set(e.form,"paymentMethod",t)},expression:"form.paymentMethod"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"争议解决"}},[a("el-input",{attrs:{placeholder:"请输入争议解决"},model:{value:e.form.disputeResolution,callback:function(t){e.$set(e.form,"disputeResolution",t)},expression:"form.disputeResolution"}})],1)],1)],1)],1)])},staticRenderFns:[]};var vo=a("VU/8")({props:["theFormData","disabled"],data:function(){return{gutter:40,form:this.theFormData.form}},watch:{"theFormData.form":function(){this.form=this.theFormData.form}},methods:{}},ho,!1,function(e){a("u8j3"),a("2U2q")},"data-v-51a8a998",null).exports,bo={props:["file"],data:function(){return{currentFile:this.file,showOffice:!0,show:!1}},watch:{file:{handler:function(e){this.currentFile=e,this.getOffice()},immediate:!0}},mounted:function(){this.getOffice()},methods:{fullScreen:function(){this.show=!0,this.getOffice1()},handleClose:function(){this.show=!1},getOffice1:function(){var e=this,t=e.currentFile.fileName;if(t){var a=t.split("."),r=a[a.length-1];a.pop();var s=a.toString(),o=e.currentFile.key,n=e.currentFile.downloadUrl;console.log("fileName",t),console.log("downloadUrl",n);var i=e.currentFile.saveUrl;e.showOffice=/(doc|docx)/i.test(r),e.showOffice&&this.$nextTick(function(){e.$refs["preview-div-container1"].innerHTML='<div id="preview-div1" class="preview-div"></div>',new DocsAPI.DocEditor("preview-div1",{document:{fileType:r,key:o,title:s,url:n},type:"desktop",documentType:e.getDocumentTypeByExpandedName(r),editorConfig:{callbackUrl:i,lang:"zh_CN",mode:"edit",customization:Ot()({autosave:!0,chat:!1,commentAuthorOnly:!1,comments:!0,compactHeader:!0,compactToolbar:!0,feedback:!1,forcesave:!1,goback:!1,help:!1,hideRightMenu:!1,showReviewChanges:!1,toolbarNoTabs:!1,zoom:100},"hideRightMenu",!0)}})})}},getOffice:function(){var e=this,t=e.currentFile.fileName;if(t){var a=t.split("."),r=a[a.length-1];a.pop();var s=a.toString(),o=e.currentFile.key,n=e.currentFile.downloadUrl;console.log("fileName",t),console.log("downloadUrl",n);var i=e.currentFile.saveUrl;e.showOffice=/(doc|docx)/i.test(r),e.showOffice&&this.$nextTick(function(){e.$refs["preview-div-container"].innerHTML='<div id="preview-div" class="preview-div" v-if="showOffice"></div>',new DocsAPI.DocEditor("preview-div",{document:{fileType:r,key:o,title:s,url:n},type:"desktop",documentType:e.getDocumentTypeByExpandedName(r),editorConfig:{callbackUrl:i,lang:"zh_CN",mode:"edit",customization:Ot()({autosave:!0,chat:!1,commentAuthorOnly:!1,comments:!0,compactHeader:!0,compactToolbar:!0,feedback:!1,forcesave:!1,goback:!1,help:!1,hideRightMenu:!1,showReviewChanges:!1,toolbarNoTabs:!1,zoom:100},"hideRightMenu",!0)}})})}},getDocumentTypeByExpandedName:function(e){var t;return["doc","docx"].indexOf(e)>0?t="text":["xls","xlsx"].indexOf(e)>0?t="spreadsheet":["ppt","pptx"].indexOf(e)>0&&(t="presentation"),t}}},yo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"preview-container"},[e.showOffice?a("span",{staticClass:"fullScreen",on:{click:e.fullScreen}},[a("i",{staticClass:"iconfont iconquanping"})]):e._e(),e._v(" "),e.showOffice?a("div",{ref:"preview-div-container",staticStyle:{height:"100%"}},[e.showOffice?a("div",{staticClass:"preview-div",attrs:{id:"preview-div"}}):e._e()]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showOffice,expression:"!showOffice"}],staticStyle:{"text-align":"center",height:"100%","font-weight":"800"}},[e._v("上传的自定义文件格式不支持，系统只支持扩展名为.doc、.docx的文件")]),e._v(" "),a("el-dialog",{attrs:{visible:e.show,width:"80%",fullscreen:!0,center:"",title:"批注展示","before-close":e.handleClose}},[a("div",{ref:"preview-div-container1",staticStyle:{height:"90vh"}},[a("div",{staticClass:"preview-div",attrs:{id:"preview-div1"}})])])],1)},staticRenderFns:[]};var _o=a("VU/8")(bo,yo,!1,function(e){a("opIC")},null,null).exports,wo={props:["transmittedData","theFormData","theFormDisabled"],components:{"base-contract":Ys,"form-cost-consulting":uo,"form-construction-project-bidding-agency":mo,"form-project-management-consulting-service":go,"form-supervision":vo,office:_o,"dialog-browse-file":Ht,previewFile:Jt},updated:function(){var e=this;e.$nextTick(function(){e.bus.$off("changeform"),e.bus.$on("changeform",function(t){var a=e.$refs.baseContract,r=null;a&&(r=a.$refs.form),r&&(e.$refs.form.validate(function(a){a&&e.checkForm(t)}),r.validate(function(a){a&&e.checkForm(t)}))}),e.bus.$off("contractPreview"),e.bus.$on("contractPreview",function(t){var a=e.$refs.baseContract,r=null;a&&(r=a.$refs.form),r&&e.submit(t,"preview")})})},methods:{checkForm:function(e){this.checkIndex++,this.checkIndex>=2&&this.submit(e,"")},beforeAvatarUpload:function(e,t){return this.filedata=e,!1},handleAvatarSuccess:function(e,t){this.form.signPathFile=URL.createObjectURL(e.raw),this.form.materialName=e.name},dateDiff:function(e){return parseInt(Math.abs(e[1].getTime()-e[0].getTime())/1e3/60/60/24)},submit:function(e,t){var a=this,r=this.$refs.baseContract.form;if("preview"==t){if("1"!=this.form.contractType)return void this.stateDialog("error","自定义类型不能预览");var s=this.form.formworkType;if("0"!=s&&"1"!=s&&"2"!=s&&"3"!=s)return void this.stateDialog("error","请选择模板类型")}var o=new FormData,n=e.nextTaskKey;if(e.above&&(n=this.getNextStepNode(n)),o.append("updateDate",e.updateDate),o.append("projectNum",this.transmittedData.projectNumber),o.append("submitNode",n),o.append("contractId",this.transmittedData.id),o.append("projectName",r.projectName),o.append("counselBusinessType",r.counselBusinessType),o.append("counselTypePeriod",r.counselTypePeriod),o.append("contractSealType",r.contractSealType),o.append("projectAddress",r.projectAddress),o.append("investedAmount",r.investedAmount),o.append("isProvisional",r.isProvisional),o.append("projectNatureList",r.projectNatureList.sort()),o.append("trusterName",r.trusterName),o.append("trusterTypeList",r.trusterTypeList.sort()),o.append("trusterDutyUser",r.trusterDutyUser),o.append("trusterDutyPhone",r.trusterDutyPhone),o.append("consultUser",r.consultUser),o.append("thirdParty",r.thirdParty),o.append("titlePageConsultant",r.titlePageConsultant),o.append("dutyPeople",r.dutyPeople),o.append("planner",r.planner),o.append("contractNatureList",r.contractNatureList.sort()),o.append("determinateMethodList",r.determinateMethodList.sort()),o.append("contractAmount",r.contractAmount),o.append("isValueProvisional",r.isValueProvisional),o.append("contractDate",r.contractDate),o.append("otherThings",r.otherThings),o.append("cooperateCompany",r.cooperateCompany),o.append("contractType",this.form.contractType),"0"==this.form.contractType)this.$refs.upload.submit(),o.append("signPathFile",this.filedata);else if("1"==this.form.contractType){var i=this.form.formworkType;o.append("formworkType",i);var l={},c={};switch(i){case"0":var u=this.$refs.formCostConsulting._data.form;c.provinceName=u.province,c.districtName=u.region,c.projectScale=u.generalize,c.fundSource=u.fund,c.buildPeriod=u.period,c.workContent=u.scope;var p="",d="",f="",g="",h="",v="",b=u.deadline;if(b){var y=b[0];p=y.getFullYear().toString(),1==(d=(y.getMonth()+1).toString()).length&&(d="0"+d),1==(f=y.getDate().toString()).length&&(f="0"+f);var _=b[1];g=_.getFullYear().toString(),1==(h=(_.getMonth()+1).toString()).length&&(h="0"+h),1==(v=_.getDate().toString()).length&&(v="0"+v)}c.startYear=p,c.startMonth=d,c.startDay=f,c.endYear=g,c.endMonth=h,c.endDay=v,c.totalContractCount=u.copies,c.trusterContractCount=u.entrust,c.consultantContractCount=u.consult,c.trusterRepresent=u.representative,c.personCount=u.personnel;var w="",C="";0==u.pay?(C=u.input,w=u.pay.toString()):1==u.pay&&(C=u.desc,w=u.pay.toString()),c.paymentMethod=w,c.paymentInfo=C,c.courtName=u.dispute,c.receiver=u.recipient,c.deliveryPlace=u.site,c.calculationMethod=u.reward;var k=this.$refs.formCostConsulting.$refs.serviceAndWorkContent._data.Aform.data,F={};if(k&&k.length>0){c.serviceAndWorkContentList=[];for(var D={},x=0;x<k.length;x++){D={};var T=(F=k[x]).serve.split(","),N=T[0],I=T[1],A=T[2];D.servicePhaseId=N,D.servicePhase=I,D.serviceRange=A;var S=[],L={};if(/其他|工程实施阶段造价/g.test(A))D.workContentFlg="1",D.workContent=F.details;else if(/资金使用计划/g.test(A))D.workContentFlg="0",L.workContentType="0",L.isCheckedFlg="0",F.content.length>0&&(L.isCheckedFlg="1"),S.push(L),D.workContentList=S;else{D.workContentFlg="0";for(var $=0;$<3;$++)(L={}).workContentType=$.toString(),L.isCheckedFlg="0",S.push(L);if(F.content.length>0)for(var P=0;P<F.content.length;P++)1==F.content[P]?S[0].isCheckedFlg="1":2==F.content[P]?S[1].isCheckedFlg="1":3==F.content[P]&&(S[2].isCheckedFlg="1");D.workContentList=S}D.chargeRadix=F.charge.money,D.isChargeRadixProvisional=F.charge.state,D.chargeStandard=F.standard.money,D.isChargeStandardProvisional=F.standard.state,D.remuneration=F.sum.money,D.isRemunerationProvisional=F.sum.state,D.remark=F.remark,c.serviceAndWorkContentList.push(D)}}var j=this.$refs.formCostConsulting.$refs.achievementFile._data.Bform.data,q={};if(j&&j.length>0){c.achievementFileList=[];for(var R={},B=0;B<j.length;B++){R={},q={};var O=(q=j[B]).serve.split(","),z=O[0],M=O[1];R.servicePhaseId=z,R.servicePhase=M,R.achievementFileName=q.name,R.achievementFileCompose=q.constitute,R.submitDate=q.date,R.fileCount=q.copies,R.qualityStandard=q.standard,c.achievementFileList.push(R)}}var V=this.$refs.formCostConsulting.$refs.provideData._data.Cform.data,U={};if(V&&V.length>0){c.provideDataList=[];for(var E={},H=0;H<V.length;H++){E={},U={},U=V[H],E.trusterName=U.name,E.dataCount=U.copies;var W="",K="",J="",Q="";if(U.time){var G=U.time;W=G.getFullYear().toString(),1==(K=(G.getMonth()+1).toString()).length&&(K="0"+K),1==(J=G.getDate().toString()).length&&(J="0"+J),Q=W+"年"+K+"月"+J+"日"}E.provideDate=Q,E.remark=U.remark,c.provideDataList.push(E)}}break;case"1":l=this.$refs.formConstructionProjectBiddingAgency.$data.form,c.provinceName=l.provinceName,c.districtName=l.districtName,c.scale=l.scale,c.biddingScale=l.biddingScale,c.agentWorkContent=l.agentWorkContent,c.signAddress=l.signAddress,c.agentRange=l.agentRange,c.agentContent=l.agentContent.toString(),c.paymentMethod=l.paymentMethod;break;case"2":l=this.$refs.formProjectManagementConsultingService.$data.form,c.provinceName=l.provinceName,c.districtName=l.districtName,c.serviceContent=l.serviceContent,c.consultAddress=l.consultAddress,c.telNumber=l.telNumber,c.faxNumber=l.faxNumber,c.floorage=l.floorage,c.useNature=l.useNature,c.designPay=l.designPay,c.constructionPay=l.constructionPay,c.settlementPay=l.settlementPay,c.advancePayment=l.advancePayment,c.progressPayment=l.progressPayment,c.balance=l.balance,c.isDesignPayProvisional=l.isDesignPayProvisional,c.isConstructionPayProvisional=l.isConstructionPayProvisional,c.isSettlementPayProvisional=l.isSettlementPayProvisional,c.isAdvancePaymentProvisional=l.isAdvancePaymentProvisional,c.isProgressPaymentProvisional=l.isProgressPaymentProvisional,c.isBalanceProvisional=l.isBalanceProvisional,c.addClauses=l.addClauses;break;case"3":l=this.$refs.formSupervision.$data.form,c.supervisor=l.supervisor,c.projectScale=l.projectScale,c.instalCost=l.instalCost,c.isInstalCostProvisional=l.isInstalCostProvisional,c.engineerName=l.engineerName,c.IDNumber=l.IDNumber,c.registrationNumber=l.registrationNumber,c.signAmount=l.signAmount,c.isSignAmountProvisional=l.isSignAmountProvisional;var Y="",X="",Z="",ee="",te="",ae="",re="",se=l.superviseDate;if(se){var oe=se[0];Y=oe.getFullYear().toString(),1==(X=(oe.getMonth()+1).toString()).length&&(X="0"+X),1==(Z=oe.getDate().toString()).length&&(Z="0"+Z);var ne=se[1];ee=ne.getFullYear().toString(),1==(te=(ne.getMonth()+1).toString()).length&&(te="0"+te),1==(ae=ne.getDate().toString()).length&&(ae="0"+ae),re=(this.dateDiff(se)+1).toString()}c.startYear=Y,c.startMonth=X,c.startDay=Z,c.endYear=ee,c.endMonth=te,c.endDay=ae,c.dayCount=re;var ie="",le="",ce="";l.signDate&&(ie=l.signDate.getFullYear().toString(),1==(le=(l.signDate.getMonth()+1).toString()).length&&(le="0"+le),1==(ce=l.signDate.getDate().toString()).length&&(ce="0"+ce)),c.signYear=ie,c.signMonth=le,c.signDay=ce,c.signAddress=l.signAddress,c.truBusinessLicenseNumber=l.truBusinessLicenseNumber,c.truAddress=l.truAddress,c.truPostalCode=l.truPostalCode,c.truOpenBank=l.truOpenBank,c.truAcountNumber=l.truAcountNumber,c.truTelNumber=l.truTelNumber,c.truFaxNumber=l.truFaxNumber,c.truEMail=l.truEMail,c.supBusinessLicenseNumber=l.supBusinessLicenseNumber,c.supCertificateNumber=l.supCertificateNumber,c.supAddress=l.supAddress,c.supPostalCode=l.supPostalCode,c.supOpenBank=l.supOpenBank,c.supAcountNumber=l.supAcountNumber,c.supTelNumber=l.supTelNumber,c.supFaxNumber=l.supFaxNumber,c.supEMail=l.supEMail,c.specialClauses=l.specialClauses,c.trusterAgent=l.trusterAgent,c.paymentMethod=l.paymentMethod,c.disputeResolution=l.disputeResolution}o.append("formworkContent",m()(c))}for(var ue=0;ue<r.characteristic.length;ue++)o.append("predictRequestDateList["+ue+"].startDate",this.tool.formatDate(r.characteristic[ue].startDate,"yyyy-MM-dd")),o.append("predictRequestDateList["+ue+"].receivedAmount",r.characteristic[ue].receivedAmount),o.append("predictRequestDateList["+ue+"].isProvisional",r.characteristic[ue].isProvisional);for(ue=0;ue<r.projectTypeList.length;ue++)switch(o.append("projectTypeList["+ue+"].projectType",r.projectTypeList[ue]),r.projectTypeList[ue]){case 0:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].landArea",r.residential.landArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].floorArea",r.residential.floorArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].eavesHeight",r.residential.eavesHeight),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].buildingControlHeight",r.residential.buildingControlHeight),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].volumeRatio",r.residential.volumeRatio),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].homeType",r.residential.homeType);break;case 1:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].landArea",r.commercialBuildings.landArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].floorArea",r.commercialBuildings.floorArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].eavesHeight",r.commercialBuildings.eavesHeight),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].buildingControlHeight",r.commercialBuildings.buildingControlHeight);break;case 2:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].landArea",r.hotelAndLeisureEntertainment.landArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].floorArea",r.hotelAndLeisureEntertainment.floorArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].eavesHeight",r.hotelAndLeisureEntertainment.eavesHeight),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].buildingControlHeight",r.hotelAndLeisureEntertainment.buildingControlHeight),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].roomNum",r.hotelAndLeisureEntertainment.roomNum);break;case 3:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].landArea",r.industrialArchitecture.landArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].floorArea",r.industrialArchitecture.floorArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].eavesHeight",r.industrialArchitecture.eavesHeight),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].level",r.industrialArchitecture.level),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].span",r.industrialArchitecture.span),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].produceCondition",r.industrialArchitecture.produceCondition);break;case 4:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].landArea",r.education.landArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].floorArea",r.education.floorArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].makeGreenRatio",r.education.makeGreenRatio),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].greenLevel",r.education.greenLevel);break;case 5:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].landArea",r.culturalAndSportsFacilities.landArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].floorArea",r.culturalAndSportsFacilities.floorArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].persionCapacity",r.culturalAndSportsFacilities.persionCapacity);break;case 6:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].landArea",r.power.landArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].floorArea",r.power.floorArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].installationCapacity",r.power.installationCapacity),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].transformersNum",r.power.transformersNum),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].cableLayingLength",r.power.cableLayingLength),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].cableLayingMethod",r.power.cableLayingMethod),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].transmissionCapacity",r.power.transmissionCapacity);break;case 7:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].grade",r.railwayRoadBridgeConstruction.grade),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].bridgeLength",r.railwayRoadBridgeConstruction.bridgeLength),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].designSpeed",r.railwayRoadBridgeConstruction.designSpeed),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].orbitalType",r.railwayRoadBridgeConstruction.orbitalType),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].bridgeType",r.railwayRoadBridgeConstruction.bridgeType);break;case 8:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].normalOperatingWaterLevel",r.water.normalOperatingWaterLevel),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].totalStorageCapacity",r.water.totalStorageCapacity),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].maximumDamHeight",r.water.maximumDamHeight),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].installedCapacityOfPowerStation",r.water.installedCapacityOfPowerStation);break;case 9:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].landArea",r.publicUtilitiesUrbanInfrastructure.landArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].floorArea",r.publicUtilitiesUrbanInfrastructure.floorArea),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].others",r.publicUtilitiesUrbanInfrastructure.others);break;case 10:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].portThroughput",r.waterTransportationAndTransportation.portThroughput),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].channelThroughput",r.waterTransportationAndTransportation.channelThroughput),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].flowDirection",r.waterTransportationAndTransportation.flowDirection),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].branchLineVolume",r.waterTransportationAndTransportation.branchLineVolume),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].shipFlow",r.waterTransportationAndTransportation.shipFlow),o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].gatheringAndDistributingWays",r.waterTransportationAndTransportation.gatheringAndDistributingWays);break;case 11:o.append("projectTypeList["+ue+"].projectFeatureList["+ue+"].others",r.others.others)}"preview"==t?(o.append("type","contract"),this.formData=o,this.file={materialPath:!0,isGeneratedFile:!0,noSubmitPreview:"1"},this.$refs.previewFile.show=!0):this.apiAddress("/contract/modify/updateContractInfo",o).then(function(e){"success"==e.data.status?(a.stateDialog("success",e.data.message),a.$router.push("/page/work/default"),a.contract=!1,a.contractNumber="",a.$destroy):a.stateDialog("error",e.data.message)}).catch(function(e){a.stateDialog("error",e)})},changeContractType:function(e){this.form.contractType=e}},data:function(){return{checkIndex:0,form:this.theFormData.indexContract.form,componentTemplate:"",gutter:40,projectNumber:"",showImg:!1,taskMaterialInfo:this.tool.deepCopy(this.transmittedData.taskMaterialInfo,this.tool.deepCopy),rules:{materialName:[{required:!0,message:"请选择公告文件",trigger:"blur"}]},file:"",formData:new FormData}},watch:{"theFormData.indexContract":{handler:function(){this.form=this.theFormData.indexContract.form},deep:!0,immediate:!0},transmittedData:{handler:function(){this.taskMaterialInfo=this.tool.deepCopy(this.transmittedData.taskMaterialInfo,this.tool.deepCopy)},deep:!0,immediate:!0}}},Co={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contract"},[e.transmittedData.onlyOfficeFlg?e._e():a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("p",[e._v("项目编号:"+e._s(e.transmittedData.projectNumber))])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("p",[e._v("合同编号:"+e._s(e.transmittedData.contractNumber))])])],1)],1),e._v(" "),e.showImg?a("div",{staticClass:"img-failure"},[a("img",{attrs:{src:e.imgSrc,alt:e.imgAlt}}),e._v(" "),a("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.imgAlt))])]):e._e(),e._v(" "),e.transmittedData.onlyOfficeFlg?e._e():a("base-contract",{ref:"baseContract",attrs:{_form:e.theFormData.baseContract,disabled:e.theFormDisabled},on:{changeContractType:e.changeContractType}}),e._v(" "),e.transmittedData.onlyOfficeFlg?e._e():a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,disabled:e.theFormDisabled,rules:e.rules}},["0"==e.form.contractType?a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"",prop:"materialName"}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader upload",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUpload,data:e.form}},[a("el-button",{staticStyle:{color:"#409EFF"}},[a("span",{staticClass:"iconfont",staticStyle:{"font-size":"12px"}},[e._v("")]),e._v("上传合同附件")])],1),e._v(" "),a("el-input",{staticStyle:{"margin-top":"5px"},attrs:{placeholder:"请输入文件名称",disabled:!0},model:{value:e.form.materialName,callback:function(t){e.$set(e.form,"materialName",t)},expression:"form.materialName"}})],1)],1)],1)],1):e._e(),e._v(" "),"1"==e.form.contractType?a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-radio",{attrs:{label:"0"},model:{value:e.form.formworkType,callback:function(t){e.$set(e.form,"formworkType",t)},expression:"form.formworkType"}},[e._v("造价咨询合同")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.form.formworkType,callback:function(t){e.$set(e.form,"formworkType",t)},expression:"form.formworkType"}},[e._v("建设工程招标代理合同")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.form.formworkType,callback:function(t){e.$set(e.form,"formworkType",t)},expression:"form.formworkType"}},[e._v("工程管理咨询服务合同")]),e._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:e.form.formworkType,callback:function(t){e.$set(e.form,"formworkType",t)},expression:"form.formworkType"}},[e._v("监理合同")])],1)],1),e._v(" "),e.form&&"0"==e.form.formworkType?a("form-cost-consulting",{ref:"formCostConsulting",attrs:{theFormData:e.theFormData.formCostConsulting,disabled:e.theFormDisabled}}):e._e(),e._v(" "),e.form&&"1"==e.form.formworkType?a("form-construction-project-bidding-agency",{ref:"formConstructionProjectBiddingAgency",attrs:{theFormData:e.theFormData.formConstructionProjectBiddingAgency,disabled:e.theFormDisabled}}):e._e(),e._v(" "),e.form&&"2"==e.form.formworkType?a("form-project-management-consulting-service",{ref:"formProjectManagementConsultingService",attrs:{theFormData:e.theFormData.formProjectManagementConsultingService,disabled:e.theFormDisabled}}):e._e(),e._v(" "),e.form&&"3"==e.form.formworkType?a("form-supervision",{ref:"formSupervision",attrs:{theFormData:e.theFormData.formSupervision,disabled:e.theFormDisabled}}):e._e()],1):e._e()]),e._v(" "),e.transmittedData.onlyOfficeFlg?a("div",{staticClass:"form-block form-block__row--auto-width",staticStyle:{height:"700px"}},[a("office",{attrs:{file:e.taskMaterialInfo}})],1):e._e(),e._v(" "),a("preview-file",{ref:"previewFile",attrs:{file:e.file,type:"request",formData:e.formData}})],1)},staticRenderFns:[]};var ko=a("VU/8")(wo,Co,!1,function(e){a("cGQy"),a("VYR1")},"data-v-457fe0d8",null).exports,Fo={props:["options","uploadOptions","periodTypeBoolean","periodType"],mounted:function(){},data:function(){return{zindex1:!0,zindex2:!1,show:!1,limit:this.uploadOptions&&this.uploadOptions.limit||1,gutter:20,form:{select:"",money:"",payMoney:"",remark:"",num:1,type:"原件",recipient:"",recipientDate:""},fileList:[],fileName:"",currentUploadOptions:this.tool.deepCopy(this.uploadOptions,this.tool.deepCopy),rules:{select:[{required:!0,message:"请选择文件类型",trigger:"change"}],num:[{required:!0,message:"请选择原件/复印件",trigger:"change"}],type:[{required:!0,message:"请选择文件类型",trigger:"change"}],recipient:[{required:!0,message:"请输入接收人",trigger:"blur"}],recipientDate:[{required:!0,message:"请选择接收时间",trigger:"blur"}],money:[{required:!0,message:"请输入发票金额",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],payMoney:[{required:!0,message:"请输入打款金额",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],remark:[{max:300,message:"最长300字",trigger:"blur"}]}}},watch:{uploadOptions:{handler:function(){this.currentUploadOptions=this.uploadOptions},immediate:!0}},methods:{handleExceed:function(e,t){this.$message.warning("当前限制选择 "+this.limit+" 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeClose:function(){this.show=!1,this.reset()},submit:function(){var e=this,t=this;this.$refs.form.validate(function(a){a&&(e.$refs.upload1.uploadFiles.length?(t.show=!1,t.$refs.upload1.submit(),t.reset()):t.$message.error("请选择上传文件"))})},httpRequest:function(e){var t=this,a=new FormData;t.currentUploadOptions&&t.currentUploadOptions.isInvoice?a.append("money",t.form.money):a.append("select",t.form.select),t.currentUploadOptions&&t.currentUploadOptions.isPayMoney&&a.append("payMoney",t.form.payMoney),"1"===t.periodType&&(a.append("remark",t.form.remark),a.append("num",t.form.num),a.append("type",t.form.type),a.append("recipient",t.form.recipient),a.append("recipientDate",t.form.recipientDate)),a.append("file",e.file),t.$emit("submit",a)},open:function(){var e=this,t=0,a=setInterval(function(){e.zindex1=!e.zindex1,e.zindex2=!e.zindex2,100==++t&&clearInterval(a)},1e3)},reset:function(){this.$refs.form.resetFields(),this.fileList=[]}}},Do={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dialogUpload",on:{click:function(e){e.stopPropagation()}}},[a("el-dialog",{class:{zindex1:e.zindex1,zindex2:e.zindex2},attrs:{title:"新增",visible:e.show,width:"50%",center:"","before-close":e.beforeClose,"modal-append-to-body":!0,"close-on-click-modal":!1},on:{open:e.open}},[a("el-form",{ref:"form",staticStyle:{"text-align":"left"},attrs:{model:e.form,"status-icon":!0,"label-width":"80px",rules:e.rules}},[!e.periodTypeBoolean&&!e.currentUploadOptions||e.currentUploadOptions&&!e.currentUploadOptions.isInvoice&&!e.currentUploadOptions.isPayMoney?a("div",[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"文件类型",prop:"select"}},[a("el-select",{attrs:{placeholder:"请选择文件类型"},model:{value:e.form.select,callback:function(t){e.$set(e.form,"select",t)},expression:"form.select"}},e._l(e.options,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.id}})}),1)],1)],1)],1),e._v(" "),"1"==e.periodType?a("div",[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原件/复印件",prop:"type"}},[a("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-radio",{attrs:{label:"原件"}}),e._v(" "),a("el-radio",{attrs:{label:"复印件"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"份数",prop:"num"}},[a("el-input-number",{attrs:{min:1,max:1e5},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"接收人",prop:"recipient"}},[a("el-input",{attrs:{placeholder:"请输入接收人"},model:{value:e.form.recipient,callback:function(t){e.$set(e.form,"recipient",t)},expression:"form.recipient"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"接收时间",prop:"recipientDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.recipientDate,callback:function(t){e.$set(e.form,"recipientDate",t)},expression:"form.recipientDate"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1):e._e()],1):e._e(),e._v(" "),e.currentUploadOptions&&e.currentUploadOptions.isInvoice?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"发票金额",prop:"money"}},[a("el-input",{model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1)],1)],1):e._e(),e._v(" "),e.currentUploadOptions&&e.currentUploadOptions.isPayMoney?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"打款金额",prop:"payMoney"}},[a("el-input",{model:{value:e.form.payMoney,callback:function(t){e.$set(e.form,"payMoney",t)},expression:"form.payMoney"}})],1)],1)],1):e._e(),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.currentUploadOptions&&e.currentUploadOptions.isInvoice?"发票文件":"项目文件"}},[a("el-upload",{ref:"upload1",staticClass:"upload-demo",attrs:{"auto-upload":!1,action:"#","file-list":e.fileList,"http-request":e.httpRequest,"on-exceed":e.handleExceed,multiple:""}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{padding:"0 45px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定提交")])],1)],1)],1)},staticRenderFns:[]};var xo={components:{"dialog-upload":a("VU/8")(Fo,Do,!1,function(e){a("QhAO"),a("OIHB")},"data-v-0a8bb22f",null).exports,"dialog-browse-file":Ht,previewFile:Jt},props:["title","showUploadBtn","list","options","uploadOptions","delBtnFlag","type","id","periodTypeBoolean","periodType"],mounted:function(){},data:function(){return{currentDelBtnFlag:this.delBtnFlag,currentFileList:this.tool.deepCopy(this.list,this.tool.deepCopy),file:""}},watch:{delBtnFlag:function(){this.currentDelBtnFlag=this.delBtnFlag},list:{handler:function(){this.currentFileList=this.tool.deepCopy(this.list,this.tool.deepCopy)},immediate:!0}},methods:{browseFile:function(e){this.file=e,this.$refs.dialogBrowseFile.show=!0},uploadFile:function(){this.$refs.upload.show=!0},submitUpload:function(e){this.$emit("submit",e)},del:function(e){this.$emit("del",e)},download:function(e,t,a){this.downloadFile(e,t,a)}}},To={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-collapse-item",{staticClass:"invoice",attrs:{title:e.title}},[a("template",{slot:"title"},[e._v("\n    "+e._s(e.title)+" \n    "),e.showUploadBtn?a("i",{staticClass:"el-icon-plus linear",staticStyle:{color:"white",padding:"2px 6px","border-radius":"5px"},on:{click:function(t){return t.stopPropagation(),e.uploadFile(t)}}}):e._e(),e._v(" "),a("dialog-upload",{ref:"upload",attrs:{options:e.options,uploadOptions:e.uploadOptions,periodTypeBoolean:e.periodTypeBoolean,periodType:e.periodType},on:{submit:e.submitUpload}}),e._v(" "),a("preview-file",{ref:"dialogBrowseFile",attrs:{file:e.file,type:e.type,id:e.id}})],1),e._v(" "),a("div",{staticClass:"content hide-upload-container"},[a("el-upload",{ref:"uploadDemo",staticClass:"upload-demo",attrs:{accept:"text",action:"https://jsonplaceholder.typicode.com/posts/",multiple:""}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),a("div",{staticClass:"file-list"},[a("ul",e._l(e.currentFileList,function(t,r){return a("li",{key:r,staticClass:"el-upload-list__item is-finished",attrs:{tabindex:"0"}},[a("a",{staticClass:"el-upload-list__item-name",staticStyle:{"min-width":"100px","flex-grow":"2"},on:{click:function(a){return a.stopPropagation(),e.browseFile(t)}}},[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{title:t.materialName}},[e._v(e._s(t.materialName))])]),e._v(" "),a("a",{staticClass:"el-upload-list__item-name",staticStyle:{"min-width":"60px","flex-grow":"1"},attrs:{title:t.userName}},[e._v("\n            "+e._s(t.userName)+"\n          ")]),e._v(" "),a("label",{staticClass:"el-upload-list__item-status-label"},[a("i",{staticClass:"el-icon-upload-success el-icon-circle-check"})]),e._v(" "),a("i",{staticClass:"el-icon-download",on:{click:function(a){return a.stopPropagation(),e.download(t.materialPath,t.materialName,t.isGeneratedFile)}}}),e._v(" "),"1"!=t.isCanDel||e.currentDelBtnFlag?e._e():a("i",{staticClass:"el-icon-close",on:{click:function(a){return a.stopPropagation(),e.del(t)}}})])}),0)])],1)],2)},staticRenderFns:[]};var No=a("VU/8")(xo,To,!1,function(e){a("Q2nr"),a("Mvx6")},"data-v-cab5b0e4",null).exports,Io=a("gBtx"),Ao=a.n(Io),So={props:["object","name"],mounted:function(){},data:function(){return{countObject:this.getCount(this.object)}},watch:{object:function(){this.getCount(this.object)}},methods:{getCount:function(e){if(this.countObject=e,this.countObject.children)for(var t=0,a=this.countObject.children.length;t<a;t++){var r=this.countObject.children[t];if(!r.persions)return;for(var s=0,o=r.persions.length;s<o;s++){for(var n=r.persions[s],i=0,l=0,c=n.errorList.length;l<c;l++)i+=Ao()(n.errorList[l].num);n.count=i}}}}},Lo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-collapse-item",{staticClass:"collapseReviewRead"},[a("template",{slot:"title"},[a("span",[e._v(e._s(e.object.title))])]),e._v(" "),a("el-collapse",{staticClass:"level2",attrs:{accordion:""}},e._l(e.object.children||[],function(t,r){return a("el-collapse-item",{key:r,attrs:{name:e.name+"-"+r}},[a("template",{slot:"title"},[a("span",{staticClass:"name",attrs:{title:t.name}},[e._v(e._s(t.name)+"\n        ")]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.time))]),e._v(" "),a("span",{staticClass:"time",attrs:{title:1==t.isPass?"通过":"未通过"}},[e._v(e._s(1==t.isPass?"通过":"未通过"))])]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"opinion"},[e._v(e._s(t.opinion))]),e._v(" "),e._l(t.persions,function(r,s){return a("div",{key:s},[a("ul",[a("li",[e._v(e._s(r.name)),r.count?a("span",{staticClass:"badge error",staticStyle:{"margin-left":"5px"}},[e._v(e._s(r.count))]):e._e()]),e._v(" "),e._l(r.errorList,function(t,r){return a("li",{key:r},[t.num?a("span",{staticClass:"badge error"},[e._v(e._s(t.num))]):e._e(),e._v("\n              "+e._s(t.type)+"\n            ")])})],2),e._v(" "),t.persions&&t.persions[s+1]?a("div",{staticClass:"decoration"},[a("div",{staticClass:"line"})]):e._e()])})],2)],2)}),1)],2)},staticRenderFns:[]};var $o=a("VU/8")(So,Lo,!1,function(e){a("VKzw"),a("h5xi")},"data-v-29a7055b",null).exports,Po=[],jo=[],qo={props:["errorTyleList","title","option"],mounted:function(){},data:function(){return{countErrorTyleList:this.sortTableData(this.tool.deepCopy(this.errorTyleList,this.tool.deepCopy)),show:!1,zindex1:!0,zindex2:!1,form:{}}},watch:{errorTyleList:{handler:function(){var e=this;e.countErrorTyleList=e.sortTableData(e.tool.deepCopy(e.errorTyleList,e.tool.deepCopy))},immediate:!0}},methods:{rejectOpinion:function(){var e=this;e.$prompt("请输入驳回意见","提示",{confirmButtonText:"确定",inputType:"textarea",inputValue:e.option,cancelButtonText:"取消"}).then(function(t){var a=t.value;e.$emit("changeOption",a)}).catch(function(){})},spanMethod:function(e){var t=e.row,a=(e.column,e.rowIndex),r=[1,1];if(0==e.columnIndex){0==a&&(jo=this.tool.deepCopy(Po,this.tool.deepCopy));for(var s=this.tool.deepCopy(jo,this.tool.deepCopy),o=0,n=s.length;o<n;o++){var i=s[o];if(null===i&&(r=[0,1]),i&&i.id==t.examineTypeId)return jo.splice(o,1,null),[i.rowSpan,1]}}return r},sortTableData:function(e){if(!e||!e.length)return[];Po=[];for(var t={rowSpan:1,id:""},a=0,r=e.length;a<r;a++){var s=e[a];t.id==s.examineTypeId?t.rowSpan++:(t.rowSpan>1&&Po.push(t),t={rowSpan:1,id:s.examineTypeId}),a+1==r&&Po.push(t)}return e.sort(function(e,t){return parseInt(e.examineTypeId)>parseInt(t.examineTypeId)?1:-1})},open:function(){var e=this,t=0,a=setInterval(function(){e.zindex1=!e.zindex1,e.zindex2=!e.zindex2,5==++t&&clearInterval(a)},1e3)},submit:function(){for(var e=this,t=[],a=0,r=e.countErrorTyleList.length;a<r;a++)e.countErrorTyleList[a].questionNum&&t.push(e.tool.deepCopy(e.countErrorTyleList[a],e.tool.deepCopy));this.$emit("submit",t),e.show=!1},beforeClose:function(){this.show=!1}}},Ro={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"collapse-review-write_dialog",on:{click:function(e){e.stopPropagation()}}},[a("el-dialog",{ref:"dialog",class:{zindex1:e.zindex1,zindex2:e.zindex2},attrs:{visible:e.show,width:"60%",title:"选择错误："+e.title,"before-close":e.beforeClose,"modal-append-to-body":!0,center:"","close-on-click-modal":!1},on:{open:e.open}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-table",{attrs:{data:e.countErrorTyleList,border:!0,"span-method":e.spanMethod}},[a("el-table-column",{attrs:{align:"center",prop:"examineTypeName",label:"考核分类"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"questionName",label:"问题类型"}}),e._v(" "),a("el-table-column",{attrs:{width:"300",align:"center",prop:"questionNum",label:"次数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{style:{marginRight:"其他"!=t.row.questionName?"62px":0},attrs:{min:0},model:{value:t.row.questionNum,callback:function(a){e.$set(t.row,"questionNum",a)},expression:"scope.row.questionNum"}}),e._v(" "),"其他"==t.row.questionName?a("button",{staticClass:"btn-function",attrs:{type:"button"},on:{click:e.rejectOpinion}},[e._v("驳回意见")]):e._e()]}}])})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{padding:"0 45px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Bo={components:{"collapse-review-write-dialog":a("VU/8")(qo,Ro,!1,function(e){a("eHTr"),a("2w6g")},"data-v-bc97f57e",null).exports},props:["object","name","errorTyleList","noPenalty"],mounted:function(){},data:function(){return{activeNames:this.name+"-0",count:0,countErrorTyleList:this.tool.deepCopy(this.errorTyleList,this.tool.deepCopy),countObject:this.tool.deepCopy(this.object,this.tool.deepCopy),countId:"",zindex1:!0,zindex2:!1,title:""}},watch:{object:{handler:function(){var e=this;e.countObject=e.tool.deepCopy(e.object,e.tool.deepCopy);for(var t=0,a=e.countObject.children.length;t<a;t++){for(var r=e.countObject.children[t],s=0,o=0,n=r.errorList.length;o<n;o++)s+=r.errorList[o].questionNum;r.count=s}},deep:!0,immediate:!0},errorTyleList:{handler:function(){this.countErrorTyleList=this.tool.deepCopy(this.errorTyleList,this.tool.deepCopy)},immediate:!0}},methods:{changeOption:function(e){this.countObject.opinion=e},submit:function(e){var t=this;if(e instanceof Array)for(var a=t.countObject.children,r=0,s=a.length;r<s;r++)if(a[r].id==t.countId){a[r].errorList=[];for(var o=0,n=e.length;o<n;o++)a[r].errorList.push(e[o])}t.$emit("submit",t.tool.deepCopy(t.countObject,t.tool.deepCopy))},chooseError:function(e){this.resetTable(e),this.title=e.name,this.countId=e.id,this.$refs.collapseReviewWrite_dialog.show=!0},resetTable:function(e){var t=this;if(e.errorList&&e.errorList.length)for(var a=0,r=t.countErrorTyleList.length;a<r;a++){for(var s=!1,o=0,n=e.errorList.length;o<n;o++)t.countErrorTyleList[a].questionId==e.errorList[o].questionId&&(t.countErrorTyleList[a].questionNum=e.errorList[o].questionNum,s=!0);s||(t.countErrorTyleList[a].questionNum=0)}else for(var i=0,l=t.countErrorTyleList.length;i<l;i++)t.countErrorTyleList[i].questionNum=0}}},Oo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-collapse-item",{staticClass:"collapseReviewWrite",attrs:{name:e.name}},[a("template",{slot:"title"},[a("span",[e._v("审核")]),e._v(" "),a("collapse-review-write-dialog",{ref:"collapseReviewWrite_dialog",attrs:{title:e.title,option:e.countObject.opinion,errorTyleList:e.countErrorTyleList},on:{submit:e.submit,changeOption:e.changeOption}})],1),e._v(" "),a("div",{staticClass:"width-94"},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"驳回请输入驳回意见，通过不填默认为同意"},on:{change:e.submit},model:{value:e.countObject.opinion,callback:function(t){e.$set(e.countObject,"opinion",t)},expression:"countObject.opinion"}})],1),e._v(" "),e.noPenalty?e._e():a("div",[a("div",{staticClass:"width-94",staticStyle:{"margin-top":"15px"}},[e._v("扣分")]),e._v(" "),a("el-collapse",{staticClass:"level2",attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.countObject.children,function(t,r){return a("el-collapse-item",{key:r,attrs:{name:e.name+"-"+r}},[a("template",{slot:"title"},[a("span",{staticClass:"name",staticStyle:{width:"auto"}},[e._v(e._s(t.name)+"\n          ")]),e._v(" "),t.count?a("span",{staticClass:"badge error",staticStyle:{"margin-left":"5px"}},[e._v(e._s(t.count))]):e._e(),e._v(" "),a("span",{staticClass:"time",staticStyle:{position:"absolute",top:"0",right:"35px"}},[a("a",{attrs:{href:"#"},on:{click:function(a){return a.stopPropagation(),e.chooseError(t)}}},[e._v("请选择错误")])])]),e._v(" "),a("div",{staticClass:"content"},[a("ul",e._l(t.errorList,function(t,r){return a("li",{key:r},[t.questionNum?a("div",[a("span",{staticClass:"badge error"},[e._v(e._s(t.questionNum))]),e._v(" "+e._s(t.questionName))]):e._e()])}),0)])],2)}),1)],1)],2)},staticRenderFns:[]};var zo=a("VU/8")(Bo,Oo,!1,function(e){a("TRL+"),a("qknv")},"data-v-0ec32df4",null).exports,Mo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dialogSubmitAudit--work-contract-compile",on:{click:function(e){e.stopPropagation()}}},[a("el-dialog",{attrs:{title:"请选择提审文件配套资料",visible:e.show,width:"50%",center:"","before-close":e.beforeClose,"close-on-click-modal":!1}},[a("el-form",{ref:"form",staticClass:"Remanddata",staticStyle:{"text-align":"left"},attrs:{"status-icon":!0,model:e.form}},[e._l(e.list,function(t,r){return[t.children&&t.children.length?a("el-form-item",{key:r,staticStyle:{display:"flex"},attrs:{label:t.label}},[a("el-checkbox-group",{model:{value:e.form.checkbox,callback:function(t){e.$set(e.form,"checkbox",t)},expression:"form.checkbox"}},e._l(t.children,function(t,r){return a("el-row",{key:r},[a("el-col",{attrs:{span:24}},[a("el-checkbox",{attrs:{label:t.id}},[e._v(e._s(t.label))])],1)],1)}),1)],1):e._e()]})],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{padding:"0 45px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"确认",visible:e.aboveShow,width:"50%",center:"","before-close":e.aboveBeforeClose,"close-on-click-modal":!1}},[e._v("\n    审核本来要提交给"),a("span",{staticStyle:{color:"#0000FE"}},[e._v(e._s(e.currentReviewer.current))]),e._v("\n    ,现在将要跳级提交给"),a("span",{staticStyle:{color:"orange"}},[e._v(e._s(e.currentReviewer.next))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{padding:"0 45px"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{padding:"0 45px"},attrs:{type:"primary"},on:{click:function(t){e.aboveShow=!1}}},[e._v("确定")])],1)])],1)},staticRenderFns:[]};var Vo=a("VU/8")({props:["above","reviewer"],mounted:function(){},methods:{upload:function(){},submit:function(){this.$emit("submit",this.form),this.show=!1},cancel:function(){this.aboveShow=!1,this.$emit("cancel")},beforeClose:function(){this.show=!1},aboveBeforeClose:function(){this.aboveShow=!1,this.$emit("cancel")}},data:function(){return{list:[{label:"文件类型1",children:[{label:"xx文件",id:"id1"},{label:"xx文件2",id:"id2"}]}],gutter:20,show:!1,aboveShow:!1,form:{checkbox:[]},currentReviewer:this.reviewer}},watch:{above:function(){this.above&&(this.aboveShow=!0)},reviewer:function(){this.currentReviewer=this.reviewer}}},Mo,!1,function(e){a("Ms1v"),a("DH3E")},"data-v-2a82c5a2",null).exports,Uo={components:{fileList:No,"collapse-review-read":$o,"dialog-submit-audit":Vo,"collapse-review-write":zo,"dialog-browse-file":Ht,previewFile:Jt},props:["transmittedData","typeFlag"],data:function(){return{currentTransmittedData:this.transmittedData,object:{title:"",opinion:"",children:[{id:"",name:"",errorList:[{num:"",type:""}]}]},form:{fileNumber:""},reviewer:{current:"",next:""},reviewFileRelationList:[],nextTaskKey:"",contractList:[],delegateTaskKey:null,isCanRecall:null,verifyState:null,approveTime:null,taskNum:"",user:{userId:"123",userName:"小红"},above:!1,activeNames:"write1",contract:!1,rowInfoLevel:"1",rowInfoLabel:"sdsdsd",userType:"",pageContent:"",opinionList:[],auditOpinionList:[],loadChild:!0,submitAuditBtn:!0,jumpFlag:!0,contractId:"",legalOpinion:"",list:[],errorTyleList:[],file:"",updateDate:""}},watch:{transmittedData:function(){this.currentTransmittedData=this.transmittedData}},mounted:function(){var e=this,t=this;this.searchAuditOpinionInfo(this.transmittedData),t.searchReviewFileRelationList(this.transmittedData.id),t.bus.$on("click",function(a){t.searchAuditOpinionInfo(a),t.searchReviewFileRelationList(e.transmittedData.id)})},updated:function(){this.jumpFlag="QualityVerify"==this.delegateTaskKey||"ManagerVerify"==this.delegateTaskKey||"SubmitVerify"==this.delegateTaskKey&&null==this.approveTime},methods:{preview:function(){this.bus.$emit("contractPreview",this._data)},browseFile:function(e){var t=this;e.materialPath?(t.file=t.tool.deepCopy(e,t.tool.deepCopy),t.$refs.previewFile.show=!0):t.stateDialog("error","该文件暂时不能浏览")},httpRequest:function(e){var t=new FormData;t.append("file",e.file),t.append("contractId",this.currentTransmittedData.id),this.submitForm(t)},uploadFile:function(){this.$refs.uploadDemo.$children[0].$el.click()},searchAuditOpinionInfo:function(e){var t=this;t.rowInfoLevel=e.treeNodeLevel,3==e.treeNodeLevel&&(t.searchAuditOpinionListFunc(e.id),t.searchQuestionList(e.departmentId),t.searchContractInfo(e.id),t.searchContractArchiveFileInfo(e.id))},submitForm:function(e){var t=this,a=this;this.apiAddress("/contract/add/insertContractArchiveFileInfo",e).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchContractArchiveFileInfo(a.currentTransmittedData.id)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("success",res.data.message)})},deleteFileInfo:function(e){var t=this,a=this;this.$confirm("此操作将永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress("/contract/delete/deleteContractArchiveFileInfo",{relationId:e.materialId,materialPath:e.materialPath}).then(function(e){"success"==e.data.status?t.searchContractArchiveFileInfo(a.currentTransmittedData.id):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},submitArchiveButton:function(){var e=this;e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){if(null!=e.list&&0!=e.list.length){var t={contractId:e.currentTransmittedData.id,fileNumber:e.form.fileNumber,updateDate:e.updateDate};e.apiAddress("/contract/modify/submitArchiveHTContract",t).then(function(t){"failure"==t.data.status?e.$message({message:t.data.message,type:"error",center:!0}):(e.$message({message:t.data.message,type:"success",center:!0}),e.$router.push("/page/work/default"))}).catch(function(t){e.$message({message:t,type:"error",center:!0})})}else e.$message({message:"请上传归档附件",type:"error",center:!0})}).catch(function(){})},searchContractArchiveFileInfo:function(e){var t=this,a=this,r={contractId:e};a.apiAddress("/contract/query/searchContractArchiveFileList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{for(var r=e.data.dataList,s=r.length-1;s>=0;s--)r[s]=JSON.parse(m()(r[s]).replace(/relationId/g,"materialId"));t.list=r,a.toggleTab()}}).catch(function(e){a.$message({message:e,type:"error",center:!0})}),this.centerDialogVisible=!0},searchContractInfo:function(e){var t=this,a=this,r={contractId:e};a.apiAddress("/contract/query/searchContractInfoById",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{for(var r=e.data.dataVO,s=r.userList,o=s.length-1;o>=0;o--)s[o].errorList=[];a.object.title=a.getStepName(r.delegateTaskKey),a.nextTaskKey=r.submitNode,a.delegateTaskKey=r.delegateTaskKey,a.legalOpinion=r.legalOpinion,a.verifyState=r.verifyState,a.approveTime=r.approveTime,a.isCanRecall=r.isCanRecall,a.updateDate=r.updateDate,a.tasknum=a.getStepNum(r.delegateTaskKey),a.reviewer.current=a.getStepWorker(a.nextTaskKey),"eb1f8c91-960d-4717-84ee-cc3b8137ccd3"==t.currentTransmittedData.departmentId&&"ManagerVerify"==r.delegateTaskKey?a.reviewer.next="签发人":a.reviewer.next=a.getStepWorker(a.getNextStepNode(a.nextTaskKey));for(var n=s.length-1;n>=0;n--)s[n]=JSON.parse(m()(s[n]).replace(/userId/g,"id")),s[n]=JSON.parse(m()(s[n]).replace(/userName/g,"name"));a.contractId=r.contractId,a.object.children=s;var i=r.contractFilePath,l=!1;"1"==r.contractType&&(i=i+"?contractId="+r.contractId+"&projectNum="+r.projectNum,l=!0),null!=r.contractFileName&&""!=r.contractFileName&&(a.contractList[0]={materialName:r.contractFileName,materialPath:i,isGeneratedFile:l}),null!=r.reviewFileName&&""!=r.reviewFileName&&(a.auditOpinionList[0]={}),a.toggleTab()}}).catch(function(e){a.$message({message:e,type:"error",center:!0})}),this.centerDialogVisible=!0},changeObject:function(e){this.object=e},searchAuditOpinionListFunc:function(e){var t=this,a={contractTaskId:e};t.apiAddress("/contract/query/searchHTContractTaskHisTaskInst",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=0;r<a.length;r++){a[r].title=t.getStepName(a[r].taskKey),a[r]=JSON.parse(m()(a[r]).replace(/htcontractTaskHisTaskInstVOList/g,"children"));for(var s=a[r].children,o=0;o<s.length;o++){s[o]=JSON.parse(m()(s[o]).replace(/approveTime/g,"time")),s[o]=JSON.parse(m()(s[o]).replace(/approveUserName/g,"name")),s[o]=JSON.parse(m()(s[o]).replace(/htUserQuestionRecordRelationVOList/g,"persions")),s[o]=JSON.parse(m()(s[o]).replace(/rejectReason/g,"opinion"));for(var n=t.groupBy(s[o].persions,function(e){return[e.userId]}),i=0;i<n.length;i++){n[i].name=n[i].dataList[0].userName,n[i]=JSON.parse(m()(n[i]).replace(/dataList/g,"errorList"));for(var l=n[i].errorList,c=l.length-1;c>=0;c--)l[c]=JSON.parse(m()(l[c]).replace(/questionName/g,"type")),l[c]=JSON.parse(m()(l[c]).replace(/questionNum/g,"num"));n[i].errorList=l}s[o].persions=n}}t.opinionList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},toggleTab:function(){var e=this;this.loadChild=!1,this.$nextTick(function(){e.loadChild=!0})},auditingHTContractTask:function(e){var t=this;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t.object;a.isPass=e,a.updateDate=t.updateDate;var r=t.nextTaskKey;if(t.above&&(r="eb1f8c91-960d-4717-84ee-cc3b8137ccd3"==t.currentTransmittedData.departmentId&&"ManagerVerify"==t.delegateTaskKey?"Signer":t.getNextStepNode(r)),a.onlyOfficeEditKey=t.transmittedData.taskMaterialInfo.key,a.reviewFileName=t.transmittedData.taskMaterialInfo.fileName,a.reviewFilePath=t.transmittedData.taskMaterialInfo.saveUrl,a.submitNode=r,a.userQuestionRecordRelationList=new Array,a=JSON.parse(m()(a).replace(/title/g,"delegateTaskKey")),"0"==e){for(var s=(a=JSON.parse(m()(a).replace(/opinion/g,"rejectReason"))).children.length-1;s>=0;s--)if(a.children[s].errorList)for(var o=a.children[s].errorList.length-1;o>=0;o--)a.children[s].errorList[o].userId=a.children[s].id,a.children[s].errorList[o].userName=a.children[s].name,"0"!=a.children[s].errorList[o].questionNum&&a.userQuestionRecordRelationList.push(a.children[s].errorList[o]);delete a.children}a.contractId=t.contractId,t.apiAddress("/contract/audit/auditingHTContract",a).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.$message({message:e.data.message,type:"success",center:!0}),t.$router.push("/page/work/default"))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}).catch(function(){})},cancel:function(){this.above=!1},searchQuestionList:function(e){var t=this,a={departmentId:e};t.apiAddress("/tenderTask/query/searchQuestionList",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=a.length-1;r>=0;r--)a[r].questionNum=0;t.errorTyleList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},baseContract:function(e){3==e.treeNodeLevel?this.contract=!0:this.contract=!1},checkFile:function(e){this.bus.$emit("checkFile",e)},present:function(){var e=this;e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.bus.$emit("changeform",e._data)}).catch(function(){})},revokeHTContract:function(){var e=this,t={contractId:e.contractId};e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.apiAddress("/contract/revoke/revokeHTContract",t).then(function(t){"failure"==t.data.status?e.$message({message:t.data.message,type:"error",center:!0}):(e.$message({message:t.data.message,type:"success",center:!0}),e.bus.$emit("asideRefresh",{checkedKey:e.currentTransmittedData.id}))}).catch(function(t){e.$message({message:t,type:"error",center:!0})})}).catch(function(){})},download:function(e,t,a){this.downloadFile(e,t,a)},searchReviewFileRelationList:function(e){var t=this,a={businessId:e};t.apiAddress("/commonModule/query/searchReviewFileRelationList",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/fileId/g,"materialId")),a[r]=JSON.parse(m()(a[r]).replace(/reviewFileName/g,"materialName")),a[r]=JSON.parse(m()(a[r]).replace(/reviewFilePath/g,"materialPath"));t.reviewFileRelationList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}}},Eo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right-default"},[a("div",{staticClass:"given-container"},[a("el-collapse",{staticStyle:{margin:"0"},attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[3==e.rowInfoLevel&&e.loadChild&&e.contractList.length>0?a("fileList",{attrs:{res:"contractTemplate",title:"合同",showUploadBtn:!1,list:e.contractList,userType:e.userType,type:"contract",id:e.transmittedData.id}}):e._e(),e._v(" "),3==e.rowInfoLevel&&e.loadChild&&1==e.typeFlag&&e.auditOpinionList.length>0?a("fileList",{attrs:{res:"auditOpinion",title:"审核意见文件",showUploadBtn:!1,list:e.auditOpinionList,userType:e.userType}}):e._e(),e._v(" "),e.legalOpinion?a("el-collapse-item",{attrs:{title:"法务意见",name:"99"}},[a("div",{staticClass:"content"},[a("el-input",{attrs:{type:"textarea",disabled:!0,placeholder:"请输入法务意见"},model:{value:e.legalOpinion,callback:function(t){e.legalOpinion=t},expression:"legalOpinion"}})],1)]):e._e(),e._v(" "),e._l(e.opinionList,function(e,t){return[a("collapse-review-read",{key:t,attrs:{object:e,name:"item.taskKey"}})]}),e._v(" "),e.reviewFileRelationList.length>0?a("fileList",{attrs:{title:"审核意见文件",showUploadBtn:!1,delBtnFlag:!1,list:e.reviewFileRelationList}}):e._e(),e._v(" "),2==e.typeFlag||3==e.typeFlag||4==e.typeFlag||5==e.typeFlag?a("collapse-review-write",{attrs:{name:"write1",object:e.object,errorTyleList:e.errorTyleList},on:{submit:e.changeObject}}):e._e()],2),e._v(" "),a("dialog-submit-audit",{attrs:{above:e.above,reviewer:e.reviewer},on:{cancel:e.cancel}}),e._v(" "),a("el-collapse",[e.list.length>0||7==e.typeFlag?a("el-collapse-item",{staticClass:"invoice",attrs:{title:"上传归档附件"}},[7==e.typeFlag?a("template",{slot:"title"},[e._v("\n          上传归档附件 \n          "),a("i",{staticClass:"el-icon-plus linear",staticStyle:{color:"white",padding:"2px 6px","border-radius":"5px"},on:{click:function(t){return t.stopPropagation(),e.uploadFile(t)}}})]):e._e(),e._v(" "),a("div",{staticClass:"content",attrs:{"hide-upload-container":""}},[a("el-upload",{ref:"uploadDemo",staticClass:"upload-demo",staticStyle:{display:"none"},attrs:{accept:"text",action:"#","file-list":e.list,"show-file-list":!1,"http-request":e.httpRequest,multiple:""}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),a("div",{staticClass:"file-list"},[a("ul",e._l(e.list,function(t,r){return a("li",{key:r,staticClass:"el-upload-list__item is-finished",attrs:{tabindex:"0"}},[a("a",{staticClass:"el-upload-list__item-name",staticStyle:{width:"100%","margin-right":"0"},attrs:{title:t.materialName},on:{click:function(a){return e.browseFile(t)}}},[a("i",{staticClass:"el-icon-document"}),e._v(e._s(t.materialName)+"\n                ")]),e._v(" "),a("a",{staticClass:"el-upload-list__item-name",staticStyle:{width:"60px"}},[e._v("\n                  "+e._s(t.userName)+"\n                ")]),e._v(" "),a("label",{staticClass:"el-upload-list__item-status-label"},[a("i",{staticClass:"el-icon-upload-success el-icon-circle-check"})]),e._v(" "),a("i",{staticClass:"el-icon-download",on:{click:function(a){return a.stopPropagation(),e.download(t.materialPath,t.materialName,t.isGeneratedFile)}}}),e._v(" "),7==e.typeFlag?a("i",{staticClass:"el-icon-close",on:{click:function(a){return a.stopPropagation(),e.deleteFileInfo(t)}}}):e._e()])}),0)])],1)],2):e._e()],1)],1),e._v(" "),a("preview-file",{ref:"previewFile",attrs:{file:e.file}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("p",{staticStyle:{"background-color":"#B6C3CE",padding:"0 20px",width:"100%","margin-bottom":"10px"}},[this.jumpFlag&&(1==e.typeFlag||2==e.typeFlag||3==e.typeFlag||4==e.typeFlag)&&("db5e76f9-9fbd-11e9-a036-0e411fd5cf91"==this.currentTransmittedData.departmentId||"dea3cd5d-9fbd-11e9-a036-0e411fd5cf91"==this.currentTransmittedData.departmentId)||this.jumpFlag&&(1==e.typeFlag||2==e.typeFlag)&&"eb1f8c91-960d-4717-84ee-cc3b8137ccd3"==this.currentTransmittedData.departmentId?a("el-checkbox",{staticStyle:{color:"white"},model:{value:e.above,callback:function(t){e.above=t},expression:"above"}},[e._v("\n        跳级审核\n      ")]):e._e()],1),e._v(" "),7==e.typeFlag?a("el-input",{attrs:{type:"text",placeholder:"请输入档案编号"},model:{value:e.form.fileNumber,callback:function(t){e.$set(e.form,"fileNumber",t)},expression:"form.fileNumber"}}):e._e(),e._v(" "),7==e.typeFlag?a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:e.submitArchiveButton}},[e._v("提交归档")]):e._e(),e._v(" "),2==e.typeFlag||3==e.typeFlag||4==e.typeFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingHTContractTask("1")}}},[e._v("通过")]):e._e(),e._v(" "),5==e.typeFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingHTContractTask("1")}}},[e._v("签发")]):e._e(),e._v(" "),20==e.typeFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.revokeHTContract}},[e._v("撤回")]):e._e(),e._v(" "),2==e.typeFlag||3==e.typeFlag||4==e.typeFlag||5==e.typeFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingHTContractTask("0")}}},[e._v("驳回")]):e._e(),e._v(" "),1==e.typeFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.present}},[e._v("提交审核")]):e._e(),e._v(" "),1==e.typeFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.preview}},[e._v("预览")]):e._e()],1)],1)},staticRenderFns:[]};var Ho={components:{fileList:No,"collapse-review-read":$o},props:["transmittedData","typeFlag"],data:function(){return{limit:1,list:[],currentTransmittedData:this.transmittedData,form:{desc:""},legalOpinion:"",contractList:[],annexList:[],activeNames:"",contract:!1,rowInfoLevel:"1",rowInfoLabel:"sdsd",userType:"2",userContractTemplateType:"0",pageContent:"",opinionList:[],auditOpinionList:[],loadChild:!0,updateDate:""}},watch:{transmittedData:function(){this.currentTransmittedData=this.transmittedData},list:function(){}},mounted:function(){var e=this;this.getContractTemplateInfo(this.transmittedData),e.bus.$on("click",function(t){e.getContractTemplateInfo(t)})},methods:{httpRequest:function(e){var t=new FormData;t.append("file",e.file),t.append("contractId",this.currentTransmittedData.id),this.submitForm(t)},uploadFile:function(){this.$refs.uploadDemo.$children[0].$el.click()},getContractTemplateInfo:function(e){var t=this;t.rowInfoLevel=e.treeNodeLevel,t.contractId=e.contractId,3==e.treeNodeLevel&&(t.searchContractInfo(e.id),t.searchContractArchiveFileInfo(e.id),t.searchAuditOpinionListFunc(e.id))},sealButton:function(){var e=this,t=this,a={contractId:t.currentTransmittedData.id};this.apiAddress("/contract/modify/confirmSealHTContract",a).then(function(a){"failure"==a.data.status?t.$message({message:a.data.message,type:"error",center:!0}):(t.$message({message:a.data.message,type:"success",center:!0}),e.bus.$emit("asideRefresh",{checkedKey:t.currentTransmittedData.id}))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},searchContractInfo:function(e){var t=this,a={contractId:e};t.apiAddress("/contract/query/searchContractInfoById",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{var a=e.data.dataVO;t.legalOpinion=a.legalOpinion,t.updateDate=a.updateDate;var r=a.contractFilePath,s=!1;"1"==a.contractType&&(r=r+"?contractId="+a.contractId+"&projectNum="+a.projectNum,s=!0),null!=a.contractFileName&&""!=a.contractFileName&&(t.contractList[0]={materialName:a.contractFileName,materialPath:r,isGeneratedFile:s}),t.toggleTab()}}).catch(function(e){t.$message({message:e,type:"error",center:!0})}),this.centerDialogVisible=!0},searchContractArchiveFileInfo:function(e){var t=this,a=this,r={contractId:e};a.apiAddress("/contract/query/searchContractArchiveFileList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{for(var r=e.data.dataList,s=r.length-1;s>=0;s--)r[s]=JSON.parse(m()(r[s]).replace(/relationId/g,"materialId"));t.list=r,a.toggleTab()}}).catch(function(e){a.$message({message:e,type:"error",center:!0})}),this.centerDialogVisible=!0},submitForm:function(e){var t=this,a=this;this.apiAddress("/contract/add/insertContractArchiveFileInfo",e).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchContractArchiveFileInfo(a.currentTransmittedData.id)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("success",res.data.message)})},deleteFileInfo:function(e){var t=this,a=this;this.$confirm("此操作将永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress("/contract/delete/deleteContractArchiveFileInfo",{relationId:e.materialId,materialPath:e.materialPath}).then(function(e){"success"==e.data.status?t.searchContractArchiveFileInfo(a.currentTransmittedData.id):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},submitArchiveButton:function(){var e=this;e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){if(null!=e.list&&0!=e.list.length){var t={contractId:e.currentTransmittedData.id,fileNumber:e.form.desc,updateDate:e.updateDate};e.apiAddress("/contract/modify/submitArchiveHTContract",t).then(function(t){"failure"==t.data.status?e.$message({message:t.data.message,type:"error",center:!0}):(e.$message({message:t.data.message,type:"success",center:!0}),e.$router.go(0))}).catch(function(t){e.$message({message:t,type:"error",center:!0})})}else e.$message({message:"请上传归档附件",type:"error",center:!0})}).catch(function(){})},searchAuditOpinionListFunc:function(e){var t=this,a={contractTaskId:e};t.apiAddress("/contract/query/searchHTContractTaskHisTaskInst",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=0;r<a.length;r++){a[r].title=t.getStepName(a[r].taskKey),a[r]=JSON.parse(m()(a[r]).replace(/htcontractTaskHisTaskInstVOList/g,"children"));for(var s=a[r].children,o=0;o<s.length;o++){s[o]=JSON.parse(m()(s[o]).replace(/approveTime/g,"time")),s[o]=JSON.parse(m()(s[o]).replace(/approveUserName/g,"name")),s[o]=JSON.parse(m()(s[o]).replace(/htUserQuestionRecordRelationVOList/g,"persions")),s[o]=JSON.parse(m()(s[o]).replace(/rejectReason/g,"opinion"));for(var n=t.groupBy(s[o].persions,function(e){return[e.userId]}),i=0;i<n.length;i++){n[i].name=n[i].dataList[0].userName,n[i]=JSON.parse(m()(n[i]).replace(/dataList/g,"errorList"));for(var l=n[i].errorList,c=l.length-1;c>=0;c--)l[c]=JSON.parse(m()(l[c]).replace(/questionName/g,"type")),l[c]=JSON.parse(m()(l[c]).replace(/questionNum/g,"num"));n[i].errorList=l}s[o].persions=n}}t.opinionList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},toggleTab:function(){var e=this;this.loadChild=!1,this.$nextTick(function(){e.loadChild=!0})}}},Wo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right-archive"},[a("div",{staticClass:"given-container"},[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[3==e.rowInfoLevel&&e.loadChild&&e.contractList.length>0?a("fileList",{attrs:{res:"contractTemplate",title:"合同",showUploadBtn:!1,list:e.contractList,delBtnFlag:!1}}):e._e(),e._v(" "),e.legalOpinion?a("el-collapse-item",{attrs:{title:"法务意见",name:"99"}},[a("div",{staticClass:"content"},[a("el-input",{attrs:{type:"textarea",disabled:!0,placeholder:"请输入法务意见"},model:{value:e.legalOpinion,callback:function(t){e.legalOpinion=t},expression:"legalOpinion"}})],1)]):e._e(),e._v(" "),e._l(e.opinionList,function(e,t){return a("div",{key:t},[a("collapse-review-read",{attrs:{object:e,name:"item.taskKey"}})],1)}),e._v(" "),a("el-collapse-item",{staticClass:"invoice",attrs:{title:"上传归档附件"}},[a("template",{slot:"title"},[e._v("\n          上传归档附件 \n          "),a("i",{staticClass:"el-icon-plus linear",staticStyle:{color:"white",padding:"2px 6px","border-radius":"5px"},on:{click:function(t){return t.stopPropagation(),e.uploadFile(t)}}})]),e._v(" "),a("div",{staticClass:"content",attrs:{"hide-upload-container":""}},[a("el-upload",{ref:"uploadDemo",staticClass:"upload-demo",staticStyle:{display:"none"},attrs:{accept:"text",action:"#","file-list":e.list,"show-file-list":!1,"http-request":e.httpRequest,multiple:""}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),a("div",{staticClass:"file-list"},[a("ul",e._l(e.list,function(t,r){return a("li",{key:r,staticClass:"el-upload-list__item is-finished",attrs:{tabindex:"0"}},[a("a",{staticClass:"el-upload-list__item-name",staticStyle:{width:"100%","margin-right":"0"},attrs:{title:t.materialName}},[a("i",{staticClass:"el-icon-document"}),e._v(e._s(t.materialName)+"\n                ")]),e._v(" "),a("a",{staticClass:"el-upload-list__item-name",staticStyle:{width:"60px"}},[e._v("\n                  "+e._s(t.userName)+"\n                ")]),e._v(" "),a("label",{staticClass:"el-upload-list__item-status-label"},[a("i",{staticClass:"el-icon-upload-success el-icon-circle-check"})]),e._v(" "),a("i",{staticClass:"el-icon-download",on:{click:function(a){return a.stopPropagation(),e.download(t.materialPath,t.materialName,t.isGeneratedFile)}}}),e._v(" "),1==e.userType&&1==t.isCanDel||2==e.userType?a("i",{staticClass:"el-icon-close",on:{click:function(a){return a.stopPropagation(),e.deleteFileInfo(t)}}}):e._e()])}),0)])],1)],2)],2)],1),e._v(" "),a("div",{staticClass:"btn-group"},[a("el-input",{attrs:{type:"text"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}}),e._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:e.submitArchiveButton}},[e._v("确认归档")])],1)])},staticRenderFns:[]};var Ko={components:{fileList:No,"collapse-review-read":$o},props:["transmittedData","typeFlag"],data:function(){return{currentTransmittedData:this.transmittedData,contractList:[],user:{userId:"123",userName:"小红"},legalOpinion:"",activeNames:"",contract:!1,rowInfoLevel:"1",rowInfoLabel:"sdsd",userType:"0",pageContent:"",opinionList:[],auditOpinionList:[],loadChild:!0,contractId:"",updateDate:""}},watch:{transmittedData:function(){this.currentTransmittedData=this.transmittedData}},mounted:function(){var e=this;this.getContractTemplateInfo(this.transmittedData),e.bus.$on("click",function(t){e.getContractTemplateInfo(t)})},methods:{getContractTemplateInfo:function(e){this.rowInfoLevel=e.treeNodeLevel,this.contractId=e.contractId,3==e.treeNodeLevel&&(this.searchContractInfo(e.id),this.searchAuditOpinionListFunc(e.id))},sealButton:function(){var e=this;e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var t={contractId:e.currentTransmittedData.id,updateDate:e.updateDate};e.apiAddress("/contract/modify/confirmSealHTContract",t).then(function(t){"failure"==t.data.status?e.$message({message:t.data.message,type:"error",center:!0}):(e.$message({message:t.data.message,type:"success",center:!0}),e.$router.push("/page/work/default"))}).catch(function(t){e.$message({message:t,type:"error",center:!0})})}).catch(function(){})},searchContractInfo:function(e){var t=this,a={contractId:e};t.apiAddress("/contract/query/searchContractInfoById",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{var a=e.data.dataVO;t.legalOpinion=a.legalOpinion,t.updateDate=a.updateDate;var r=a.contractFilePath,s=!1;"1"==a.contractType&&(r=r+"?contractId="+a.contractId+"&projectNum="+a.projectNum,s=!0),null!=a.contractFileName&&""!=a.contractFileName&&(t.contractList[0]={materialName:a.contractFileName,materialPath:r,isGeneratedFile:s}),t.toggleTab()}}).catch(function(e){t.$message({message:e,type:"error",center:!0})}),this.centerDialogVisible=!0},searchAuditOpinionListFunc:function(e){var t=this,a={contractTaskId:e};t.apiAddress("/contract/query/searchHTContractTaskHisTaskInst",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=0;r<a.length;r++){a[r].title=t.getStepName(a[r].taskKey),a[r]=JSON.parse(m()(a[r]).replace(/htcontractTaskHisTaskInstVOList/g,"children"));for(var s=a[r].children,o=0;o<s.length;o++){s[o]=JSON.parse(m()(s[o]).replace(/approveTime/g,"time")),s[o]=JSON.parse(m()(s[o]).replace(/approveUserName/g,"name")),s[o]=JSON.parse(m()(s[o]).replace(/htUserQuestionRecordRelationVOList/g,"persions")),s[o]=JSON.parse(m()(s[o]).replace(/rejectReason/g,"opinion"));for(var n=t.groupBy(s[o].persions,function(e){return[e.userId]}),i=0;i<n.length;i++){n[i].name=n[i].dataList[0].userName,n[i]=JSON.parse(m()(n[i]).replace(/dataList/g,"errorList"));for(var l=n[i].errorList,c=l.length-1;c>=0;c--)l[c]=JSON.parse(m()(l[c]).replace(/questionName/g,"type")),l[c]=JSON.parse(m()(l[c]).replace(/questionNum/g,"num"));n[i].errorList=l}s[o].persions=n}}t.opinionList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},toggleTab:function(){var e=this;this.loadChild=!1,this.$nextTick(function(){e.loadChild=!0})}}},Jo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right-seal"},[a("div",{staticClass:"given-container"},[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[3==e.rowInfoLevel&&e.loadChild&&e.contractList.length>0?a("fileList",{attrs:{res:"contractTemplate",title:"合同",showUploadBtn:!1,list:e.contractList,userType:e.userType}}):e._e(),e._v(" "),e.legalOpinion?a("el-collapse-item",{attrs:{title:"法务意见",name:"99"}},[a("div",{staticClass:"content"},[a("el-input",{attrs:{type:"textarea",disabled:!0,placeholder:"请输入法务意见"},model:{value:e.legalOpinion,callback:function(t){e.legalOpinion=t},expression:"legalOpinion"}})],1)]):e._e(),e._v(" "),e._l(e.opinionList,function(e,t){return a("div",{key:t},[a("collapse-review-read",{attrs:{object:e,name:"item.taskKey"}})],1)})],2)],1),e._v(" "),a("div",{staticClass:"btn-group"},[a("el-button",{staticStyle:{padding:"0 20px",width:"50%",position:"absolute",bottom:"20px",left:"25%"},attrs:{type:"primary"},on:{click:e.sealButton}},[e._v("确认盖章")])],1)])},staticRenderFns:[]};var Qo={components:{"right-default":a("VU/8")(Uo,Eo,!1,function(e){a("PHsf"),a("ZDC4")},"data-v-5eb5fe99",null).exports,"right-archive":a("VU/8")(Ho,Wo,!1,function(e){a("8Kkx"),a("2BIY")},"data-v-8a41cb40",null).exports,"right-seal":a("VU/8")(Ko,Jo,!1,function(e){a("Z653"),a("BwtF")},"data-v-8730d89c",null).exports},props:["transmittedData"],data:function(){return{view:"right-default",typeFlag:""}},mounted:function(){var e=this;this.searchContractStsInfo(this.transmittedData),e.bus.$on("click",function(t){e.searchContractStsInfo(t)})},methods:{searchContractStsInfo:function(e){this.rowInfoLevel=e.treeNodeLevel,3==e.treeNodeLevel&&this.getContractStsInfoFunc(e.id)},getContractStsInfoFunc:function(e){var t=this,a={contractId:e};t.apiAddress("/contract/query/searchContractArchiveSts",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{var a=e.data.typeFlag;t.typeFlag=a,"1"!=a?t.bus.$emit("theFormDisabled",!0):t.bus.$emit("theFormDisabled",!1),"2"==a||"3"==a||"4"==a||"5"==a?t.bus.$emit("onlyOfficeFlg",!0):t.bus.$emit("onlyOfficeFlg",!1),t.view="6"==a?"right-seal":"right-default"}}).catch(function(e){t.$message({message:e,type:"error",center:!0})}),this.centerDialogVisible=!0}}},Go={render:function(){var e=this.$createElement;return(this._self._c||e)(this.view,{tag:"component",attrs:{transmittedData:this.transmittedData,typeFlag:this.typeFlag}})},staticRenderFns:[]};var Yo=a("VU/8")(Qo,Go,!1,function(e){a("B0ge"),a("TjfQ")},"data-v-7b39fd3c",null).exports,Xo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"contractNum",label:"合同编号","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"taskName",label:"任务名","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.nodeJump(t.row)}}},[e._v(e._s(t.row.taskName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"jobType",label:"工作类型","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"userName",label:"姓名","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.showProcessPic(t.row)}}},[e._v(e._s(t.row.userName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"userType",label:"人员身份","show-overflow-tooltip":!0}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[a("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1),e._v(" "),a("el-dialog",{attrs:{title:"查看流程图",visible:e.dialogImageVisible,width:"80%"},on:{"update:visible":function(t){e.dialogImageVisible=t}}},[a("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.processPicUrl}})],1)],1)},staticRenderFns:[]};var Zo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"projectNum",label:"项目编号","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"projectName",label:"项目名称","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"contractNum",label:"合同编号","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"contractName",label:"合同名称","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"taskMaterialName",label:"成果文件名称","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"reportNum",label:"成果文件号","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"userName",label:"成果文件负责人","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createDate",label:"签发时间","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"fileNumber",label:"归档编号","show-overflow-tooltip":!0}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[a("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])},staticRenderFns:[]};var en={components:{"table-contract-task-request":a("VU/8")({props:["transmittedData"],mounted:function(){this.searchList(1,10)},data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],projectId:this.SStorage.getItem("/page/work/contract/FoundItem").projectId,tableData:[],contractNumber:"",gutter:40,showImg:!1,imgSrc:"",imgAlt:"",dialogImageVisible:!1,processPicUrl:""}},methods:{nodeJump:function(e){e.businessId=e.taskId,this.SStorage.setItem("/page/work/contract/FoundItem",e),this.bus.$emit("asideRefresh")},showProcessPic:function(e){var t=this;t.apiAddress("/process/getFlowDiagramUrl",{}).then(function(a){t.dialogImageVisible=!0,t.processPicUrl=a.data+"/process/getFlowDiagram?processInstId="+e.processInstId}).catch(function(e){t.stateDialog("error",e)})},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},searchList:function(e,t){var a=this,r={projectId:a.projectId,pageNumber:e,pageSize:t};a.apiAddress("/project/query/searchParticipantsInfoList",r).then(function(e){if("failure"==e.data.status)a.stateDialog("error",e.data.message);else{var t=e.data.dataList;a.tableData=t,a.total=e.data.dataCount}}).catch(function(e){a.stateDialog("error",e)})}}},Xo,!1,function(e){a("SeMh"),a("tnAa")},null,null).exports,"table-result-file":a("VU/8")({props:["transmittedData"],mounted:function(){this.excSearchResultFileLedgerInfoList(1,10)},data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],projectId:this.SStorage.getItem("/page/work/contract/FoundItem").projectId,tableData:[],contractNumber:"",gutter:40,showImg:!1,imgSrc:"",imgAlt:""}},methods:{handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},excSearchResultFileLedgerInfoList:function(e,t){var a=this,r={projectId:a.projectId,pageNumber:e,pageSize:t};a.apiAddress("/project/query/excSearchResultFileLedgerInfoList",r).then(function(e){if("failure"==e.data.status)a.stateDialog("error",e.data.message);else{var t=e.data.dataList;a.tableData=t,a.total=e.data.dataCount}}).catch(function(e){a.stateDialog("error",e)})}}},Zo,!1,function(e){a("SsEk"),a("YUdF")},null,null).exports},props:["transmittedData"],data:function(){return{projectId:this.SStorage.getItem("/page/work/contract/FoundItem").projectId,contractNumber:"",gutter:40,showImg:!1,imgSrc:"",imgAlt:"",active:"contract-task-request"}},methods:{handleClick:function(e,t){this.active=e.name},exportFunc:function(){if("contract-task-request"===this.active){var e=document.createElement("iframe");e.src="/project/export/excExportParticipantsInfoList?projectId="+this.projectId,e.style.display="none",document.body.appendChild(e)}else{var t=document.createElement("iframe");t.src="/project/export/excExportResultFileLedgerInfoList?projectId="+this.projectId,t.style.display="none",document.body.appendChild(t)}}}},tn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v("项目编号:"+e._s(e.transmittedData.projectNumber))])])],1),e._v(" "),e.showImg?a("div",{staticClass:"img-failure"},[a("img",{attrs:{src:e.imgSrc,alt:e.imgAlt}}),e._v(" "),a("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.imgAlt))])]):e._e()],1),e._v(" "),a("div",{staticClass:"form-block item",staticStyle:{"padding-bottom":"56px",position:"relative"}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-tab-pane",{attrs:{label:"任务台账",name:"contract-task-request",lazy:!0}}),e._v(" "),a("el-tab-pane",{attrs:{label:"成果文件台账",name:"result-file",lazy:!0}})],1),e._v(" "),a("div",{staticClass:"excelBtn"},[a("el-button",{staticClass:"linear ",attrs:{type:"primary"},on:{click:e.exportFunc}},[e._v("导出")])],1),e._v(" "),a("div",{staticClass:"item-tab-bor linear"}),e._v(" "),a("table-"+e.active,{ref:e.active,tag:"component"})],1)])},staticRenderFns:[]};var an=a("VU/8")(en,tn,!1,function(e){a("CCPV"),a("2LHb")},null,null).exports,rn={components:{fileList:No},data:function(){return{fileList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],user:{userId:"123",userName:"小红"},activeNames:"",list:[],contract:!1,rowInfoLevel:"1",rowInfoLabel:"",userType:"1",pageContent:""}},mounted:function(){var e=this;e.bus.$on("click1",function(t){e.baseContract(t),e.checkRowInfo(t),e.searchMaterialTypeList()})},methods:{checkRowInfo:function(e){if(this.rowInfo=e,this.rowInfoLevel=e.treeNodeLevel,this.rowInfoLabel=e.label,this.pageContent=e.pageContent,"6"==e.treeNodeLevel&&"A3"==e.pageContent){var t=this,a={relationId:e.id};t.apiAddress("/tenderTask/query/searchTenderTaskPeriodMaterialList",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/relationId/g,"materialId"));t.fileList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}},searchMaterialTypeList:function(){var e=this;e.apiAddress("/tenderTask/query/searchMaterialTypeList",{}).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{for(var a=t.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/fileTypeId/g,"id")),a[r]=JSON.parse(m()(a[r]).replace(/fileTypeName/g,"label"));e.fileTypeList=a}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},deleteFileInfo:function(e){var t=this;this.$confirm("此操作将永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t,r={relationId:e.materialId,materialPath:e.materialPath};t.apiAddress("/tenderTask/delete/deleteTenderTaskPeriodMaterialInfo",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.$message({message:e.data.message,type:"success",center:!0}),a.checkRowInfo(a.rowInfo))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})}).catch(function(){})},downloadMatrial:function(e){this.downloadFile(e.url,e.name)},submitForm:function(e){var t=this;e.append("taskPeriodId",this.rowInfo.id),e.append("fileType",e.get("select")),e.delete("select");var a=this;this.apiAddress("/task/add/insertTaskPeriodMaterialInfo",e).then(function(e){"failure"==e.data.status?t.stateDialog("success",e.data.message):(t.stateDialog("success",e.data.message),a.checkRowInfo(a.rowInfo))}).catch(function(e){t.stateDialog("success",res.data.message)})},baseContract:function(e){3==e.treeNodeLevel?this.contract=!0:this.contract=!1},download:function(){var e=new FormData;e.append("filePathName","/a.jpg"),i.a.post("/commonModule/downloadFile",e)},checkFile:function(e){this.bus.$emit("checkFile",e)},present:function(){this.bus.$emit("changeform")}}},sn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-work-contract-foundItem"},[a("div",{staticClass:"given-container"},[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[6==e.rowInfoLevel&&"A3"==e.pageContent?a("fileList",{attrs:{title:e.rowInfoLabel,showUploadBtn:!0,options:e.fileTypeList,list:e.fileList,userType:e.userType},on:{del:e.deleteFileInfo,submit:e.submitForm}}):e._e(),e._v(" "),e._l(e.list,function(t,a){return e._e()}),e._v(" "),e._e(),e._v(" "),e._e()],2)],1),e._v(" "),a("div",{staticClass:"btn-group"},[e._e()],1)])},staticRenderFns:[]};var on=a("VU/8")(rn,sn,!1,function(e){a("ZE7G"),a("U49V")},"data-v-25df83e6",null).exports,nn={components:{a3:Mr,office:_o},props:["currentTransmitData","office","correctTaskMaterialFlag"],data:function(){return{projectName:"",contractNum:"",outcomeDocNo:"",tableListData:[],gutter:40}},watch:{currentTransmitData:{handler:function(e){this.currentTransmitData=e},immeditate:!0,deep:!0},office:{handler:function(e){this.office=e,console.log("office",this.office)},immediate:!0,deep:!0},correctTaskMaterialFlag:{handler:function(e){this.correctTaskMaterialFlag=e},immediate:!0,deep:!0}},created:function(){this.init(this.currentTransmitData.relationId),this.searchHTTaskHisTaskInst(this.currentTransmitData.relationId)},methods:{init:function(e){var t=this;t.apiAddress("/task/query/searchProjectNumContractNumFileNumberByTaskPeriodId",{relationId:e}).then(function(e){if("success"==e.data.status){var a=e.data.dataVO;t.projectName=a.projectName,t.contractNum=a.contractNum,t.outcomeDocNo=a.outcomeDocNo}else t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},searchHTTaskHisTaskInst:function(e){var t=this,a=this;a.apiAddress("/task/query/searchHTTaskHisTaskInst",{relationId:e}).then(function(e){if("failure"==e.data.status)t.stateDialog("error",e.data.message);else{for(var r=e.data.dataList,s=0;s<r.length;s++){r[s].title=a.getStepName(r[s].taskKey),r[s]=JSON.parse(m()(r[s]).replace(/htTaskPeriodVOList/g,"children"));for(var o=r[s].children,n=0;n<o.length;n++){o[n]=JSON.parse(m()(o[n]).replace(/approveTime/g,"time")),o[n]=JSON.parse(m()(o[n]).replace(/approveUserName/g,"name")),o[n]=JSON.parse(m()(o[n]).replace(/htUserQuestionRecordRelationVOList/g,"persions")),o[n]=JSON.parse(m()(o[n]).replace(/rejectReason/g,"opinion"));for(var i=a.groupBy(o[n].persions,function(e){return[e.userId]}),l=0;l<i.length;l++){i[l].name=i[l].dataList[0].userName,i[l]=JSON.parse(m()(i[l]).replace(/dataList/g,"errorList"));for(var c=i[l].errorList,u=c.length-1;u>=0;u--)c[u]=JSON.parse(m()(c[u]).replace(/questionName/g,"type")),c[u]=JSON.parse(m()(c[u]).replace(/questionNum/g,"num"));i[l].errorList=c}o[n].persions=i}}a.tableListData=r}}).catch(function(e){t.stateDialog("error",e)})}}},ln={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task",staticStyle:{height:"100%"}},[e.office.showOnlyOfficeCompFlag?e._e():a("div",{staticClass:"title form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v("工作步骤说明:")])]),e._v(" "),a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v(e._s(e.currentTransmitData.periodDesc))])])],1)],1),e._v(" "),e.correctTaskMaterialFlag?e._e():a("div",{staticClass:"form-block form-block__row--auto-width",staticStyle:{height:"calc(100% - 91px)",padding:"0"}},[a("a3",{attrs:{projectName:e.projectName,contractNum:e.contractNum,outcomeDocNo:e.outcomeDocNo,tableListData:e.tableListData}})],1),e._v(" "),e.office.showOnlyOfficeCompFlag?a("div",{staticClass:"form-block form-block__row--auto-width",staticStyle:{height:"700px"}},[a("office",{attrs:{file:e.office.taskMaterialInfo}})],1):e._e()])},staticRenderFns:[]};var cn=a("VU/8")(nn,ln,!1,function(e){a("7LEo")},null,null).exports,un={components:{"collapse-review-read":$o},props:["object","name","errorTyleList"],mounted:function(){},data:function(){return{count:0,countObject:W()({},this.object),countId:"",title:""}},watch:{object:{handler:function(){this.countObject=W()({},this.object)},deep:!0,immediate:!0}},methods:{submit:function(e){this.$emit("submit",W()({},this.countObject))}}},pn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-collapse-item",{staticClass:"collapseReviewWrite",attrs:{name:e.name}},[a("template",{slot:"title"},[a("span",[e._v(e._s(e.countObject.title))])]),e._v(" "),a("div",{staticClass:"width-94"}),e._v(" "),a("div",{staticClass:"aa"},[a("el-collapse",{attrs:{accordion:""}},[e.countObject.ManagerVerify?a("collapse-review-read",{attrs:{object:e.countObject.ManagerVerify}}):e._e(),e._v(" "),e.countObject.QualityVerify?a("collapse-review-read",{attrs:{object:e.countObject.QualityVerify}}):e._e(),e._v(" "),e.countObject.GenerManagerVerify?a("collapse-review-read",{attrs:{object:e.countObject.GenerManagerVerify}}):e._e()],1)],1)],2)},staticRenderFns:[]};var mn=a("VU/8")(un,pn,!1,function(e){a("hsrK"),a("0pxe")},"data-v-b3fbb6a2",null).exports,dn={components:{fileList:No,"dialog-submit-audit":Vo,"collapse-review-read":$o,"collapse-review-write":zo,collapseReviewWriteNoPoints:mn,previewFile:Jt},props:["currentTransmitData","jurisdiction","typeFlag","auditFileList","errorTyleList","postil"],data:function(){return{type:"task",dynamicValidateForm:{fileNumber:""},formData:new FormData,obj:{title:"重新编辑审核"},gutter:40,activeNames:"white1",fileList:[],periodType:"",fileTypeList:[],jumpFlag:!1,above:!1,reviewer:{current:"",next:""},opinionList:[],object:{title:"",opinion:"",children:[{id:"",name:"",errorList:[{num:"",type:""}]}]},nextTaskKey:"",delegateTaskKey:"ManagerVerify",delegateTaskId:"",isCanRecall:null,taskPeriodId:"",departmentId:"",counselTypeId:"",relationId:"",list:[],loadChild:!0,isSubmitReedit:"",showUploadBtnFlg:!1,delBtnFlag:!1,updateDate:"",approveTime:null,isIgnore:"",isFinish:"",file:"",isMainHeadFlag:"",A3SubmitAuditBtnFlag:!1,A3RecallBtnFlag:!1,A3PassBtnFlag:!1,A3IssueBtnFlag:!1,A3RejectBtnFlag:!1}},watch:{currentTransmitData:{handler:function(e){this.currentTransmittedData=e,this.init()},immediate:!0,deep:!0},typeFlag:{handler:function(e){this.typeFlag=e,this.init()},immeditate:!0,deep:!0},jurisdiction:{handler:function(e){this.jurisdiction=e},immediate:!0,deep:!0},auditFileList:{handler:function(e){this.auditFileList=e,console.log("auditFileList",this.auditFileList)},immediate:!0,deep:!0},errorTyleList:{handler:function(e){this.errorTyleList=e},immediate:!0,deep:!0},postil:{handler:function(e){this.postil=e},immediate:!0,deep:!0}},methods:{preview:function(e){var t=this.nextTaskKey;this.above&&(t=this.getNextStepNode(t));var a={relationId:this.relationId,materialIds:e.checkbox,submitNode:t,periodName:this.currentTransmittedData.label};this.bus.$emit("preview",a)},browseFile:function(e){var t=this;e.materialPath?(t.file=t.tool.deepCopy(e,t.tool.deepCopy),t.$refs.dialogBrowseFile.show=!0):t.stateDialog("error","该文件暂时不能浏览")},init:function(){var e=this;e.above=!1,e.relationId=e.currentTransmittedData.relationId,e.taskId=e.currentTransmittedData.taskId,e.periodType=e.currentTransmittedData.periodType,e.departmentId=e.currentTransmittedData.departmentId,e.counselTypeId=e.currentTransmittedData.counselTypeId,e.isMainHeadFlag=e.currentTransmittedData.isMainHeadFlag,e.showUploadBtnFlg=("1"===e.typeFlag||"15"===e.typeFlag&&"6"!==currentState)&&""===e.jurisdiction.verifyState,e.delBtnFlag=!e.showUploadBtnFlg,e.A3SubmitAuditBtnFlag="1"===e.typeFlag&&""===e.jurisdiction.verifyState,e.A3RecallBtnFlag="20"===e.typeFlag&&""===e.jurisdiction.verifyState,e.A3PassBtnFlag=("2"===e.typeFlag||"3"===e.typeFlag||"4"===e.typeFlag)&&""===e.jurisdiction.verifyState,e.A3IssueBtnFlag="5"===e.typeFlag&&""===e.jurisdiction.verifyState,e.A3RejectBtnFlag=("2"===e.typeFlag||"3"===e.typeFlag||"4"===e.typeFlag||"5"===e.typeFlag)&&""===e.jurisdiction.verifyState,console.log("typeFlag为",e.typeFlag),console.log("第",e.currentTransmittedData.treeNodeLevel+" 级："),e.searchMaterialList(e.relationId,e.typeFlag),e.searchMaterialTypeList(),e.searchTaskPeriodDetailInfo(e.relationId),e.searchHTTaskHisTaskInst(e.relationId)},changeObject:function(e){this.object=e},cancel:function(){this.above=!1},recallTaskA3Period:function(){var e=this;this.$confirm("是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.apiAddress("/task/modify/recallTaskA3Period",{relationId:e.relationId,updateDate:e.updateDate}).then(function(t){"failure"==t.data.status?e.stateDialog("error",t.data.message):(e.stateDialog("success",t.data.message),e.$router.go(0))}).catch(function(t){e.stateDialog("error",t)})}).catch(function(){})},submitAuditA3Period:function(e){var t=this;t.$confirm("是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){if(null!=t.fileList&&0!=t.fileList.length){var e=t.nextTaskKey;t.above&&(e=t.getNextStepNode(e)),t.apiAddress("/task/modify/submitAuditA3Period",{relationId:t.relationId,submitNode:e,periodName:t.currentTransmittedData.label}).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.$refs.submit.show=!1,t.$router.push("/page/work/default")):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}else t.$message({message:"请上传"+t.currentTransmittedData.label+"文件",type:"error",center:!0})}).catch(function(){})},submit:function(e){var t=this;t.$confirm("是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.$nextTick(function(){t.apiAddress("/task/query/searchAllMaterialTypeAndMaterialList",{relationId:t.relationId}).then(function(a){if("failure"==a.data.status)t.stateDialog("error",a.data.message);else{var r=!0;if(!e)for(var s=a.data.dataList,o=0;o<s.length;o++)if(0!=s[o].children.length){t.$refs.submit.list=s,t.$refs.submit.show=!0,r=!1;break}if(console.log("isSubmit",r),r){t.submitAuditOutcomeDocumentPeriod({checkbox:[]},e)}}}).catch(function(e){t.stateDialog("error",e)})})}).catch(function(){})},auditingTaskA3Period:function(e){var t=this;t.$confirm("是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t.object;a.isPass=e,a.updateDate=t.updateDate;var r=t.nextTaskKey;if(t.above&&(r=t.getNextStepNode(r)),a.onlyOfficeEditKey=t.postil.onlyOfficeEditKey,a.reviewFileName=t.postil.reviewFileName,a.reviewFilePath=t.postil.reviewFilePath,a.submitNode=r,a.userQuestionRecordRelationList=new Array,a=JSON.parse(m()(a).replace(/title/g,"delegateTaskKey")),"0"==e){for(var s=(a=JSON.parse(m()(a).replace(/opinion/g,"rejectReason"))).children.length-1;s>=0;s--)if(a.children[s].errorList)for(var o=a.children[s].errorList.length-1;o>=0;o--)a.children[s].errorList[o].userId=a.children[s].id,a.children[s].errorList[o].userName=a.children[s].name,"0"!=a.children[s].errorList[o].questionNum&&a.userQuestionRecordRelationList.push(a.children[s].errorList[o]);delete a.children}a.relationId=t.relationId,t.apiAddress("/task/add/auditingTaskA3Period",a).then(function(e){"failure"==e.data.status?t.stateDialog("error",e.data.message):(t.stateDialog("success",e.data.message),t.$router.push("/page/work/default"))}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},searchMaterialList:function(e,t){var a=this;a.apiAddress("/task/query/searchTaskPeriodMaterialList",{relationId:e}).then(function(e){if("success"==e.data.status){for(var r=e.data.dataList,s=r.length-1;s>=0;s--)if(r[s]=JSON.parse(m()(r[s]).replace(/relationId/g,"materialId")),a.departmentId===a.superviseDeptId)"1"!==t&&"15"!==t||"1"!==r[s].isReview||(r[s].isCanDel="0");else{if("1"==t)r[s].isCanDel="1";else{if("15"==t)continue;r[s].isCanDel="0"}"1"===a.periodType&&"6"===a.typeFlag&&"1"!==a.isSubmitReedit&&(r[s].isCanDel="1")}a.fileList=r}else a.stateDialog("error",e.data.message)}).catch(function(e){a.stateDialog("error",e)})},searchMaterialTypeList:function(){var e=this,t={departmentId:this.departmentId,counselTypeId:this.counselTypeId};this.apiAddress("/tenderTask/query/searchMaterialTypeList",t).then(function(t){if("success"==t.data.status){for(var a=t.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/fileTypeId/g,"id")),a[r]=JSON.parse(m()(a[r]).replace(/fileTypeName/g,"label"));e.fileTypeList=a}else e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})},searchHTTaskHisTaskInst:function(e){var t=this,a=this;a.apiAddress("/task/query/searchHTTaskHisTaskInst",{relationId:e}).then(function(e){if("failure"==e.data.status)t.stateDialog("error",e.data.message);else{for(var r=e.data.dataList,s=0;s<r.length;s++){r[s].title=a.getStepName(r[s].taskKey),r[s]=JSON.parse(m()(r[s]).replace(/htTaskPeriodVOList/g,"children"));for(var o=r[s].children,n=0;n<o.length;n++){o[n]=JSON.parse(m()(o[n]).replace(/approveTime/g,"time")),o[n]=JSON.parse(m()(o[n]).replace(/approveUserName/g,"name")),o[n]=JSON.parse(m()(o[n]).replace(/htUserQuestionRecordRelationVOList/g,"persions")),o[n]=JSON.parse(m()(o[n]).replace(/rejectReason/g,"opinion"));for(var i=a.groupBy(o[n].persions,function(e){return[e.userId]}),l=0;l<i.length;l++){i[l].name=i[l].dataList[0].userName,i[l]=JSON.parse(m()(i[l]).replace(/dataList/g,"errorList"));for(var c=i[l].errorList,u=c.length-1;u>=0;u--)c[u]=JSON.parse(m()(c[u]).replace(/questionName/g,"type")),c[u]=JSON.parse(m()(c[u]).replace(/questionNum/g,"num"));i[l].errorList=c}o[n].persions=i}}a.opinionList=r}}).catch(function(e){t.stateDialog("error",e)})},searchTaskPeriodDetailInfo:function(e){var t=this,a=this,r={relationId:e};a.apiAddress("/task/query/searchTaskPeriodDetailInfoByRelationId",r).then(function(e){if("failure"==e.data.status)t.stateDialog("error",e.data.message);else{var r=e.data.dataVO;a.object.title=a.getStepName(r.delegateTaskKey),a.nextTaskKey=r.submitNode,a.delegateTaskKey=r.delegateTaskKey,a.updateDate=r.updateDate,a.isCanRecall=r.isCanRecall,a.isSubmitReedit=r.isSubmitReedit,a.approveTime=r.approveTime;var s=r.userList;if(void 0!=s)for(var o=s.length-1;o>=0;o--)s[o].errorList=[],s[o]=JSON.parse(m()(s[o]).replace(/userId/g,"id")),s[o]=JSON.parse(m()(s[o]).replace(/userName/g,"name"));a.reviewer.current=a.getStepWorker(a.nextTaskKey),a.reviewer.next=a.getStepWorker(a.getNextStepNode(a.nextTaskKey)),a.object.children=s}}).catch(function(e){t.stateDialog("error",e)})},deleteFileInfo:function(e){var t=this;t.$confirm("此操作将永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress("/task/delete/deleteTaskPeriodMaterialInfo",{relationId:e.materialId,materialPath:e.materialPath,taskId:t.taskId}).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchMaterialList(t.relationId,t.typeFlag)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},downloadMatrial:function(e){this.downloadFile(e.url,e.name)},submitForm:function(e){var t=this;e.append("taskPeriodId",this.relationId),e.append("fileType",e.get("select")),e.delete("select"),e.append("periodType",this.currentTransmittedData.periodType),this.apiAddress("/task/add/insertTaskPeriodMaterialInfo",e).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchMaterialList(t.relationId,t.typeFlag)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},checkFile:function(e){this.bus.$emit("checkFile",e)},present:function(){this.bus.$emit("changeform")}}},fn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"taskR"},[a("div",{staticClass:"given-container"},[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},["6"===e.currentTransmittedData.treeNodeLevel&&"5"!==e.periodType&&"3"!==e.periodType?a("fileList",{attrs:{title:e.currentTransmittedData.label,showUploadBtn:e.showUploadBtnFlg,options:e.fileTypeList,list:e.fileList,delBtnFlag:e.delBtnFlag,type:e.type,id:e.taskId,periodTypeBoolean:"1"!==e.currentTransmittedData.periodType,periodType:e.currentTransmittedData.periodType},on:{del:e.deleteFileInfo,submit:e.submitForm}}):e._e(),e._v(" "),e._l(e.opinionList,function(t,r){return"2"!==e.periodType&&"3"!==e.periodType||"20"===e.typeFlag?e._e():[a("collapse-review-read",{key:r,attrs:{object:t,name:"item.taskKey"}})]}),e._v(" "),"2"!==e.typeFlag&&"3"!==e.typeFlag&&"4"!==e.typeFlag&&"5"!==e.typeFlag||"2"!==e.periodType&&("3"!==e.periodType||"1"===e.isSubmitReedit)?e._e():a("collapse-review-write",{attrs:{object:e.object,name:"white1",noPenalty:!1,errorTyleList:e.errorTyleList},on:{submit:e.changeObject}}),e._v(" "),!("1"===e.isMainHeadFlag&&e.auditFileList.length>0)||"2"!==e.periodType&&"3"!==e.periodType||"0"!==e.typeFlag&&"1"!==e.typeFlag&&"15"!==e.typeFlag?e._e():a("fileList",{attrs:{title:"审核意见文件",showUploadBtn:!1,delBtnFlag:!1,list:e.auditFileList}})],2)],1),e._v(" "),a("dialog-submit-audit",{ref:"submit",attrs:{above:e.above,reviewer:e.reviewer},on:{submit:e.submitAuditA3Period,cancel:e.cancel}}),e._v(" "),a("preview-file",{ref:"dialogBrowseFile",attrs:{file:e.file,type:e.type,id:e.taskId}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("p",{staticStyle:{"background-color":"#B6C3CE",padding:"0 20px",width:"100%","margin-bottom":"10px"}}),e._v(" "),a("p",{staticStyle:{"background-color":"#B6C3CE",padding:"0 20px",width:"100%","margin-bottom":"10px"}},[((null==e.approveTime&&"1"!==e.isSubmitReedit||""===e.approveTime)&&"1"===e.typeFlag||("2"===e.typeFlag||"3"===e.typeFlag)&&"1"!==e.isSubmitReedit)&&""===e.jurisdiction.verifyState?a("el-checkbox",{staticStyle:{color:"white"},model:{value:e.above,callback:function(t){e.above=t},expression:"above"}},[e._v("\n        跳级审核\n      ")]):e._e()],1),e._v(" "),e.A3SubmitAuditBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.submitAuditA3Period}},[e._v("提交审核")]):e._e(),e._v(" "),e.A3RecallBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.recallTaskA3Period}},[e._v("撤回")]):e._e(),e._v(" "),e.A3PassBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingTaskA3Period("1")}}},[e._v("通过")]):e._e(),e._v(" "),e.A3IssueBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingTaskA3Period("1")}}},[e._v("签发")]):e._e(),e._v(" "),e.A3RejectBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingTaskA3Period("0")}}},[e._v("驳回")]):e._e()],1)],1)},staticRenderFns:[]};var gn=a("VU/8")(dn,fn,!1,function(e){a("gZm0"),a("TJsA")},"data-v-4881f0eb",null).exports,hn={data:function(){return{show:!1,form:{userName:"",startDate:"",workContent:""},rules:{userName:[{required:!0,message:"请输入人员名称",trigger:"blur"}],startDate:[{required:!0,message:"请输入入场时间",trigger:"blur"}],workContent:[{required:!0,message:"请输入工作内容",trigger:"blur"}]}}},methods:{handleClose:function(e){this.$refs[e].resetFields()},submit:function(e){var t=this;t.$refs[e].validate(function(a){a&&(t.$emit("submit",W()({},t.form)),t.show=!1,t.handleClose(e))})}}},vn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"dialogStart--personnelAdjustment",attrs:{title:"入场",visible:e.show,width:"600px",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t},close:function(t){return e.handleClose("form")}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"100px","inline-message":!0}},[a("div",{staticClass:"item-serial"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"人员名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入人员名称"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"入场时间",prop:"startDate"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"请输入入场时间"},model:{value:e.form.startDate,callback:function(t){e.$set(e.form,"startDate",t)},expression:"form.startDate"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"工作内容",prop:"workContent"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入工作内容"},model:{value:e.form.workContent,callback:function(t){e.$set(e.form,"workContent",t)},expression:"form.workContent"}})],1)],1)],1)],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submit("form")}}},[e._v("确认")])],1)],1)},staticRenderFns:[]};var bn={props:["form"],data:function(){return{show:!1,currentForm:this.form||{relationId:"",userName:"",startDate:"",endDate:""},rules:{userName:[{required:!0,message:"请输入人员名称",trigger:"blur"}],startDate:[{required:!0,message:"请输入入场时间",trigger:"blur"}],endDate:[{required:!0,message:"请输入离场时间",trigger:"blur"}]}}},watch:{form:function(){this.currentForm=this.form}},methods:{handleClose:function(e){this.$refs[e].resetFields()},submit:function(e){var t=this;t.$refs[e].validate(function(a){a&&(t.$emit("submit",W()({},t.currentForm)),t.show=!1,t.handleClose(e))})}}},yn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"dialogEnd--personnelAdjustment",attrs:{title:"离场",visible:e.show,width:"600px",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t},close:function(t){return e.handleClose("currentForm")}}},[a("el-form",{ref:"currentForm",staticClass:"demo-ruleForm",attrs:{model:e.currentForm,"status-icon":"",rules:e.rules,"label-width":"100px","inline-message":!0}},[a("div",{staticClass:"item-serial"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"人员名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入人员名称",disabled:""},model:{value:e.currentForm.userName,callback:function(t){e.$set(e.currentForm,"userName",t)},expression:"currentForm.userName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"入场时间",prop:"startDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请输入入场时间",disabled:""},model:{value:e.currentForm.startDate,callback:function(t){e.$set(e.currentForm,"startDate",t)},expression:"currentForm.startDate"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"离场时间",prop:"endDate"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"请输入离场时间"},model:{value:e.currentForm.endDate,callback:function(t){e.$set(e.currentForm,"endDate",t)},expression:"currentForm.endDate"}})],1)],1)],1)],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submit("currentForm")}}},[e._v("确认")])],1)],1)},staticRenderFns:[]};var _n={components:{"dialog-start":a("VU/8")(hn,vn,!1,function(e){a("Aa9v")},null,null).exports,"dialog-end":a("VU/8")(bn,yn,!1,function(e){a("cHak")},null,null).exports},props:["transmittedData"],data:function(){return{gutter:40,form:{workContent:""},formDialogEnd:{userName:"",startDate:"",endDate:""},tableData:[],total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],relationId:""}},mounted:function(){this.searchList()},methods:{searchList:function(){var e=this;this.apiAddress("/personnelAdjustment/queryAll",{relationId:this.transmittedData.relationId,pageSize:this.pageSize,pageNumber:this.currentPage}).then(function(t){"success"==t.data.status&&(e.tableData=t.data.pagedData.dataList,e.total=t.data.pagedData.dataCount)}).catch(function(t){e.stateDialog("error",t)})},addPersonnel:function(){this.$refs.dialogStart.show=!0},leave:function(e){var t=this;console.log("tableData",t.tableData),t.formDialogEnd.userName=e.userName,t.formDialogEnd.startDate=e.startDate,t.formDialogEnd.relationId=e.relationId,t.$refs.dialogEnd.show=!0},submitDialogStart:function(e){var t=this;t.apiAddress("/personnelAdjustment/add",{relationId:this.transmittedData.relationId,userName:e.userName,startDate:e.startDate,workContent:e.workContent}).then(function(e){"success"==e.data.status?(t.$refs.dialogStart.show=!1,t.searchList(),t.stateDialog("success",e.data.message)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},submitDialogEnd:function(e){var t=this;console.log("离场:"+e.endDate),t.apiAddress("/personnelAdjustment/modifyLeaveTime",{relationId:e.relationId,endDate:e.endDate}).then(function(e){"success"==e.data.status?(t.$refs.dialogEnd.show=!1,t.searchList(),t.stateDialog("success",e.data.message)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},rowClass:function(e){var t=e.row;e.column,e.rowIndex;if(4===e.columnIndex)return"王小虎1"==t.staffName||"王小虎2"==t.staffName?"color:#C0C4CC":"color:#06A1EE"},handleSizeChange:function(e){this.pageSize=e,this.searchList()},handleCurrentChange:function(e){this.currentPage=e,this.searchList()}}},wn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"personnelAdjustment--task"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},["1"===e.transmittedData.currentState&&"1"!=e.transmittedData.isInvalidFlag&&"1"===e.transmittedData.isMainHeadFlag&&"1"!==e.transmittedData.projectSts?a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("el-button",{staticClass:"btn-please-chapter",attrs:{type:"primary"},on:{click:e.addPersonnel}},[e._v("添加人员\n          ")])],1):e._e()],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","cell-style":e.rowClass}},[a("el-table-column",{attrs:{prop:"userName",label:"人员姓名",align:"center",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"workContent",label:"工作内容",align:"center",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"startDate",label:"入场日期",width:"100",align:"center",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"endDate",label:"离场日期",width:"100",align:"center",resizable:!1}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"100",align:"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.endDate||"1"!==e.transmittedData.currentState||"1"==e.transmittedData.isInvalidFlag||"1"!==e.transmittedData.isMainHeadFlag||"1"===e.transmittedData.projectSts?a("span",{staticClass:"leave2"},[e._v("人员离场"+e._s(t.row.name))]):a("span",{staticClass:"leave",on:{click:function(a){return e.leave(t.row)}}},[e._v("人员离场"+e._s(t.row.name))])]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen",staticStyle:{"margin-top":"10px"}},[a("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)],1)],1)],1)]),e._v(" "),a("dialog-start",{ref:"dialogStart",on:{submit:e.submitDialogStart}}),e._v(" "),a("dialog-end",{ref:"dialogEnd",attrs:{form:e.formDialogEnd},on:{submit:e.submitDialogEnd}})],1)},staticRenderFns:[]};var Cn=a("VU/8")(_n,wn,!1,function(e){a("fajA"),a("GAau"),a("POkZ")},"data-v-8fc04efe",null).exports,kn={form:{projectName:"",projectNum:"",purchaser:"",agentOrg:"",purchaserType:"",expertOpinion:"",expertSign:"",proveTime:"",remark:""},rules:{purchaser:[{required:!0,message:"请输入采购人",trigger:"blur"}],agentOrg:[{required:!0,message:"请输入采购代理机构",trigger:"blur"}],purchaserType:[{required:!0,message:"请输入采购类别",trigger:"blur"}],expertOpinion:[{required:!0,message:"请输入专家论证意见",trigger:"blur"}],expertSign:[{required:!0,message:"请输入论证专家签字",trigger:"blur"}],proveTime:[{required:!0,message:"请输入论证时间",trigger:"blur"}],remark:[{required:!0,message:"请输入备注",trigger:"blur"}]}},Fn={props:{data:{type:Object,default:function(){return{form:this.tool.deepCopy(kn.form,this.tool.deepCopy)}}},disabled:{type:Boolean,default:!1}},data:function(){return{source:this.tool.deepCopy(kn,this.tool.deepCopy),gutter:20,form:this.tool.deepCopy(this.data?this.data.form:kn.form,this.tool.deepCopy),rules:this.tool.deepCopy(kn.rules,this.tool.deepCopy)}},watch:{data:{handler:function(){this.setFormData(this.data)},immediate:!0}},methods:{submit:function(){this.$emit("submit",this.getFormData("form"))},getFormData:function(e){var t=this;return new la.a(function(a,r){t.$refs[e].validate(function(e){e?a(t.tool.deepCopy(t.form,t.tool.deepCopy)):r(null)})})},setFormData:function(e){this.form=this.tool.deepCopy(e?e.form:this.source.form,this.tool.deepCopy)},reset:function(){this.form=this.tool.deepCopy(this.source.form,this.tool.deepCopy)}}},Dn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-of__rxpert-opinion-list"},[a("div",{staticClass:"form-block"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,disabled:e.disabled,rules:e.rules}},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[e._v("专家意见表")]),e._v(" "),a("el-col",{staticClass:"text-align-right",attrs:{span:6}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{placeholder:"请输入项目名称",readonly:""},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目编号"}},[a("el-input",{attrs:{placeholder:"请输入项目编号",readonly:""},model:{value:e.form.projectNum,callback:function(t){e.$set(e.form,"projectNum",t)},expression:"form.projectNum"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购代理机构",prop:"agentOrg"}},[a("el-input",{attrs:{placeholder:"请输入采购代理机构"},model:{value:e.form.agentOrg,callback:function(t){e.$set(e.form,"agentOrg",t)},expression:"form.agentOrg"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购人",prop:"purchaser"}},[a("el-input",{attrs:{placeholder:"请输入采购人"},model:{value:e.form.purchaser,callback:function(t){e.$set(e.form,"purchaser",t)},expression:"form.purchaser"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购类别",prop:"purchaserType"}},[a("el-input",{attrs:{placeholder:"请输入采购类别"},model:{value:e.form.purchaserType,callback:function(t){e.$set(e.form,"purchaserType",t)},expression:"form.purchaserType"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"专家论证意见",prop:"expertOpinion"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入专家论证意见"},model:{value:e.form.expertOpinion,callback:function(t){e.$set(e.form,"expertOpinion",t)},expression:"form.expertOpinion"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"论证专家签字",prop:"expertSign"}},[a("el-input",{attrs:{placeholder:"请输入论证专家签字"},model:{value:e.form.expertSign,callback:function(t){e.$set(e.form,"expertSign",t)},expression:"form.expertSign"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"论证时间",prop:"proveTime"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择论证时间"},model:{value:e.form.proveTime,callback:function(t){e.$set(e.form,"proveTime",t)},expression:"form.proveTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1)],1)])},staticRenderFns:[]};var xn=a("VU/8")(Fn,Dn,!1,function(e){a("Yqqt")},null,null).exports,Tn={form:{projectName:"",projectNum:"",tenderSumLimit:"",purchaser:"",agentOrg:"",isAgree:"0",approveOpinion:"",editDate:""},rules:{tenderSumLimit:[{validator:this.moneyCheck,trigger:"blur"}],purchaser:[{required:!0,message:"请输入采购人",trigger:"blur"}],agentOrg:[{required:!0,message:"请输入招标代理机构",trigger:"blur"}],isAgree:[{required:!0,message:"请选择审核意见",trigger:"blur"}],approveOpinion:[{required:!0,message:"请输入修改意见",trigger:"blur"}],editDate:[{required:!0,message:"请输入日期",trigger:"blur"}]}},Nn={props:{data:{type:Object,default:function(){return{form:this.tool.deepCopy(Tn.form,this.tool.deepCopy)}}},disabled:{type:Boolean,default:!1}},data:function(){return{source:Tn,gutter:20,form:this.tool.deepCopy(this.data?this.data.form:Tn.form,this.tool.deepCopy),rules:this.tool.deepCopy(Tn.rules,this.tool.deepCopy)}},watch:{data:{handler:function(){this.setFormData(this.data)},immediate:!0}},methods:{submit:function(){this.$emit("submit",this.getFormData("form"))},getFormData:function(e){var t=this;return new la.a(function(a,r){t.$refs[e].validate(function(e){e?a(t.tool.deepCopy(t.form,t.tool.deepCopy)):r(null)})})},setFormData:function(e){this.form=this.tool.deepCopy(e?e.form:this.source.form,this.tool.deepCopy)},reset:function(){this.form=this.tool.deepCopy(this.source.form,this.tool.deepCopy)}}},In={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-of__consultation-document-confirmation-document-opinion"},[a("div",{staticClass:"form-block"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,disabled:e.disabled,rules:e.rules}},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[e._v("磋商文件确认文件意见")]),e._v(" "),a("el-col",{staticClass:"text-align-right",attrs:{span:6}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{placeholder:"请输入项目名称",readonly:""},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目编号"}},[a("el-input",{attrs:{placeholder:"请输入项目编号",readonly:""},model:{value:e.form.projectNum,callback:function(t){e.$set(e.form,"projectNum",t)},expression:"form.projectNum"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"招标控制价",prop:"tenderSumLimit",rules:[{validator:this.moneyCheck,trigger:"change"}]}},[a("el-input",{attrs:{placeholder:"请输入招标控制价"},model:{value:e.form.tenderSumLimit,callback:function(t){e.$set(e.form,"tenderSumLimit",t)},expression:"form.tenderSumLimit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购人",prop:"purchaser"}},[a("el-input",{attrs:{placeholder:"请输入采购人"},model:{value:e.form.purchaser,callback:function(t){e.$set(e.form,"purchaser",t)},expression:"form.purchaser"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"招标代理机构",prop:"agentOrg"}},[a("el-input",{attrs:{placeholder:"请输入招标代理机构"},model:{value:e.form.agentOrg,callback:function(t){e.$set(e.form,"agentOrg",t)},expression:"form.agentOrg"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核意见",prop:"isAgree"}},[a("el-radio-group",{model:{value:e.form.isAgree,callback:function(t){e.$set(e.form,"isAgree",t)},expression:"form.isAgree"}},[a("el-radio",{attrs:{label:"0"}},[e._v("同意")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("不同意")])],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[1==e.form.isAgree?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"修改意见",prop:"approveOpinion"}},[a("el-input",{attrs:{placeholder:"请输入修改意见"},model:{value:e.form.approveOpinion,callback:function(t){e.$set(e.form,"approveOpinion",t)},expression:"form.approveOpinion"}})],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日期",prop:"editDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"请输入日期"},model:{value:e.form.editDate,callback:function(t){e.$set(e.form,"editDate",t)},expression:"form.editDate"}})],1)],1)],1)],1)],1)])},staticRenderFns:[]};var An=a("VU/8")(Nn,In,!1,function(e){a("dO7z")},null,null).exports,Sn={form:{projectName:"",projectNum:"",tenderUnitName:"",bidderList:[{tenderUserName:"",sort:"",bidScore:""}],agentOrg:"",editDate:""},rules:{tenderUnitName:[{required:!0,message:"请输入投标单位名称",trigger:"blur"}],agentOrg:[{required:!0,message:"请输入采购代理机构",trigger:"blur"}],editDate:[{required:!0,message:"请输入日期",trigger:"blur"}]}},Ln={props:{data:{type:Object,default:function(){return{form:this.tool.deepCopy(Sn.form,this.tool.deepCopy)}}},disabled:{type:Boolean,default:!1}},data:function(){return{source:Sn,gutter:20,form:this.tool.deepCopy(this.data?this.data.form:Sn.form,this.tool.deepCopy),rules:this.tool.deepCopy(Sn.rules,this.tool.deepCopy)}},watch:{data:{handler:function(){this.setFormData(this.data)},immediate:!0}},methods:{submit:function(){this.$emit("submit",this.getFormData("form"))},getFormData:function(e){var t=this;return new la.a(function(a,r){t.$refs[e].validate(function(e){e?a(t.tool.deepCopy(t.form,t.tool.deepCopy)):r(null)})})},setFormData:function(e){this.form=this.tool.deepCopy(e?e.form:this.source.form,this.tool.deepCopy)},reset:function(){this.form=this.tool.deepCopy(this.source.form,this.tool.deepCopy)},addBidder:function(){var e=this,t=e.tool.deepCopy(e.source.form.bidderList[0],e.tool.deepCopy);e.form.bidderList||e.$set(e.form,"bidderList",[]),e.form.bidderList.push(t)},delBidder:function(e){this.form.bidderList.splice(e,1)}}},$n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cost-of__unfilled-notice"},[a("div",{staticClass:"form-block"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,disabled:e.disabled,rules:e.rules}},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[e._v("未成交通知书")]),e._v(" "),a("el-col",{staticClass:"text-align-right",attrs:{span:6}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{placeholder:"请输入项目名称",readonly:""},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目编号"}},[a("el-input",{attrs:{placeholder:"请输入项目编号",readonly:""},model:{value:e.form.projectNum,callback:function(t){e.$set(e.form,"projectNum",t)},expression:"form.projectNum"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"投标单位名称",prop:"tenderUnitName"}},[a("el-input",{attrs:{placeholder:"请输入投标单位名称"},model:{value:e.form.tenderUnitName,callback:function(t){e.$set(e.form,"tenderUnitName",t)},expression:"form.tenderUnitName"}})],1)],1)],1),e._v(" "),e._l(e.form.bidderList,function(t,r){return a("el-row",{key:r,attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"投标人名称",prop:"bidderList."+r+".tenderUserName",rules:[{required:!0,message:"请输入投标人名称",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入投标人名称"},model:{value:t.tenderUserName,callback:function(a){e.$set(t,"tenderUserName",a)},expression:"item.tenderUserName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"排名次序",prop:"bidderList."+r+".sort",rules:[{required:!0,message:"请输入排名次序",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入排名次序"},model:{value:t.sort,callback:function(a){e.$set(t,"sort",a)},expression:"item.sort"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"评标得分",prop:"bidderList."+r+".bidScore",rules:[{required:!0,message:"请输入评标得分",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入评标得分"},model:{value:t.bidScore,callback:function(a){e.$set(t,"bidScore",a)},expression:"item.bidScore"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[e.disabled?e._e():a("i",{staticClass:"el-icon-close",staticStyle:{"margin-top":"38px","font-size":"16px"},on:{click:function(t){return e.delBidder(r)}}})])],1)}),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addBidder}},[e._v("+ 添加投标人")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采购代理机构",prop:"agentOrg"}},[a("el-input",{attrs:{placeholder:"请输入采购代理机构"},model:{value:e.form.agentOrg,callback:function(t){e.$set(e.form,"agentOrg",t)},expression:"form.agentOrg"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日期",prop:"editDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"请输入日期"},model:{value:e.form.editDate,callback:function(t){e.$set(e.form,"editDate",t)},expression:"form.editDate"}})],1)],1)],1)],2)],1)])},staticRenderFns:[]};var Pn={components:{"personnel-adjustment":Cn,a4:Zr,a7:qs,a8_zbdl:zs,a8_zj:Ds,a5:ss,a6:_s,"rxpert-opinion-list":xn,"consultation-document-confirmation-document-opinion":An,"unfilled-notice":a("VU/8")(Ln,$n,!1,function(e){a("1mcO")},null,null).exports},data:function(){return{gutter:40,tableListData:[],A3Flg:!1,projectName:"",contractNum:"",outcomeDocNo:"",typeFlag:"",tableData:[],total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],taskId:"",rxpertOpinionListForm:null,consultationDocumentConfirmationDocumentOpinionForm:null,unfilledNoticeForm:null}},props:["currentTransmitData","disabled"],watch:{currentTransmitData:{handler:function(e){this.currentTransmitData=e,this.init()},immeditate:!0,deep:!0},disabled:{handler:function(e){this.disabled=e},immediate:!0,deep:!0}},created:function(){this.init()},methods:{init:function(){var e=this;e.$nextTick(function(){"A6"==e.currentTransmitData.pageContent&&"db5e76f9-9fbd-11e9-a036-0e411fd5cf91"==e.currentTransmitData.departmentId?(e.$refs.a6.showT1=!1,e.$refs.a6.title="咨询工作记录"):"A6"==e.currentTransmitData.pageContent&&"dea3cd5d-9fbd-11e9-a036-0e411fd5cf91"==e.currentTransmitData.departmentId&&(e.$refs.a6.showT1=!0,e.$refs.a6.title="招标规划")}),e.taskId=e.currentTransmitData.taskId,"6"===e.currentTransmitData.periodType?e.searchExpertOpinionRelationDetail():"7"===e.currentTransmitData.periodType?e.searchFileConfirmOpinionRelationDetail():"8"===e.currentTransmitData.periodType&&e.searchFailTenderNoticeRelationInfoDetail(),"1"===e.currentTransmitData.isMainHeadFlag?e.disabled=!1:e.disabled=!0},rxpertOpinionListSubmit:function(e){var t=this;e.then(function(e){W()(e,{taskId:t.taskId}),t.apiAddress("/task/add/insertExpertOpinionRelationInfo",e).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchExpertOpinionRelationDetail()):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},function(e){console.log("没有通过验证",e)})},consultationDocumentConfirmationDocumentOpinionSubmit:function(e){var t=this;e.then(function(e){W()(e,{taskId:t.taskId}),t.apiAddress("/task/add/insertFileConfirmOpinionRelationInfo",e).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchFileConfirmOpinionRelationDetail()):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},function(e){console.log("没有通过验证",e)})},unfilledNoticeSubmit:function(e){var t=this;e.then(function(e){W()(e,{taskId:t.taskId}),t.apiAddress("/task/add/insertFailTenderNoticeRelationInfo",e).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchFailTenderNoticeRelationInfoDetail()):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},function(e){console.log("没有通过验证",e)})},searchExpertOpinionRelationDetail:function(){var e=this;e.apiAddress("/task/query/searchExpertOpinionRelationDetail",{taskId:e.taskId}).then(function(t){"success"==t.data.status?e.rxpertOpinionListForm={form:t.data.dataVO}:e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})},searchFileConfirmOpinionRelationDetail:function(){var e=this;e.apiAddress("/task/query/searchFileConfirmOpinionRelationDetail",{taskId:e.taskId}).then(function(t){"success"==t.data.status?e.consultationDocumentConfirmationDocumentOpinionForm={form:t.data.dataVO}:e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})},searchFailTenderNoticeRelationInfoDetail:function(){var e=this;e.apiAddress("/task/query/searchFailTenderNoticeRelationInfoDetail",{taskId:e.taskId}).then(function(t){"success"==t.data.status?e.unfilledNoticeForm={form:t.data.dataVO}:e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})}}},jn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task",staticStyle:{height:"100%"}},[a("div",{staticClass:"title form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v("工作步骤说明:")])]),e._v(" "),a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v(e._s(e.currentTransmitData.periodDesc))])])],1)],1),e._v(" "),4==e.currentTransmitData.periodType?a("personnel-adjustment",{attrs:{transmittedData:e.currentTransmitData}}):e._e(),e._v(" "),1==e.currentTransmitData.periodType&&"A4"==e.currentTransmitData.pageContent?a("div",{staticClass:"form-block form-block__row--auto-width"},[a("a4",{attrs:{transmittedData:e.currentTransmitData}})],1):e._e(),e._v(" "),"A7"==e.currentTransmitData.pageContent?a("div",{staticClass:"form-block form-block__row--auto-width",staticStyle:{height:"calc(100% - 91px)"}},[a("a7",{attrs:{transmittedData:e.currentTransmitData}})],1):e._e(),e._v(" "),"A5"==e.currentTransmitData.pageContent?a("div",{staticClass:"form-block form-block__row--auto-width"},[a("a5",{attrs:{projectName:e.currentTransmitData.projectNumber,contractNum:e.currentTransmitData.contractNumber,transmittedData:e.currentTransmitData}})],1):e._e(),e._v(" "),"A8"==e.currentTransmitData.pageContent&&"dea3cd5d-9fbd-11e9-a036-0e411fd5cf91"==e.currentTransmitData.departmentId?a("div",{staticClass:"form-block"},[a("a8_zbdl",{attrs:{transmittedData:e.currentTransmitData}})],1):e._e(),e._v(" "),"A8"==e.currentTransmitData.pageContent&&"db5e76f9-9fbd-11e9-a036-0e411fd5cf91"==e.currentTransmitData.departmentId?a("div",{staticClass:"form-block"},[a("a8_zj",{attrs:{transmittedData:e.currentTransmitData}})],1):e._e(),e._v(" "),"A6"==e.currentTransmitData.pageContent?a("div",{staticClass:"form-block"},[a("a6",{ref:"a6",attrs:{transmittedData:e.currentTransmitData}})],1):e._e(),e._v(" "),6==e.currentTransmitData.periodType?a("rxpert-opinion-list",{ref:"rxpertOpinionList",attrs:{data:e.rxpertOpinionListForm,disabled:e.disabled},on:{submit:e.rxpertOpinionListSubmit}}):e._e(),e._v(" "),7==e.currentTransmitData.periodType?a("consultation-document-confirmation-document-opinion",{ref:"consultationDocumentConfirmationDocumentOpinion",attrs:{data:e.consultationDocumentConfirmationDocumentOpinionForm,disabled:e.disabled},on:{submit:e.consultationDocumentConfirmationDocumentOpinionSubmit}}):e._e(),e._v(" "),8==e.currentTransmitData.periodType?a("unfilled-notice",{ref:"unfilledNotice",attrs:{data:e.unfilledNoticeForm,disabled:e.disabled},on:{submit:e.unfilledNoticeSubmit}}):e._e()],1)},staticRenderFns:[]};var qn={components:{fileList:No,"dialog-browse-file":Ht,previewFile:Jt},props:["currentTransmitData","typeFlag"],watch:{currentTransmitData:{handler:function(e){this.currentTransmitData=e,this.init()},immeditate:!0},typeFlag:{handler:function(e){this.typeFlag=e,this.init()},immeditate:!0}},created:function(){this.init()},data:function(){return{type:"task",gutter:40,activeNames:"white1",fileList:[],periodType:"",fileTypeList:[],taskPeriodId:"",departmentId:"",counselTypeId:"",relationId:"",delBtnFlag:!1,isIgnore:"",isFinish:"",isMainHeadFlag:"",IgnoreBtnFlag:!1,FinishBtnFlag:!1,file:"",projectSts:"",showUploadBtnFlg:"",isInvalidFlag:"",isSubmitReedit:""}},methods:{preview:function(e){var t=this.nextTaskKey;this.above&&(t=this.getNextStepNode(t));var a={relationId:this.relationId,materialIds:e.checkbox,submitNode:t,periodName:this.currentTransmitData.label};this.bus.$emit("preview",a)},browseFile:function(e){var t=this;e.materialPath?(t.file=t.tool.deepCopy(e,t.tool.deepCopy),t.$refs.dialogBrowseFile.show=!0):t.stateDialog("error","该文件暂时不能浏览")},init:function(){this.relationId=this.currentTransmitData.relationId,this.taskId=this.currentTransmitData.taskId,this.periodType=this.currentTransmitData.periodType,this.departmentId=this.currentTransmitData.departmentId,this.counselTypeId=this.currentTransmitData.counselTypeId,this.isIgnore=this.currentTransmitData.isIgnore,this.isFinish=this.currentTransmitData.isFinish,this.isMainHeadFlag=this.currentTransmitData.isMainHeadFlag,this.projectSts=this.currentTransmitData.projectSts,this.isInvalidFlag=this.currentTransmitData.isInvalidFlag,console.log("第",this.currentTransmitData.treeNodeLevel+" 级："),this.showTypeFlag(this.relationId,this.periodType,this.taskId)},showTypeFlag:function(e,t,a){var r=this,s=this;this.apiAddress("/task/query/showBtnType",{relationId:e,periodType:t,taskId:a}).then(function(e){if("success"==e.data.status){s.isSubmitReedit=e.data.dataVO.isSubmitReedit;var a=e.data.dataVO.currentState;"0"===t||"4"===t||"5"===t||"6"===t||"7"===t||"8"===t?(s.showUploadBtnFlg="1"===s.typeFlag||"15"===s.typeFlag&&"6"!==a,s.delBtnFlag=!s.showUploadBtnFlg):"1"===t&&(s.showUploadBtnFlg=("6"===a&&"1"!==s.isSubmitReedit||"1"===s.typeFlag||"15"===s.typeFlag&&"1"!==s.isSubmitReedit)&&"0"!==s.typeFlag,s.delBtnFlag=!s.showUploadBtnFlg),"1"===t&&"6"===s.typeFlag&&"1"!==s.isSubmitReedit&&(s.showUploadBtnFlg=!0,s.delBtnFlag=!1),"15"===s.typeFlag&&"1"===s.isSubmitReedit&&(s.showUploadBtnFlg=!1,s.delBtnFlag=!0),r.IgnoreBtnFlag="1"!==r.isInvalidFlag&&"1"!==r.projectSts&&"1"===r.isMainHeadFlag,r.FinishBtnFlag=r.IgnoreBtnFlag,s.searchMaterialList(s.relationId,s.typeFlag),s.searchMaterialTypeList(),console.log("typeFlag为",s.typeFlag)}else r.stateDialog("error",e.data.message)}).catch(function(e){r.stateDialog("error",e)})},finish:function(){var e=this;e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var t="";t="0"===e.isFinish?"1":"0",e.apiAddress("/task/modify/updateIsFinish",{relationId:e.relationId,isFinish:t}).then(function(t){"success"==t.data.status?e.$router.go(0):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})}).catch(function(){})},isIgnoreTaskPeriod:function(){var e=this;e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var t="";t="0"===e.isIgnore?"1":"0",e.apiAddress("/task/modify/updateIsIgnore",{relationId:e.relationId,isIgnore:t}).then(function(t){"success"==t.data.status?e.$router.go(0):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})}).catch(function(){})},searchMaterialList:function(e,t){var a=this;a.apiAddress("/task/query/searchTaskPeriodMaterialList",{relationId:e}).then(function(e){if("success"==e.data.status){for(var r=e.data.dataList,s=r.length-1;s>=0;s--)if(r[s]=JSON.parse(m()(r[s]).replace(/relationId/g,"materialId")),a.departmentId===a.superviseDeptId)"1"!==t&&"15"!==t||"1"!==r[s].isReview||(r[s].isCanDel="0");else{if("1"==t)r[s].isCanDel="1";else{if("15"==t)continue;r[s].isCanDel="0"}"1"===a.periodType&&"6"===a.typeFlag&&"1"!==a.isSubmitReedit&&(r[s].isCanDel="1")}a.fileList=r}else a.stateDialog("error",e.data.message)}).catch(function(e){a.stateDialog("error",e)})},searchMaterialTypeList:function(){var e=this,t={departmentId:this.departmentId,counselTypeId:this.counselTypeId};this.apiAddress("/tenderTask/query/searchMaterialTypeList",t).then(function(t){if("success"==t.data.status){for(var a=t.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/fileTypeId/g,"id")),a[r]=JSON.parse(m()(a[r]).replace(/fileTypeName/g,"label"));e.fileTypeList=a}else e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})},submitForm:function(e){var t=this;e.append("taskPeriodId",this.relationId),e.append("fileType",e.get("select")),e.delete("select"),this.apiAddress("/task/add/insertTaskPeriodMaterialInfo",e).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchMaterialList(t.relationId,t.typeFlag),"1"===t.currentTransmitData.periodType&&"A4"==t.currentTransmitData.pageContent&&t.searchList(t.currentTransmitData)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},deleteFileInfo:function(e){var t=this;t.$confirm("此操作将永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress("/task/delete/deleteTaskPeriodMaterialInfo",{relationId:e.materialId,materialPath:e.materialPath,taskId:t.taskId}).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchMaterialList(t.relationId,t.typeFlag),1==t.currentTransmitData.periodType&&"A4"==t.currentTransmitData.pageContent&&t.searchList(t.currentTransmitData)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},downloadMatrial:function(e){this.downloadFile(e.url,e.name)},searchList:function(e){this.bus.$emit("searchList",e)}}},Rn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"taskR"},[a("div",{staticClass:"given-container"},[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("fileList",{attrs:{title:e.currentTransmitData.label,showUploadBtn:e.showUploadBtnFlg,options:e.fileTypeList,list:e.fileList,delBtnFlag:e.delBtnFlag,type:e.type,id:e.taskId,periodTypeBoolean:"1"!==e.currentTransmitData.periodType,periodType:e.currentTransmitData.periodType},on:{del:e.deleteFileInfo,submit:e.submitForm}})],1)],1),e._v(" "),a("preview-file",{ref:"dialogBrowseFile",attrs:{file:e.file,type:e.type,id:e.taskId}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("p",{staticStyle:{"background-color":"#B6C3CE",padding:"0 20px",width:"100%","margin-bottom":"20px"}}),e._v(" "),e.IgnoreBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.isIgnoreTaskPeriod}},[e._v(e._s("1"===e.isIgnore?"展示":"忽略"))]):e._e(),e._v(" "),e.FinishBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.finish}},[e._v(e._s("1"===e.isFinish?"未完成":"完成"))]):e._e()],1)],1)},staticRenderFns:[]};var Bn={components:{prepare:Yr,office:_o},props:["currentTransmitData","office","correctTaskMaterialFlag","disabled"],data:function(){return{gutter:40}},watch:{currentTransmitData:{handler:function(e){this.currentTransmitData=e},immeditate:!0},office:{handler:function(e){this.office=e},immediate:!0,deep:!0},correctTaskMaterialFlag:{handler:function(e){this.correctTaskMaterialFlag=e},immediate:!0,deep:!0},disabled:{handler:function(e){this.disabled=e},immediate:!0,deep:!0}},methods:{}},On={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task"},[e.office.showOnlyOfficeCompFlag?e._e():a("div",{staticClass:"title form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v("工作步骤说明:")])]),e._v(" "),a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v(e._s(e.currentTransmitData.periodDesc))])])],1)],1),e._v(" "),e.correctTaskMaterialFlag?e._e():a("div",{staticClass:"form-block form-block__row--auto-width",staticStyle:{"background-color":"white"}},[a("prepare",{ref:"prepare",attrs:{transmittedData:e.currentTransmitData,disabled:e.disabled}})],1),e._v(" "),e.office.showOnlyOfficeCompFlag?a("div",{staticClass:"form-block form-block__row--auto-width",staticStyle:{height:"700px"}},[a("office",{attrs:{file:e.office.taskMaterialInfo}})],1):e._e()])},staticRenderFns:[]};var zn={components:{fileList:No,"dialog-submit-audit":Vo,"collapse-review-read":$o,"collapse-review-write":zo,reviewFileList:No,collapseReviewWriteNoPoints:mn,previewFile:Jt},props:["currentTransmitData","postil","jurisdiction","typeFlag","errorTyleList","auditFileList"],data:function(){return{type:"task",dynamicValidateForm:{fileNumber:""},formData:new FormData,obj:{title:"重新编辑审核"},gutter:40,activeNames:"white1",activeNames2:"activeNames2",fileList:[],periodType:"",fileTypeList:[],reviewFileList:[],jumpFlag:!1,above:!1,reviewer:{current:"",next:""},opinionList:[],reeditApplicationList:[],object:{title:"",opinion:"",children:[{id:"",name:"",errorList:[{num:"",type:""}]}]},nextTaskKey:"",delegateTaskKey:"ManagerVerify",delegateTaskId:"",isCanRecall:null,taskPeriodId:"",departmentId:"",counselTypeId:"",relationId:"",list:[],loadChild:!0,isSubmitReedit:"",delBtnFlag:!1,archiveList:[],updateDate:"",approveTime:null,isMainHeadFlag:"",ArchiveSubmitAuditBtnFlag:!1,ArchiveSave:!1,ArchiveRecallBtnFlag:!1,ArchivePassBtnFlag:!1,ArchiveIssueBtnFlag:!1,ArchiveRejectBtnFlag:!1,ArchiveSubmitArchive:!1,ArchiveConfirmArchive:!1,ReeditSubmitAuditBtnFlag:!1,ReeditPassBtnFlag:!1,ReeditIssueBtnFlag:!1,ReeditRejectBtnFlag:!1,file:"",tempArchiveList:[],projectSts:"",taskId:""}},watch:{currentTransmitData:{handler:function(e){this.currentTransmitData=e,this.init()},immeditate:!0,deep:!0},postil:{handler:function(e){this.postil=e},immediate:!0,deep:!0},jurisdiction:{handler:function(e){this.jurisdiction=e},immediate:!0,deep:!0},typeFlag:{handler:function(e){this.typeFlag=e,this.init()},immediate:!0,deep:!0},errorTyleList:{handler:function(e){this.errorTyleList=e},immediate:!0,deep:!0},auditFileList:{handler:function(e){this.auditFileList=e},immediate:!0,deep:!0}},created:function(){this.init()},methods:{init:function(){this.above=!1,this.relationId=this.currentTransmitData.relationId,this.taskId=this.currentTransmitData.taskId,this.periodType=this.currentTransmitData.periodType,this.departmentId=this.currentTransmitData.departmentId,this.counselTypeId=this.currentTransmitData.counselTypeId,this.isMainHeadFlag=this.currentTransmitData.isMainHeadFlag,this.projectSts=this.currentTransmitData.projectSts,console.log("第",this.currentTransmitData.treeNodeLevel+" 级："),console.log("typeFlag",this.typeFlag),this.searchTaskDetailInfo(this.relationId),this.searchOutcomeDocumentMaterial(this.taskId),this.searchTaskReeditHisTaskInst(this.taskId,this.relationId),this.searchTaskArchiveFileInfo(this.relationId),this.searchIsReviewTaskPeriodMaterialList(this.relationId),this.searchHTTaskHisTaskInst(this.relationId)},preview:function(e){var t=this.nextTaskKey;this.above&&(t=this.getNextStepNode(t));var a={relationId:this.relationId,materialIds:e.checkbox,submitNode:t,periodName:this.currentTransmitData.label};this.bus.$emit("preview",a)},browseFile:function(e){var t=this;e.materialPath?(t.file=t.tool.deepCopy(e,t.tool.deepCopy),t.$refs.dialogBrowseFile.show=!0):t.stateDialog("error","该文件暂时不能浏览")},searchTaskDetailInfo:function(e){var t=this;t.apiAddress("/task/query/searchTaskDetailInfoByRelationId",{relationId:e}).then(function(e){if("failure"==e.data.status)t.stateDialog("error",e.data.message);else{var a=e.data.dataVO;t.object.title=t.getStepName(a.delegateTaskKey),t.nextTaskKey=a.submitNode,t.delegateTaskKey=a.delegateTaskKey,t.isCanRecall=a.isCanRecall,t.isSubmitReedit=a.isSubmitReedit,console.log("isSubmitReedit",t.isSubmitReedit),t.updateDate=a.updateDate,t.approveTime=a.approveTime;var r=a.userList;if(void 0!=r)for(var s=r.length-1;s>=0;s--)r[s].errorList=[],r[s]=JSON.parse(m()(r[s]).replace(/userId/g,"id")),r[s]=JSON.parse(m()(r[s]).replace(/userName/g,"name"));t.reviewer.current=t.getStepWorker(t.nextTaskKey),t.reviewer.next=t.getStepWorker(t.getNextStepNode(t.nextTaskKey)),t.object.children=r,t.delBtnFlag=!("1"===t.typeFlag),t.ArchiveSubmitAuditBtnFlag="1"===t.typeFlag&&"1"!==t.isSubmitReedit,t.ArchiveSave=t.ArchiveSubmitAuditBtnFlag&&(null==t.approveTime&&"1"!==t.isSubmitReedit||""===t.approveTime),t.ArchiveRecallBtnFlag="20"===t.typeFlag&&"1"!==t.isSubmitReedit,t.ArchivePassBtnFlag=("2"===t.typeFlag||"3"===t.typeFlag||"4"===t.typeFlag||"7"===t.typeFlag)&&"1"!==t.isSubmitReedit,t.ArchiveIssueBtnFlag="5"===t.typeFlag&&"1"!==t.isSubmitReedit,t.ArchiveRejectBtnFlag=("2"===t.typeFlag||"3"===t.typeFlag||"4"===t.typeFlag||"5"===t.typeFlag||"7"===t.typeFlag)&&"1"!==t.isSubmitReedit,t.ArchiveSubmitArchive="6"===t.typeFlag&&"1"!==t.isSubmitReedit,t.ArchiveConfirmArchive="8"===t.typeFlag&&"1"!==t.isSubmitReedit,t.ReeditSubmitAuditBtnFlag="6"===t.typeFlag&&"1"!==t.isSubmitReedit,t.ReeditPassBtnFlag=("2"===t.typeFlag||"3"===t.typeFlag||"4"===t.typeFlag)&&"1"===t.isSubmitReedit,t.ReeditIssueBtnFlag="5"===t.typeFlag&&"1"===t.isSubmitReedit,t.ReeditRejectBtnFlag=("2"===t.typeFlag||"3"===t.typeFlag||"4"===t.typeFlag||"5"===t.typeFlag)&&"1"===t.isSubmitReedit}}).catch(function(e){t.stateDialog("error",e)})},searchOutcomeDocumentMaterial:function(e){var t=this;t.apiAddress("/task/query/searchOutcomeDocumentMaterial",{taskId:e}).then(function(e){if("success"==e.data.status){var a=e.data.dataVO,r=a.taskMaterialPath,s=a.taskMaterialName,o=a.userName,n=!1;"1"===a.taskType&&(n=!0);var i=[];if(null!=a.taskMaterialName&&""!=a.taskMaterialName){var l="0";"1"==t.typeFlag&&(l="1"),i[0]={materialName:s,materialPath:r,isGeneratedFile:n,userName:o,isCanDel:l}}t.fileList=i}else t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},searchTaskReeditHisTaskInst:function(e,t){var a=this;a.apiAddress("/task/query/searchTaskReeditHisTaskInst",{taskId:e}).then(function(e){if("failure"==e.data.status)a.stateDialog("error",e.data.message);else{var t=e.data.dataList,r=e.data.isSubmitReedit;if(0!==t.length){for(var s=0,o=!1,n=0;n<t.length;n++){for(var i=0;i<t[n].htTaskPeriodVOList.length;i++){t[n].htTaskPeriodVOList[i].title=a.getStepName(t[n].htTaskPeriodVOList[i].taskKey),t[n].htTaskPeriodVOList[i].children=t[n].htTaskPeriodVOList[i].htTaskPeriodVOList;for(var l=t[n].htTaskPeriodVOList[i].children,c=0;c<l.length;c++)l[c].time=l[c].approveTime,l[c].name=l[c].approveUserName,l[c].opinion=l[c].rejectReason}++s==t.length?0==t[n].verifyState?(t[n].isShowWrite=!1,o=!0):2==t[n].verifyState&&(t[n].isShowWrite=!0):t[n].isShowWrite=!1}!o||"2"!==a.typeFlag&&"3"!==a.typeFlag&&"4"!==a.typeFlag&&"5"!==a.typeFlag||"1"!==r||t.push({htTaskPeriodVOList:[],isShowWrite:!0})}else"1"!==r||"2"!==a.typeFlag&&"3"!==a.typeFlag&&"4"!==a.typeFlag&&"5"!==a.typeFlag||t.push({htTaskPeriodVOList:[],isShowWrite:!0});a.reeditApplicationList=t}}).catch(function(e){a.stateDialog("error",e)})},download:function(e,t,a){vm.downloadFile(e,t,a)},deleteTaskSaveMaterialInfo:function(e){var t=this;t.$confirm("此操作将永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){if("1"===e.deleteFlag)for(var a=0;a<t.list.length;a++)t.list[a].uuid==e.uuid&&(t.list.splice(a,1),t.archiveList.splice(a,1));else t.apiAddress("/task/delete/deleteTaskSaveMaterialInfo",{taskId:t.taskId,relationId:e.materialId,materialPath:e.materialPath}).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchTaskArchiveFileInfo(t.relationId)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},beforeAvatarUpload:function(e){this.archiveList.push(e);var t={materialName:e.name,downloadFlag:"1",deleteFlag:"1",uuid:(65536*(1+Math.random())|0).toString(16).substring(1)};return this.tempArchiveList.push(t),this.list.push(t),!1},searchTaskArchiveFileInfo:function(e){var t=this;t.apiAddress("/task/query/searchTaskSaveMaterialList",{relationId:e}).then(function(e){if("success"==e.data.status){for(var a=e.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/relationId/g,"materialId"));t.list=a}else t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},uploadFile:function(){this.$refs.uploadDemo.$children[0].$el.click()},searchIsReviewTaskPeriodMaterialList:function(e){var t=this;t.apiAddress("/task/query/searchIsReviewTaskPeriodMaterialList",{relationId:e,taskId:t.taskId}).then(function(e){if("failure"==e.data.status)t.stateDialog("error",e.data.message);else{for(var a=e.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/relationId/g,"materialId"));t.reviewFileList=a}}).catch(function(e){t.stateDialog("error",e)})},searchHTTaskHisTaskInst:function(e){var t=this;t.apiAddress("/task/query/searchHTTaskHisTaskInst",{relationId:e}).then(function(e){if("failure"==e.data.status)t.stateDialog("error",e.data.message);else{for(var a=e.data.dataList,r=0;r<a.length;r++){a[r].title=t.getStepName(a[r].taskKey),a[r]=JSON.parse(m()(a[r]).replace(/htTaskPeriodVOList/g,"children"));for(var s=a[r].children,o=0;o<s.length;o++){s[o]=JSON.parse(m()(s[o]).replace(/approveTime/g,"time")),s[o]=JSON.parse(m()(s[o]).replace(/approveUserName/g,"name")),s[o]=JSON.parse(m()(s[o]).replace(/htUserQuestionRecordRelationVOList/g,"persions")),s[o]=JSON.parse(m()(s[o]).replace(/rejectReason/g,"opinion"));for(var n=t.groupBy(s[o].persions,function(e){return[e.userId]}),i=0;i<n.length;i++){n[i].name=n[i].dataList[0].userName,n[i]=JSON.parse(m()(n[i]).replace(/dataList/g,"errorList"));for(var l=n[i].errorList,c=l.length-1;c>=0;c--)l[c]=JSON.parse(m()(l[c]).replace(/questionName/g,"type")),l[c]=JSON.parse(m()(l[c]).replace(/questionNum/g,"num"));n[i].errorList=l}s[o].persions=n}}t.opinionList=a}}).catch(function(e){t.stateDialog("error",e)})},initiateArchive:function(){var e=this;e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.apiAddress("/task/modify/initiateArchive",{taskId:e.taskId}).then(function(t){"success"==t.data.status?e.$router.go(0):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})}).catch(function(){})},confirmArchiveXM:function(e){var t=this;t.formValidation(e).then(function(){t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress("/task/modify/confirmArchiveXM",{taskId:t.taskId,fileNumber:t.dynamicValidateForm.fileNumber,delegateTaskId:t.delegateTaskId}).then(function(e){"success"==e.data.status?t.$router.go(0):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})})},reeditApplicationIssue:function(e){var t=this;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t.object;a.isPass=e,a.updateDate=t.updateDate;var r=t.nextTaskKey;t.above&&(r=t.getNextStepNode(r)),a.submitNode=r,a=JSON.parse(m()(a).replace(/title/g,"delegateTaskKey")),"0"==e&&(a=JSON.parse(m()(a).replace(/opinion/g,"rejectReason"))),a.relationId=t.relationId,t.apiAddress("/task/add/reeditApplicationIssue",a).then(function(e){"failure"==e.data.status?t.stateDialog("error",e.data.message):(t.stateDialog("success",e.data.message),t.$router.push("/page/work/default"))}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},auditingOutcomeDocumentPeriodReeditApplication:function(e){var t=this;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t.object;a.isPass=e,a.updateDate=t.updateDate;var r=t.nextTaskKey;t.above&&(r=t.getNextStepNode(r)),a.submitNode=r,a=JSON.parse(m()(a).replace(/title/g,"delegateTaskKey")),"0"==e&&(a=JSON.parse(m()(a).replace(/opinion/g,"rejectReason"))),a.relationId=t.relationId,t.apiAddress("/task/add/auditingOutcomeDocumentPeriodReeditApplication",a).then(function(e){"failure"==e.data.status?t.stateDialog("error",e.data.message):(t.stateDialog("success",e.data.message),t.$router.push("/page/work/default"))}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},reeditApplication:function(){var e=this;e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.apiAddress("/task/modify/submitReedit",{relationId:e.relationId}).then(function(t){"success"==t.data.status?(e.stateDialog("success",t.data.message),e.$router.push("/page/work/default")):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})}).catch(function(){})},formValidation:function(e){var t=this;return new la.a(function(a,r){t.$refs[e].validate(function(e){e&&a()})})},confirmArchive:function(e){var t=this;t.formValidation(e).then(function(){t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress("/task/modify/confirmArchive",{relationId:t.relationId,fileNumber:t.dynamicValidateForm.fileNumber,updateDate:t.updateDate}).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.$router.push("/page/work/default")):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})})},submitArchive:function(e){var t=this;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.formData.delete("resourceFiles"),t.formData.delete("relationId"),t.formData.delete("taskId");for(var e=0;e<t.archiveList.length;e++)t.formData.append("resourceFiles",t.archiveList[e]);t.formData.append("taskId",t.taskId),t.formData.append("relationId",t.relationId),t.apiAddress("/task/modify/submitArchive",t.formData).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.$router.push("/page/work/default")):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},auditingTaskOutcomeDocumentPeriod:function(e){var t=this;t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t.object;a.isPass=e,a.updateDate=t.updateDate,a.currentState=t.typeFlag;var r=t.nextTaskKey;if(t.above&&(r=t.getNextStepNode(r)),a.onlyOfficeEditKey=t.postil.onlyOfficeEditKey,a.reviewFileName=t.postil.reviewFileName,a.reviewFilePath=t.postil.reviewFilePath,a.submitNode=r,a.userQuestionRecordRelationList=new Array,a=JSON.parse(m()(a).replace(/title/g,"delegateTaskKey")),"0"==e){for(var s=(a=JSON.parse(m()(a).replace(/opinion/g,"rejectReason"))).children.length-1;s>=0;s--)if(a.children[s].errorList)for(var o=a.children[s].errorList.length-1;o>=0;o--)a.children[s].errorList[o].userId=a.children[s].id,a.children[s].errorList[o].userName=a.children[s].name,"0"!=a.children[s].errorList[o].questionNum&&a.userQuestionRecordRelationList.push(a.children[s].errorList[o]);delete a.children}a.relationId=t.relationId,t.apiAddress("/task/add/auditingTaskOutcomeDocumentPeriod",a).then(function(e){"failure"==e.data.status?t.stateDialog("error",e.data.message):(t.stateDialog("success",e.data.message),t.$router.push("/page/work/default"))}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},recallTaskOutcomeDocumentPeriod:function(){var e=this;e.$confirm("是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.apiAddress("/task/modify/recallTaskOutcomeDocumentPeriod",{relationId:e.relationId}).then(function(t){"failure"==t.data.status?e.stateDialog("error",t.data.message):(e.stateDialog("success",t.data.message),e.$router.go(0))}).catch(function(t){e.stateDialog("error",t)})}).catch(function(){})},changeObject:function(e){this.object=e},cancel:function(){this.above=!1},submit:function(e){var t=this;t.$nextTick(function(){t.apiAddress("/task/query/searchAllMaterialTypeAndMaterialList",{relationId:t.relationId}).then(function(a){if("failure"==a.data.status)t.stateDialog("error",a.data.message);else{var r,s=!0;if(!e)!function(){var e=a.data.dataList;for(r=0;r<e.length;r++)if(0!=e[r].children.length){s=!1,t.bus.$emit("checkOutcomeDocuments",function(){console.log("校验成功!"),t.$refs.submit.list=e,t.$refs.submit.show=!0});break}}();if(s){var o={checkbox:[]};t.bus.$emit("checkOutcomeDocuments",function(){t.submitAuditOutcomeDocumentPeriod(o,e)})}}}).catch(function(e){t.stateDialog("error",e)})})},submitAuditOutcomeDocumentPeriod:function(e,t){var a=this.nextTaskKey;this.above&&(a=this.getNextStepNode(a));var r={relationId:this.relationId,materialIds:e.checkbox,submitNode:a,periodName:this.currentTransmitData.label,submitFlag:t};this.bus.$emit("submitPreparationOfOutcomeDocuments",r)},searchMaterialList:function(e,t){var a=this;a.apiAddress("/task/query/searchTaskPeriodMaterialList",{relationId:e}).then(function(e){if("success"==e.data.status){for(var r=e.data.dataList,s=r.length-1;s>=0;s--)if(r[s]=JSON.parse(m()(r[s]).replace(/relationId/g,"materialId")),a.departmentId===a.superviseDeptId)"1"!==t&&"15"!==t||"1"!==r[s].isReview||(r[s].isCanDel="0");else if("1"==t)r[s].isCanDel="1";else{if("15"==t)continue;r[s].isCanDel="0"}a.fileList=r}else a.stateDialog("error",e.data.message)}).catch(function(e){a.stateDialog("error",e)})},searchMaterialTypeList:function(){var e=this,t={departmentId:e.departmentId,counselTypeId:e.counselTypeId};e.apiAddress("/tenderTask/query/searchMaterialTypeList",t).then(function(t){if("success"==t.data.status){for(var a=t.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/fileTypeId/g,"id")),a[r]=JSON.parse(m()(a[r]).replace(/fileTypeName/g,"label"));e.fileTypeList=a}else e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})},searchArchiveTaskDetailInfo:function(e){var t=this;t.apiAddress("/task/query/searchArchiveTaskDetailInfoByTaskId",{taskId:e}).then(function(e){"failure"==e.data.status?t.stateDialog("error",e.data.message):t.delegateTaskId=e.data.dataVO.delegateTaskId}).catch(function(e){t.stateDialog("error",e)})},deleteFileInfo:function(e){var t=this;t.$confirm("此操作将永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress("/task/delete/deleteTaskPeriodMaterialInfo",{relationId:e.materialId,materialPath:e.materialPath,taskId:t.taskId}).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchMaterialList(t.relationId,t.typeFlag)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},deleteResultFileInfo:function(e){var t=this;t.$confirm("此操作将永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress("/task/delete/excDeleteResultFileMaterialInfo",{relationId:e.materialId,materialPath:e.materialPath,taskId:t.taskId}).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.$router.go(0)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})},downloadMatrial:function(e){this.downloadFile(e.url,e.name)},submitForm:function(e){var t=this;e.append("taskPeriodId",t.relationId),e.append("fileType",e.get("select")),e.delete("select"),t.apiAddress("/task/add/insertTaskPeriodMaterialInfo",e).then(function(e){"success"==e.data.status?(t.stateDialog("success",e.data.message),t.searchMaterialList(t.relationId,t.typeFlag)):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},checkFile:function(e){this.bus.$emit("checkFile",e)},present:function(){this.bus.$emit("changeform")},searchList:function(e){this.trigger("searchList",e)},trigger:function(e,t){this.bus.$emit(e,t)}}},Mn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"taskR"},[a("div",{staticClass:"given-container"},[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[e.fileList.length>0?a("fileList",{attrs:{title:e.currentTransmitData.label,showUploadBtn:!1,options:e.fileTypeList,list:e.fileList,delBtnFlag:e.delBtnFlag,type:e.type,id:e.taskId},on:{del:e.deleteResultFileInfo,submit:e.submitForm}}):e._e(),e._v(" "),e.reviewFileList.length>0?a("reviewFileList",{attrs:{title:"相关资料",showUploadBtn:!1,list:e.reviewFileList,delBtnFlag:!1},on:{del:e.deleteFileInfo}}):e._e(),e._v(" "),("0"===e.typeFlag||("2"===e.typeFlag||"3"===e.typeFlag||"4"===e.typeFlag||"5"===e.typeFlag)&&"1"===e.isSubmitReedit)&&e.list.length>0||"6"===e.typeFlag||("7"===e.typeFlag||"8"===e.typeFlag)&&e.list.length>0?a("el-collapse-item",{staticClass:"invoice",attrs:{title:"归档文件"}},[a("template",{slot:"title"},[e._v("\n        归档文件 \n        "),"6"===e.typeFlag?a("i",{staticClass:"el-icon-plus linear",staticStyle:{color:"white",padding:"2px 6px","border-radius":"5px"},on:{click:function(t){return t.stopPropagation(),e.uploadFile(t)}}}):e._e()]),e._v(" "),a("div",{staticClass:"content",attrs:{"hide-upload-container":""}},[a("el-upload",{ref:"uploadDemo",staticClass:"upload-demo",staticStyle:{display:"none"},attrs:{accept:"text",action:"#","file-list":e.list,"show-file-list":!1,"before-upload":e.beforeAvatarUpload,multiple:""}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),a("div",{staticClass:"file-list"},[a("ul",e._l(e.list,function(t,r){return a("li",{key:r,staticClass:"el-upload-list__item is-finished",attrs:{tabindex:"0"}},[a("a",{staticClass:"el-upload-list__item-name",staticStyle:{width:"120px"},on:{click:function(a){return e.browseFile(t)}}},[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{title:t.materialName}},[e._v(e._s(t.materialName))])]),e._v(" "),a("a",{staticClass:"el-upload-list__item-name",staticStyle:{width:"60px"}},[e._v("\n                "+e._s(t.userName)+"\n              ")]),e._v(" "),a("label",{staticClass:"el-upload-list__item-status-label"},[a("i",{staticClass:"el-icon-upload-success el-icon-circle-check"})]),e._v(" "),"1"!==t.downloadFlag?a("i",{staticClass:"el-icon-download",on:{click:function(a){return a.stopPropagation(),e.download(t.materialPath,t.materialName,t.isGeneratedFile)}}}):e._e(),e._v(" "),"6"===e.typeFlag?a("i",{staticClass:"el-icon-close",on:{click:function(a){return a.stopPropagation(),e.deleteTaskSaveMaterialInfo(t)}}}):e._e()])}),0)])],1)],2):e._e(),e._v(" "),e._l(e.opinionList,function(t,r){return"20"!==e.typeFlag?[a("collapse-review-read",{key:r,attrs:{object:t,name:"item.taskKey"}})]:e._e()}),e._v(" "),e._l(e.reeditApplicationList,function(t,r){return e.reeditApplicationList.length&&(("2"===e.typeFlag||"3"===e.typeFlag||"4"===e.typeFlag||"5"===e.typeFlag)&&"1"===e.isSubmitReedit||"6"===e.typeFlag&&"1"!==e.isSubmitReedit||"0"===e.typeFlag||"15"===e.typeFlag||"1"===e.typeFlag||"7"===e.typeFlag||"8"===e.typeFlag)?[a("el-collapse-item",{attrs:{title:"重新编辑审核历史记录",name:e.reeditApplicationList.length-1==r?"white1":"reeditApplicationList"+r}},[a("div",{staticClass:"nested-panel"},[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeNames2,callback:function(t){e.activeNames2=t},expression:"activeNames2"}},[e._l(t.htTaskPeriodVOList,function(e,t){return[a("collapse-review-read",{key:t,attrs:{object:e,noPenalty:!0}})]}),e._v(" "),"2"!==e.typeFlag&&"3"!==e.typeFlag&&"4"!==e.typeFlag&&"5"!==e.typeFlag||"1"!==e.isSubmitReedit||!t.isShowWrite?e._e():a("collapse-review-write",{attrs:{object:e.object,name:"activeNames2",noPenalty:!0},on:{submit:e.changeObject}})],2)],1)])]:e._e()}),e._v(" "),"2"!==e.typeFlag&&"3"!==e.typeFlag&&"4"!==e.typeFlag&&"5"!==e.typeFlag||"1"===e.isSubmitReedit?e._e():a("collapse-review-write",{attrs:{object:e.object,name:"white1",noPenalty:!1,errorTyleList:e.errorTyleList},on:{submit:e.changeObject}}),e._v(" "),"1"===e.isMainHeadFlag&&e.auditFileList.length>0&&("0"===e.typeFlag||"1"===e.typeFlag||"15"===e.typeFlag)?a("fileList",{attrs:{title:"审核意见文件",showUploadBtn:!1,delBtnFlag:!1,list:e.auditFileList}}):e._e()],2)],1),e._v(" "),a("dialog-submit-audit",{ref:"submit",attrs:{above:e.above,reviewer:e.reviewer},on:{submit:e.submitAuditOutcomeDocumentPeriod,cancel:e.cancel}}),e._v(" "),a("preview-file",{ref:"dialogBrowseFile",attrs:{file:e.file,type:e.type,id:e.taskId}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicValidateForm,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"fileNumber",label:"档案编号",rules:[{required:!0,message:"请输入档案编号",trigger:"blur"}]}},["8"===e.typeFlag?a("el-input",{attrs:{type:"text",placeholder:"请输入档案编号"},model:{value:e.dynamicValidateForm.fileNumber,callback:function(t){e.$set(e.dynamicValidateForm,"fileNumber",t)},expression:"dynamicValidateForm.fileNumber"}}):e._e()],1)],1),e._v(" "),a("p",{staticStyle:{"background-color":"#B6C3CE",padding:"0 20px",width:"100%","margin-bottom":"10px"}}),e._v(" "),a("p",{staticStyle:{"background-color":"#B6C3CE",padding:"0 20px",width:"100%","margin-bottom":"10px"}},[(null==e.approveTime&&"1"!==e.isSubmitReedit||""===e.approveTime)&&"1"===e.typeFlag||("2"===e.typeFlag||"3"===e.typeFlag)&&"1"!==e.isSubmitReedit?a("el-checkbox",{staticStyle:{color:"white"},model:{value:e.above,callback:function(t){e.above=t},expression:"above"}},[e._v("\n        跳级审核\n      ")]):e._e()],1),e._v(" "),e.ArchiveSubmitAuditBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit(!1)}}},[e._v("提交审核")]):e._e(),e._v(" "),e.ArchiveSave?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit(!0)}}},[e._v("保存")]):e._e(),e._v(" "),e.ArchiveRecallBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.recallTaskOutcomeDocumentPeriod}},[e._v("撤回")]):e._e(),e._v(" "),e.ArchivePassBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingTaskOutcomeDocumentPeriod("1")}}},[e._v("通过")]):e._e(),e._v(" "),e.ArchiveIssueBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingTaskOutcomeDocumentPeriod("1")}}},[e._v("签发")]):e._e(),e._v(" "),e.ArchiveRejectBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingTaskOutcomeDocumentPeriod("0")}}},[e._v("驳回")]):e._e(),e._v(" "),e.ArchiveSubmitArchive?a("el-button",{attrs:{type:"primary"},on:{click:e.submitArchive}},[e._v("提交归档")]):e._e(),e._v(" "),e.ArchiveConfirmArchive?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirmArchive("dynamicValidateForm")}}},[e._v("确认归档")]):e._e(),e._v(" "),e.ArchiveSubmitAuditBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.preview}},[e._v("预览")]):e._e(),e._v(" "),e.ReeditSubmitAuditBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.reeditApplication}},[e._v("重新编辑申请")]):e._e(),e._v(" "),e.ReeditPassBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingOutcomeDocumentPeriodReeditApplication("1")}}},[e._v("通过")]):e._e(),e._v(" "),e.ReeditIssueBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.reeditApplicationIssue("1")}}},[e._v("签发")]):e._e(),e._v(" "),e.ReeditRejectBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingOutcomeDocumentPeriodReeditApplication("0")}}},[e._v("驳回")]):e._e()],1)],1)},staticRenderFns:[]};var Vn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task"},[e.showImg?a("div",{staticClass:"img-failure"},[a("img",{attrs:{src:e.imgSrc,alt:e.imgAlt}}),e._v(" "),a("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.imgAlt))])]):e._e(),e._v(" "),a("div",{staticClass:"title form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v("工作步骤说明:")])]),e._v(" "),a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v(e._s(e.currentTransmitData.periodDesc))])])],1)],1),e._v(" "),a("div",{staticClass:"form-block",staticStyle:{"padding-bottom":"56px"}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"orderNumber",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"fileNumber",label:"档案编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"approveTime",label:"归档时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"approveUserName",label:"归档人"}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[a("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])])},staticRenderFns:[]};var Un={data:function(){return{type:"task",dynamicValidateForm:{fileNumber:""},gutter:40,delegateTaskId:"",InitiateArchive:!1,ConfirmArchiveXM:!1,taskId:""}},props:["currentTransmitData","typeFlag"],watch:{currentTransmitData:{handler:function(e){this.currentTransmitData=e},immeditate:!0},typeFlag:{handler:function(e){this.typeFlag=e,this.init()},immeditate:!0}},created:function(){this.init()},methods:{init:function(){this.taskId=this.currentTransmitData.taskId,this.InitiateArchive="1"===this.typeFlag,this.ConfirmArchiveXM="2"===this.typeFlag,"2"===this.typeFlag&&this.searchArchiveTaskDetailInfo(this.taskId)},searchArchiveTaskDetailInfo:function(e){var t=this;t.apiAddress("/task/query/searchArchiveTaskDetailInfoByTaskId",{taskId:e}).then(function(e){"failure"==e.data.status?t.stateDialog("error",e.data.message):t.delegateTaskId=e.data.dataVO.delegateTaskId}).catch(function(e){t.stateDialog("error",e)})},initiateArchive:function(){var e=this;e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.apiAddress("/task/modify/initiateArchive",{taskId:e.taskId}).then(function(t){"success"==t.data.status?e.$router.push("/page/work/default"):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})}).catch(function(){})},formValidation:function(e){var t=this;return new la.a(function(a,r){t.$refs[e].validate(function(e){e&&a()})})},confirmArchiveXM:function(e){var t=this;t.formValidation(e).then(function(){t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.apiAddress("/task/modify/confirmArchiveXM",{taskId:t.taskId,fileNumber:t.dynamicValidateForm.fileNumber,delegateTaskId:t.delegateTaskId}).then(function(e){"success"==e.data.status?t.$router.push("/page/work/default"):t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}).catch(function(){})})}}},En={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"taskR"},[a("div",{staticClass:"given-container"}),e._v(" "),a("div",{staticClass:"btn-group"},[a("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicValidateForm,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"fileNumber",label:"档案编号",rules:[{required:!0,message:"请输入档案编号",trigger:"blur"}]}},["2"===e.typeFlag?a("el-input",{attrs:{type:"text",placeholder:"请输入档案编号"},model:{value:e.dynamicValidateForm.fileNumber,callback:function(t){e.$set(e.dynamicValidateForm,"fileNumber",t)},expression:"dynamicValidateForm.fileNumber"}}):e._e()],1)],1),e._v(" "),a("p",{staticStyle:{"background-color":"#B6C3CE",padding:"0 20px",width:"100%","margin-bottom":"20px"}}),e._v(" "),e.InitiateArchive?a("el-button",{attrs:{type:"primary"},on:{click:e.initiateArchive}},[e._v("发起归档")]):e._e(),e._v(" "),e.ConfirmArchiveXM?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirmArchiveXM("dynamicValidateForm")}}},[e._v("确认归档")]):e._e()],1)])},staticRenderFns:[]};var Hn={props:["currentTransmitData"],data:function(){return{gutter:40,dataVO:{contractNum:"",createDate:"",taskName:"",taskContent:"",counselTypeName:"",contractTypeName:""}}},watch:{currentTransmitData:{handler:function(e){this.currentTransmitData=e,this.init(this.currentTransmitData.id)},immediate:!0,deep:!0}},created:function(){this.init(this.currentTransmitData.id)},methods:{init:function(e){var t=this,a=this;a.apiAddress("/task/query/searchTaskContent",{taskId:e}).then(function(e){"success"==e.data.status?a.dataVO=t.tool.deepCopy(W()({},e.data.dataVO),t.tool.deepCopy):a.stateDialog("error",e.data.message)}).catch(function(e){a.stateDialog("error",e)})}}},Wn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task"},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v("项目编号:"+e._s(e.currentTransmitData.projectNumber))])]),e._v(" "),a("el-col",{staticStyle:{"padding-left":"15px"},attrs:{span:12}},[a("p",{staticStyle:{"font-size":"12px"}},[e._v("合同编号:"+e._s(e.dataVO.contractNum))])])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v("任务名称:"+e._s(e.dataVO.taskName))])]),e._v(" "),a("el-col",{staticStyle:{"padding-left":"15px"},attrs:{span:12}},[a("p",{staticStyle:{"font-size":"12px"}},[e._v("创建时间:"+e._s(e.dataVO.createDate))])])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v("合同类型:"+e._s(e.dataVO.contractTypeName))])]),e._v(" "),a("el-col",{staticStyle:{"padding-left":"15px"},attrs:{span:12}},[a("p",{staticStyle:{"font-size":"12px"}},[e._v("咨询类别:"+e._s(e.dataVO.counselTypeName))])])],1)],1),e._v(" "),""!=e.dataVO.taskContent?a("div",{staticClass:"title form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v("任务说明:")])]),e._v(" "),a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{"font-size":"12px","padding-left":"10px"}},[e._v(e._s(e.dataVO.taskContent))])])],1)],1):e._e()])},staticRenderFns:[]};var Kn={components:{a3PhasesIndex:cn,a3PhasesRight:gn,otherPhasesIndex:a("VU/8")(Pn,jn,!1,function(e){a("hfz0")},null,null).exports,otherPhasesRight:a("VU/8")(qn,Rn,!1,function(e){a("1MhJ"),a("eECH")},"data-v-e620f6f2",null).exports,PreparationIndex:a("VU/8")(Bn,On,!1,function(e){a("40na")},null,null).exports,PreparationRight:a("VU/8")(zn,Mn,!1,function(e){a("bZSg"),a("/LWQ")},"data-v-c41b4b12",null).exports,projectSupervisionIndex:a("VU/8")({props:["currentTransmitData"],data:function(){return{showImg:!1,gutter:40,tableData:[],total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100]}},watch:{currentTransmitData:{handler:function(e){var t=this;t.currentTransmitData=e,t.taskId=t.currentTransmitData.taskId,t.searchArchiveListInfo(t.taskId,1,10)},immeditate:!0}},created:function(){this.taskId=this.currentTransmitData.taskId,this.searchArchiveListInfo(this.taskId,1,10)},methods:{searchArchiveListInfo:function(e,t,a){var r=this;r.apiAddress("/task/query/searchArchiveListInfo",{taskId:e,pageNumber:t,pageSize:a}).then(function(e){"success"==e.data.status?(r.tableData=e.data.pagedData.dataList,r.total=e.data.pagedData.dataCount):r.stateDialog("error",e.data.message)}).catch(function(e){r.stateDialog("error",e)})},handleSizeChange:function(e){this.pageSize=e,this.searchArchiveListInfo(this.taskId,this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchArchiveListInfo(this.taskId,this.currentPage,this.pageSize)}}},Vn,!1,function(e){a("wfOR")},null,null).exports,projectSupervisionRight:a("VU/8")(Un,En,!1,function(e){a("HCLz"),a("HzSE")},"data-v-6adaa2b2",null).exports,TaskDetails:a("VU/8")(Hn,Wn,!1,function(e){a("XWEz")},null,null).exports},props:["transmittedData"],data:function(){return{currentTransmitData:this.tool.deepCopy(W()({},this.transmittedData),this.tool.deepCopy),office:{officeHeight:"700px",showOnlyOfficeCompFlag:!1,taskMaterialInfo:null},jurisdiction:{},typeFlag:"",postil:{},correctTaskMaterialFlag:!1,errorTyleList:[],auditFileList:[],disabled:!1,showImg:!1}},watch:{transmittedData:{handler:function(e){this.currentTransmitData=e,this.init()},immediate:!0,deep:!0},correctTaskMaterialFlag:{handler:function(){this.correctTaskMaterialFlag?"2"===this.currentTransmitData.periodType?this.searchMaterialByTaskPeriodId():"3"===this.currentTransmitData.periodType&&this.searchOutcomeDocumentMaterial():this.office.showOnlyOfficeCompFlag=this.correctTaskMaterialFlag},deep:!0,immediate:!0}},methods:{init:function(){var e=this;e.apiAddress("/task/query/showBtnType",{periodType:e.currentTransmitData.periodType,relationId:e.currentTransmitData.relationId,taskId:e.currentTransmitData.taskId}).then(function(t){"success"==t.data.status?(e.jurisdiction=t.data.dataVO,e.typeFlag=t.data.typeFlag,"1"==e.typeFlag?e.disabled=!1:e.disabled=!0,e.correctTaskMaterialFlag="2"===e.typeFlag||"3"===e.typeFlag||"4"===e.typeFlag||"5"===e.typeFlag):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)}),"2"===e.currentTransmitData.periodType?(e.searchQuestionList(e.currentTransmitData.departmentId),e.searchReviewFileRelationList(e.currentTransmitData.relationId)):"3"===e.currentTransmitData.periodType&&(e.searchQuestionList(e.currentTransmitData.departmentId),e.searchReviewFileRelationList(e.currentTransmitData.taskId))},searchMaterialByTaskPeriodId:function(){var e=this;e.apiAddress("/task/query/searchMaterialByTaskPeriodId",{taskPeriodId:e.currentTransmitData.relationId}).then(function(t){if("failure"==t.data.status)e.stateDialog("error",t.data.message);else{var a=t.data.dataVO;e.office.taskMaterialInfo={fileName:a.reviewFileName,key:a.onlyOfficeEditKey,downloadUrl:a.onlyOfficeAbsDownLoadPath,saveUrl:a.reviewFilePath},e.postil.onlyOfficeEditKey=a.onlyOfficeEditKey,e.postil.reviewFilePath=a.reviewFilePath,e.postil.reviewFileName=a.reviewFileName,e.office.showOnlyOfficeCompFlag=!0}}).catch(function(t){e.stateDialog("error",t)})},searchOutcomeDocumentMaterial:function(){var e=this;e.apiAddress("/task/query/searchOutcomeDocumentMaterial",{taskId:e.currentTransmitData.taskId}).then(function(t){if("failure"==t.data.status)e.stateDialog("error",t.data.message);else{var a=t.data.dataVO;e.office.taskMaterialInfo={fileName:a.reviewFileName,key:a.onlyOfficeEditKey,downloadUrl:a.onlyOfficeAbsDownLoadPath,saveUrl:a.reviewFilePath},e.postil.onlyOfficeEditKey=a.onlyOfficeEditKey,e.postil.reviewFilePath=a.reviewFilePath,e.postil.reviewFileName=a.reviewFileName,"1"!==a.isSubmitReedit&&""!==a.reviewFileName?e.office.showOnlyOfficeCompFlag=!0:e.correctTaskMaterialFlag=!1}}).catch(function(t){e.stateDialog("error",t)})},searchQuestionList:function(e){var t=this;t.apiAddress("/task/query/searchQuestionList",{departmentId:e}).then(function(e){if("success"==e.data.status){for(var a=e.data.dataList,r=a.length-1;r>=0;r--)a[r].questionNum=0;t.errorTyleList=a}else t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},searchReviewFileRelationList:function(e){var t=this;t.apiAddress("/commonModule/query/searchReviewFileRelationList",{businessId:e}).then(function(e){if("success"==e.data.status){for(var a=e.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/fileId/g,"materialId")),a[r]=JSON.parse(m()(a[r]).replace(/reviewFileName/g,"materialName")),a[r]=JSON.parse(m()(a[r]).replace(/reviewFilePath/g,"materialPath"));t.auditFileList=a}else t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})}}},Jn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"foundItem-task"},[a("div",{staticClass:"center--work-contract"},[2==e.currentTransmitData.periodType?a("a3PhasesIndex",{attrs:{currentTransmitData:e.currentTransmitData,office:e.office,correctTaskMaterialFlag:e.correctTaskMaterialFlag,typeFlag:e.typeFlag}}):e._e(),e._v(" "),3==e.currentTransmitData.periodType?a("PreparationIndex",{attrs:{currentTransmitData:e.currentTransmitData,office:e.office,correctTaskMaterialFlag:e.correctTaskMaterialFlag,typeFlag:e.typeFlag,disabled:e.disabled}}):e._e(),e._v(" "),5==e.currentTransmitData.periodType?a("projectSupervisionIndex",{attrs:{currentTransmitData:e.currentTransmitData}}):e._e(),e._v(" "),2!=e.currentTransmitData.periodType&&3!=e.currentTransmitData.periodType&&5!=e.currentTransmitData.periodType&&6==e.currentTransmitData.treeNodeLevel?a("otherPhasesIndex",{attrs:{currentTransmitData:e.currentTransmitData,disabled:e.disabled}}):e._e(),e._v(" "),5==e.currentTransmitData.treeNodeLevel?a("TaskDetails",{attrs:{currentTransmitData:e.currentTransmitData}}):e._e()],1),e._v(" "),a("div",{staticClass:"right--work-contract",attrs:{width:"200px"}},[2==e.currentTransmitData.periodType?a("a3PhasesRight",{attrs:{currentTransmitData:e.currentTransmitData,postil:e.postil,jurisdiction:e.jurisdiction,typeFlag:e.typeFlag,errorTyleList:e.errorTyleList,auditFileList:e.auditFileList}}):e._e(),e._v(" "),3==e.currentTransmitData.periodType?a("PreparationRight",{attrs:{currentTransmitData:e.currentTransmitData,postil:e.postil,jurisdiction:e.jurisdiction,typeFlag:e.typeFlag,errorTyleList:e.errorTyleList,auditFileList:e.auditFileList}}):e._e(),e._v(" "),5==e.currentTransmitData.periodType?a("projectSupervisionRight",{attrs:{currentTransmitData:e.currentTransmitData,typeFlag:e.typeFlag}}):e._e(),e._v(" "),2!=e.currentTransmitData.periodType&&3!=e.currentTransmitData.periodType&&5!=e.currentTransmitData.periodType&&6==e.currentTransmitData.treeNodeLevel?a("otherPhasesRight",{attrs:{currentTransmitData:e.currentTransmitData,typeFlag:e.typeFlag}}):e._e()],1)])},staticRenderFns:[]};var Qn=a("VU/8")(Kn,Jn,!1,function(e){a("4ghk"),a("dK81")},"data-v-1f175317",null).exports,Gn={props:["form","disabledFlag"],data:function(){return{gutter:40,childDisabledFlag:!0,currentForm:{input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:""},rules:{input2:[{required:!0,message:"请输入公司名称",trigger:"blur"},{max:30,message:"最长30字",trigger:"blur"}],input3:[{required:!0,message:"请输入项目名称",trigger:"blur"},{max:30,message:"最长30字",trigger:"blur"}],input4:[{required:!0,message:"请输入费用名称",trigger:"blur"},{max:30,message:"最长30字",trigger:"blur"}],input5:[{required:!0,message:"选择工程节点请款时间",trigger:"blur"}],input6:[{required:!0,message:"请输入编制工作内容",trigger:"blur"},{max:100,message:"最长100字",trigger:"blur"}],input7:[{required:!0,message:"请输入双方签订的合同",trigger:"blur"},{max:50,message:"最长50字",trigger:"blur"}],input8:[{required:!0,message:"请输入合同类型",trigger:"blur"},{max:20,message:"最长20字",trigger:"blur"}],input9:[{required:!0,message:"请输入收费说明",trigger:"blur"},{max:200,message:"最长200字",trigger:"blur"}]}}},watch:{form:{handler:function(){this.currentForm=this.form},deep:!0,immediate:!0},disabledFlag:{handler:function(){console.log("vm.disabledFlag",this.disabledFlag),this.childDisabledFlag=this.disabledFlag},deep:!0,immediate:!0}}},Yn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"form payrollRequisition",attrs:{model:e.currentForm,rules:e.rules}},[a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司名称",prop:"input2"}},[a("el-input",{attrs:{placeholder:"请输入公司名称",disabled:e.childDisabledFlag},model:{value:e.currentForm.input2,callback:function(t){e.$set(e.currentForm,"input2",t)},expression:"currentForm.input2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"input3"}},[a("el-input",{attrs:{placeholder:"请输入项目名称",disabled:e.childDisabledFlag},model:{value:e.currentForm.input3,callback:function(t){e.$set(e.currentForm,"input3",t)},expression:"currentForm.input3"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"费用名称",prop:"input4"}},[a("el-input",{attrs:{placeholder:"请输入费用名称",disabled:e.childDisabledFlag},model:{value:e.currentForm.input4,callback:function(t){e.$set(e.currentForm,"input4",t)},expression:"currentForm.input4"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工程节点请款时间",prop:"input5"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择工程节点请款时间",disabled:e.childDisabledFlag},model:{value:e.currentForm.input5,callback:function(t){e.$set(e.currentForm,"input5",t)},expression:"currentForm.input5"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"编制工作内容",prop:"input6"}},[a("el-input",{attrs:{placeholder:"请输入编制工作内容",disabled:e.childDisabledFlag},model:{value:e.currentForm.input6,callback:function(t){e.$set(e.currentForm,"input6",t)},expression:"currentForm.input6"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"双方签订的合同",prop:"input7"}},[a("el-input",{attrs:{placeholder:"请输入双方签订的合同",disabled:e.childDisabledFlag},model:{value:e.currentForm.input7,callback:function(t){e.$set(e.currentForm,"input7",t)},expression:"currentForm.input7"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"合同类型",prop:"input8"}},[a("el-input",{attrs:{placeholder:"请输入合同类型",disabled:e.childDisabledFlag},model:{value:e.currentForm.input8,callback:function(t){e.$set(e.currentForm,"input8",t)},expression:"currentForm.input8"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"收费说明",prop:"input9"}},[a("el-input",{attrs:{type:"textarea",rows:8,placeholder:"请输入收费说明",disabled:e.childDisabledFlag},model:{value:e.currentForm.input9,callback:function(t){e.$set(e.currentForm,"input9",t)},expression:"currentForm.input9"}})],1)],1)],1)],1)])},staticRenderFns:[]};var Xn={props:["transmittedData"],data:function(){return{application:!1,ruleForm:{remark:""},formPayroll:{},taskTitle:"",showImg:!1,taskContent:"",contractList:[],personList:[],gutter:40,taskDesc:"",InfoShowFlag:!1,delegateTaskId:"",updateDate:"",form:{contractId:"",requestMenuNum:"",seniorManagerId:"",predictTotal:0,endDate:"",requestAmount:0,requestFileName:"",requestNoteFileName:[],requestNoteFilePath:"",requestType:"",requestFilePath:""},userType:0,commitForm:null,options:[],filedata:null,requestNoteFileData:null,fileNameFlag:!0,showOnlyOfficeCompFlag:!1,correctExamineFlag:!1,showPredictTotalFlag:!1,reviewFile:null,requestMenuInfo:"",disabledFlag:!1,hideOffice:!0,ruleFormRules:{remark:[{required:!0,message:"请输入备注",trigger:"blur"},{max:500,message:"最长500字",trigger:"blur"}]},rules:{requestMenuNum:[{required:!0,message:"请输入档案编号",trigger:"blur"},{max:30,message:"最长30字",trigger:"blur"}],seniorManagerId:[{required:!0,message:"请选择所属高管",trigger:"blur"}],endDate:[{required:!0,message:"请选择工作截止日期",trigger:"blur"}],requestAmount:[{required:!0,message:"请输入请款金额",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],predictTotal:[{required:!0,message:"请输入预计合同总金额",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],requestType:[{required:!0,message:"请选择请款单类型",trigger:"blur"}],requestFileName:[{required:!0,message:"请上传请款单附件",trigger:"change"}]},file:"",watchData:new FormData}},components:{"payroll-requisition":a("VU/8")(Gn,Yn,!1,function(e){a("m3m1")},null,null).exports,office:_o,"dialog-browse-file":Ht,previewFile:Jt},created:function(){var e=this;e.requestMenuId=e.transmittedData.id,e.$nextTick(function(){e.refreshThisComp()}),e.bus.$on("click",function(t){e.$nextTick(function(){e.requestMenuId=e.transmittedData.id,"5"==t.treeNodeLevel&&"requestMent"==t.objType&&e.refreshThisComp()})}),e.bus.$on("refreshThisComp",function(t){e.$nextTick(function(){e.refreshThisComp()})}),e.bus.$on("updateQuestionMenuInfo",function(t){e.updateQuestionMenuInfo(t)}),e.bus.$off("requestPreview"),e.bus.$on("requestPreview",function(t){e.requestPreview(t)})},watch:{correctExamineFlag:function(){this.correctExamineFlag?this.searchRequestMenuInfo():this.showOnlyOfficeCompFlag=this.correctExamineFlag}},methods:{openApplication:function(){this.application=!0},handleClose:function(){this.application=!1,this.$refs.ruleForm.resetFields(),this.$refs.demoUpload.clearFiles()},applicationConfirm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.form.remark=t.ruleForm.remark,t.application=!1})},requestPreview:function(e){var t=this,a=t.form.submitNode;e&&(a=t.getNextStepNode(a));var r={};if("1"==t.form.requestType){r=W()({},t.$refs.payrollRequisition.currentForm);var s=t.$refs.payrollRequisition.currentForm.input5;r.input5=t.formatDate(s,0),r.input1=t.form.requestMenuNum,t.commitForm=new FormData,t.commitForm.append("requestMenuId",t.requestMenuId),t.commitForm.append("delegateTaskId",t.delegateTaskId),t.commitForm.append("contractId",t.form.contractId),t.commitForm.append("requestMenuNum",t.form.requestMenuNum),t.commitForm.append("seniorManagerId",t.form.seniorManagerId),t.form.predictTotal&&t.commitForm.append("predictTotal",t.form.predictTotal),t.commitForm.append("endDate",t.form.endDate),t.commitForm.append("requestAmount",t.form.requestAmount),t.commitForm.append("requestType",t.form.requestType),t.commitForm.append("submitNode",a),t.commitForm.append("frameworkContent",m()(r)),t.commitForm.append("type","request"),t.watchData=t.commitForm,t.file={materialPath:!0,isGeneratedFile:!0,noSubmitPreview:"1"},t.$refs.previewFile.show=!0}else t.stateDialog("error","自定义类型不能预览")},changeRequestType:function(){0==this.form.requestType&&this.$set(this.form,"requestFileName","")},trigger:function(e,t){this.bus.$emit(e,t)},refreshThisComp:function(){this.searchRequestMenuInfo(),this.findSeniorManageruserList(),this.showUserType(this.requestMenuId)},beforeRequestNoteUpload:function(e,t){return!1},handleRequestNoteSuccess:function(e,t){this.requestNoteFileData=e.raw,this.form.requestNotesSignPathFile=URL.createObjectURL(e.raw),this.form.requestNoteFileName.push({fileName:e.name})},beforeRequestUpload:function(e,t){return!1},handleRequestSuccess:function(e,t){this.filedata=e.raw,this.form.signPathFile=URL.createObjectURL(e.raw),this.$set(this.form,"requestFileName",e.name)},formatCreateDate:function(e){console.log("prop",e);var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},updateQuestionMenuInfo:function(e){var t=this,a=this;console.log(this.$refs.form);var r=!0;this.$refs.form.validate(function(s){if("1"==a.form.requestType&&t.$refs.payrollRequisition.$refs.form.validate(function(e){r=e}),!s||!r)return!1;var o=a.form.submitNode;e&&(o=a.getNextStepNode(o)),a.commitForm=new FormData,a.commitForm.append("requestMenuId",a.requestMenuId),a.commitForm.append("delegateTaskId",a.delegateTaskId),a.commitForm.append("contractId",a.form.contractId),a.commitForm.append("requestMenuNum",a.form.requestMenuNum),a.commitForm.append("seniorManagerId",a.form.seniorManagerId),a.form.predictTotal&&a.commitForm.append("predictTotal",a.form.predictTotal),a.commitForm.append("endDate",a.form.endDate),a.commitForm.append("requestAmount",a.form.requestAmount),a.commitForm.append("requestType",a.form.requestType),a.commitForm.append("submitNode",o);var n={};if("0"==a.form.requestType)a.commitForm.append("file",a.filedata),a.commitForm.append("demoFile",a.requestNoteFileData);else{a.commitForm.append("demoFile",a.requestNoteFileData);var i=(n=a.$refs.payrollRequisition.currentForm).input5;n.input5=a.formatDate(i,0),n.input1=a.form.requestMenuNum}a.commitForm.append("frameworkContent",m()(n)),a.$axios.post("/requestMenu/modify/updateRequestMenuInfo",a.commitForm).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.$message({message:e.data.message,type:"success",center:!0}),a.$router.push({path:"/page/work/default"}))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})})},changeDateType:function(){this.form.endDate=this.formatting(this.form.endDate)},downRequestNoteFile:function(){console.log("this.form.requestNoteFileName",this.form.requestNoteFileName," this.form.requestNoteFileName",this.form.requestNoteFileName),this.downloadFile(this.form.requestNoteFilePath,this.form.requestNoteFileName,!1)},searchRequestMenuInfo:function(){var e=this,t=this,a={requestMenuId:this.requestMenuId};t.apiAddress("/requestMenu/query/searchRequestMenuInfo",a).then(function(a){if("failure"==a.data.status)t.$message({message:a.data.message,type:"error",center:!0});else{var r=a.data.dataVO;if(t.requestMenuInfo=r,t.form=W()({},t.form,r),t.delegateTaskId=r.delegateTaskId,t.reviewFile={fileName:r.reviewFileName,key:r.onlyOfficeEditKey,downloadUrl:r.onlyOfficeAbsDownLoadPath,saveUrl:r.reviewFilePath},t.$parent.onlyOfficeEditKey=r.onlyOfficeEditKey,t.$parent.reviewFilePath=r.reviewFilePath,t.$parent.reviewFileName=r.reviewFileName,t.hideOffice=!1,t.$nextTick(function(){t.hideOffice=!0}),t.trigger("changeReviewer",r.submitNode),t.showOnlyOfficeCompFlag=!0,"1"==r.requestType){var s=JSON.parse(r.frameworkContent),o=s.input5.replace("年","-").replace("月","-").replace("日","").split("-"),n=o[0],i=o[1],l=o[2];s.input5=new Date(n,parseInt(i)-1,l),e.formPayroll=s}}t.showBtnFunc()}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},findSeniorManageruserList:function(){var e=this,t={departmentId:e.seniorManagerDeptId};e.apiAddress("/tenderTask/query/searchUsersByDepartmentId",t).then(function(t){if("success"==t.data.status){var a=t.data.dataList;e.options=a}else e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})},showUserType:function(e){var t=this,a={requestMenuId:e};t.apiAddress("/requestMenu/query/showUserType",a).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.userType=e.data.typeFlag,t.showBtnFunc())}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},showBtnFunc:function(){var e=this;e.showPredictTotalFlag=!1,e.correctExamineFlag=!1,e.disabledFlag=!1,e.$nextTick(function(){e.showPredictTotalFlag=null==e.requestMenuInfo.verifyState,e.disabledFlag=1!=e.userType}),2!=e.userType&&3!=e.userType&&4!=e.userType||(e.correctExamineFlag=!0)},formatDate:function(e,t){var a="";if(!this.isNull(e)){var r=e.getFullYear(),s=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,o=e.getDate()<10?"0"+e.getDate():e.getDate();a=0===t?r+"年"+s+"月"+o+"日":r+t+s+t+o}return a},isNull:function(e){var t=!1;return void 0!=e&&null!=e&&""!==e&&0!=e.length||(t=!0),t},uploadBtn:function(){},downDemoBtn:function(){var e=document.createElement("iframe");e.src="/requestMenu/download/downloadDemoFile?realFileName=开票信息附件.xlsx",e.style.display="none",document.body.appendChild(e)}}},Zn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"requestPayout"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules}},[e.correctExamineFlag&&e.showOnlyOfficeCompFlag?e._e():a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("p",[e._v("项目编号:"+e._s(e.form.projectNum))])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("p",[e._v("合同编号:"+e._s(e.form.projectNum+"-"+e.form.contractNum))])])],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("p",[e._v("请款单创建时间:"+e._s(e.formatCreateDate(e.form.createDate)))])]),e._v(" "),a("el-col",{attrs:{span:12}})],1)],1),e._v(" "),e.correctExamineFlag&&e.showOnlyOfficeCompFlag?e._e():a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"档案编号",prop:"requestMenuNum"}},[a("el-input",{attrs:{placeholder:"请输入档案编号",disabled:e.disabledFlag},model:{value:e.form.requestMenuNum,callback:function(t){e.$set(e.form,"requestMenuNum",t)},expression:"form.requestMenuNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"senior",attrs:{label:"所属高管",prop:"seniorManagerId"}},[a("el-select",{attrs:{placeholder:"请选择高管",disabled:e.disabledFlag},model:{value:e.form.seniorManagerId,callback:function(t){e.$set(e.form,"seniorManagerId",t)},expression:"form.seniorManagerId"}},e._l(e.options,function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工作截止日期",prop:"endDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择工作截止时间",disabled:e.disabledFlag},on:{change:function(t){return e.changeDateType()}},model:{value:e.form.endDate,callback:function(t){e.$set(e.form,"endDate",t)},expression:"form.endDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"请款金额(元)",prop:"requestAmount"}},[a("el-input",{attrs:{placeholder:"请输入请款金额",disabled:e.disabledFlag},model:{value:e.form.requestAmount,callback:function(t){e.$set(e.form,"requestAmount",t)},expression:"form.requestAmount"}})],1)],1)],1),e._v(" "),e.showPredictTotalFlag?a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"预计合同总金额(元)",prop:"predictTotal"}},[a("el-input",{attrs:{placeholder:"请输入预计合同总金额",disabled:e.disabledFlag},model:{value:e.form.predictTotal,callback:function(t){e.$set(e.form,"predictTotal",t)},expression:"form.predictTotal"}})],1)],1)],1):e._e(),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-form-item",{attrs:{label:"",required:""}},[a("el-col",{attrs:{span:24}},[a("el-button",{staticStyle:{color:"#409EFF",float:"left",border:"none","margin-right":"10px",height:"28px!important","line-height":"28px","margin-top":"1px"},on:{click:function(t){return e.downDemoBtn()}}},[a("span",{staticClass:"iconfont iconxiazai-",staticStyle:{"font-size":"12px"}}),e._v("\n              下载发票申请单模板\n            ")]),e._v(" "),a("el-button",{staticStyle:{color:"#409EFF",float:"left",border:"none","margin-right":"10px",height:"28px!important","line-height":"28px","margin-top":"1px"},on:{click:function(t){return e.openApplication()}}},[a("span",{staticClass:"iconfont iconxiazai-",staticStyle:{"font-size":"12px"}}),e._v("\n              上传发票申请单附件\n            ")])],1),e._v(" "),e._l(e.form.requestNoteFileName,function(t,r){return a("el-col",{key:r,attrs:{span:10}},[a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"请选择文件",disabled:!0},model:{value:t.fileName,callback:function(a){e.$set(t,"fileName",a)},expression:"item.fileName"}},[a("template",{slot:"append"},[a("span",{staticClass:"iconfont iconxiazai-",staticStyle:{"font-size":"10px",cursor:"pointer"},on:{click:function(t){return e.downRequestNoteFile()}}})])],2)],1)})],2)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",readonly:"readonly"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),e._v(" "),!e.showImg||e.correctExamineFlag&&e.showOnlyOfficeCompFlag?e._e():a("div",{staticClass:"img-failure"},[a("img",{attrs:{src:e.imgSrc,alt:e.imgAlt}}),e._v(" "),a("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.imgAlt))])]),e._v(" "),e.correctExamineFlag?e._e():a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"请款单类型",prop:"requestType"}},[a("el-radio-group",{attrs:{disabled:e.disabledFlag},on:{change:e.changeRequestType},model:{value:e.form.requestType,callback:function(t){e.$set(e.form,"requestType",t)},expression:"form.requestType"}},[a("el-radio",{attrs:{label:"0"}},[e._v("自定义请款单")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("模板请款单")])],1)],1)],1)],1)],1),e._v(" "),e.correctExamineFlag?e._e():a("div",{staticClass:"form-block"},["0"==e.form.requestType?a("div",{staticClass:"form-block"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"",required:"",prop:"requestFileName"}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader upload",attrs:{action:"#","show-file-list":!1,"on-change":e.handleRequestSuccess,"auto-upload":!1,"before-upload":e.beforeRequestUpload,data:e.form,disabled:e.disabledFlag}},[a("el-button",{staticStyle:{color:"#409EFF"},attrs:{disabled:e.disabledFlag}},[a("span",{staticClass:"iconfont",staticStyle:{"font-size":"12px"}},[e._v("")]),e._v("\n                  上传请款单附件\n                ")])],1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入文件名称",disabled:!0},model:{value:e.form.requestFileName,callback:function(t){e.$set(e.form,"requestFileName",t)},expression:"form.requestFileName"}})],1)],1)],1)],1):e._e(),e._v(" "),"1"==e.form.requestType?a("div",{staticClass:"form-block"},[a("payroll-requisition",{ref:"payrollRequisition",attrs:{form:e.formPayroll,disabledFlag:e.disabledFlag}})],1):e._e()]),e._v(" "),e.correctExamineFlag&&e.showOnlyOfficeCompFlag?a("div",{staticClass:"form-block",staticStyle:{height:"700px"}},[e.hideOffice?a("office",{attrs:{file:e.reviewFile}}):e._e()],1):e._e(),e._v(" "),a("preview-file",{ref:"previewFile",attrs:{file:e.file,type:"request",formData:e.watchData}})],1),e._v(" "),a("el-dialog",{attrs:{title:"上传发票申请单附件",visible:e.application,width:"50%",center:""},on:{"update:visible":function(t){e.application=t},close:function(t){return e.handleClose()}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.ruleFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"上传文件"}},[a("el-upload",{ref:"demoUpload",staticClass:"avatar-uploader upload",staticStyle:{float:"left"},attrs:{action:"#",multiple:!0,"show-file-list":!0,"on-change":e.handleRequestNoteSuccess,"auto-upload":!1,"before-upload":e.beforeRequestNoteUpload,data:e.form,disabled:e.disabledFlag}},[a("el-button",{staticStyle:{color:"#409EFF"},attrs:{disabled:e.disabledFlag}},[a("span",{staticClass:"iconfont",staticStyle:{"font-size":"12px"}},[e._v("")]),e._v("\n            上传发票申请单附件\n          ")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.application=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.applicationConfirm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ei={props:["transmittedData"],components:{"dialog-submit-audit":Vo,"collapse-review-read":$o,"collapse-review-write":zo,fileList:No},data:function(){return{activeNames:"white1",above:!1,errorTyleList:[],uploadOptions:{isInvoice:!0},paymentVoucherUploadOptions:{isPayMoney:!0},userType:null,object:{title:"",opinion:"",children:[{id:"",name:"",errorList:[]}]},delegateTaskId:"",updateDate:"",opinionList:[],invoiceFileList:[],paymentVoucherFileList:[],fileTypeList:[],requestFileList:[],reviewFileRelationList:[],submitNode:"",reviewer:{current:"",next:""},requestMenuId:"",paymentVoucherUploadBtnFlag:!1,paymentVoucherDelBtnFlag:!1,invoiceUploadBtnFlag:!1,invoiceDelBtnFlag:!1,showSubmitBtnFlag:!1,showPassBtnFlag:!1,showRejectBtnFlag:!1,showRecallBtnFlag:!1,showJumpBtnFlag:!1,showInvoiceCompFlag:!1,showInvoiceCompBtnFlag:!1,showPaymentVoucherCompFlag:!1,showPaymentVoucherCompBtnFlag:!1,questionCompFlag:!1,requestMenuInfo:"",isMainHeadFlag:!1}},created:function(){},mounted:function(){var e=this,t=this;t.requestMenuId=t.transmittedData.id,t.isMainHeadFlag=t.transmittedData.isMainHeadFlag,t.$nextTick(function(){t.searchRequestMenuInfo(),t.searchReviewFileRelationList(t.requestMenuId),t.showUserType(t.requestMenuId),t.searchHTRequestMenuHisTaskInst(t.requestMenuId)}),t.bus.$on("click",function(e){console.log("right-val",e),t.$nextTick(function(){"5"==e.treeNodeLevel&&"requestMent"==e.objType&&(t.isMainHeadFlag=e.isMainHeadFlag,t.requestMenuId=t.transmittedData.id,t.searchRequestMenuInfo(),t.searchReviewFileRelationList(t.requestMenuId),t.showUserType(t.requestMenuId),t.searchHTRequestMenuHisTaskInst(t.requestMenuId))})}),t.bus.$on("refreshThisComp",function(e){t.$nextTick(function(){t.searchRequestMenuInfo(),t.searchReviewFileRelationList(t.requestMenuId),t.showUserType(t.requestMenuId),t.searchHTRequestMenuHisTaskInst(t.requestMenuId)})}),t.bus.$on("changeReviewer",function(a){t.submitNode=a,t.reviewer={current:e.getStepWorker(a),next:e.getStepWorker(e.getNextStepNode(a))}})},methods:{preview:function(){this.trigger("requestPreview",this.above)},trigger:function(e,t){this.bus.$emit(e,t)},changeObject:function(e){this.object=e},auditingHTQuestionMenu:function(e){var t=this,a=" 是否驳回?";"1"==e&&(a=" 是否通过?"),this.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t.object;a.requestMenuId=t.requestMenuId,a.isPass=e;var r=t.submitNode;if(t.above&&(r=t.getNextStepNode(r)),a.submitNode=r,a.businessId=t.requestMenuId,a.delegateTaskId=t.delegateTaskId,a.onlyOfficeEditKey=t.$parent.onlyOfficeEditKey,a.reviewFileName=t.$parent.reviewFileName,a.reviewFilePath=t.$parent.reviewFilePath,a.userQuestionRecordRelationList=new Array,a=JSON.parse(m()(a).replace(/title/g,"delegateTaskKey")),"0"==e){for(var s=(a=JSON.parse(m()(a).replace(/opinion/g,"rejectReason"))).children.length-1;s>=0;s--)if(a.children[s].errorList)for(var o=a.children[s].errorList.length-1;o>=0;o--)"0"!=a.children[s].errorList[o].questionNum&&(a.children[s].errorList[o].userId=a.children[s].id,a.children[s].errorList[o].userName=a.children[s].name,a.userQuestionRecordRelationList.push(a.children[s].errorList[o]));delete a.children}var n=t;t.apiAddress("/requestMenu/modify/auditingQuestionMenu",a).then(function(e){"failure"==e.data.status?n.$message({message:e.data.message,type:"error",center:!0}):(n.$message({message:e.data.message,type:"success",center:!0}),n.$router.push({path:"/page/work/default"}))}).catch(function(e){n.$message({message:e,type:"error",center:!0})})}).catch(function(){})},submitConfirm:function(e){},submit:function(){var e=this;this.$confirm("此操作将提交审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.trigger("updateQuestionMenuInfo",e.above)}).catch(function(){})},commitBillStep:function(){var e=this;this.$confirm("此操作将提交发票, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var t=e;if(t.invoiceFileList&&t.invoiceFileList.length>0){var a={requestMenuId:t.requestMenuId,updateDate:t.updateDate,delegateTaskId:t.delegateTaskId};e.apiAddress("/requestMenu/modify/commitBillStep",a).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.$message({message:e.data.message,type:"success",center:!0}),t.$router.push({path:"/page/work/default"}))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}else t.$message({message:"请上传发票文件",type:"error",center:!0})}).catch(function(){})},confirmVoucherStep:function(){var e=this;this.$confirm("此操作将确认到款, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var t=e,a={requestMenuId:t.requestMenuId,updateDate:t.updateDate,delegateTaskId:t.delegateTaskId};e.apiAddress("/requestMenu/modify/confirmVoucherStep",a).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.$message({message:e.data.message,type:"success",center:!0}),t.$router.push({path:"/page/work/default"}))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}).catch(function(){})},recallQuestionMenu:function(){var e=this,t=this,a={requestMenuId:t.requestMenuId,delegateTaskId:t.delegateTaskId};this.$confirm("是否撤回?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.apiAddress("/requestMenu/modify/recallQuestionMenu",a).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.$message({message:e.data.message,type:"success",center:!0}),t.$router.go(0))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}).catch(function(){})},searchQuestionList:function(){var e=this,t={departmentId:e.requestMenuInfo.departmentId};e.apiAddress("/tenderTask/query/searchQuestionList",t).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{for(var a=t.data.dataList,r=a.length-1;r>=0;r--)a[r].questionNum=0;e.errorTyleList=a}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},deleteFileInfo:function(){},submitInvoiceForm:function(e){e.append("requestMenuId",this.requestMenuId),e.append("updateDate",this.updateDate),e.append("invoiceAmount",e.get("money")),e.delete("money");var t=this;this.apiAddress("/requestMenu/modify/uploadBill",e).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.$message({message:e.data.message,type:"success",center:!0}),t.searchRequestMenuInfo())}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},searchRequestMenuInfo:function(){var e=this,t={requestMenuId:this.requestMenuId};e.apiAddress("/requestMenu/query/searchRequestMenuInfo",t).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{var a=t.data.dataVO;if(e.requestMenuInfo=t.data.dataVO,e.delegateTaskId=a.delegateTaskId,e.updateDate=a.updateDate,e.searchQuestionList(),e.object={title:e.getStepName(a.delegateTaskKey),opinion:"",children:[{id:a.createUserId,name:a.createUserName,errorList:[]}]},null!=a.invoiceFileName&&null!=a.invoiceFilePath){var r={materialName:a.invoiceFileName,materialPath:a.invoiceFilePath,userName:"金额(元)"+a.invoiceAmount};e.$set(e.invoiceFileList,0,r)}if(null!=a.paymentFileName&&null!=a.paymentFilePath){var s={materialName:a.paymentFileName,materialPath:a.paymentFilePath,userName:"金额(元)"+a.paymentAmount};e.$set(e.paymentVoucherFileList,0,s)}if(null!=a.requestFileName&&null!=a.requestFilePath){var o={materialName:a.requestFileName,materialPath:a.requestFilePath,isGeneratedFile:1==a.requestType};e.$set(e.requestFileList,0,o)}e.showBtnFunc()}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},submitPaymentVoucherForm:function(e){e.append("requestMenuId",this.requestMenuId),e.append("updateDate",this.updateDate),e.append("paymentAmount",e.get("payMoney")),e.delete("payMoney");var t=this;this.apiAddress("/requestMenu/modify/uploadPaymentVoucher",e).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.$message({message:e.data.message,type:"success",center:!0}),t.searchRequestMenuInfo())}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},showUserType:function(e){var t=this,a={requestMenuId:e};t.apiAddress("/requestMenu/query/showUserType",a).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.userType=e.data.typeFlag,t.showBtnFunc())}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},showBtnFunc:function(){var e=this;e.paymentVoucherUploadBtnFlag=!1,e.paymentVoucherDelBtnFlag=!1,e.invoiceUploadBtnFlag=!1,e.invoiceDelBtnFlag=!1,e.showSubmitBtnFlag=!1,e.showPassBtnFlag=!1,e.showRejectBtnFlag=!1,e.showRecallBtnFlag=!1,e.showJumpBtnFlag=!1,e.showInvoiceCompFlag=!1,e.showInvoiceCompBtnFlag=!1,e.showPaymentVoucherCompFlag=!1,e.showPaymentVoucherCompBtnFlag=!1,e.questionCompFlag=!1;var t=e.userType,a=e.requestMenuInfo;switch(t){case"1":e.showSubmitBtnFlag=!0,e.showJumpBtnFlag=null==a.approveTime;break;case"20":e.showRecallBtnFlag=!0;break;case"2":e.showJumpBtnFlag=!0;case"3":case"4":e.showPassBtnFlag=!0,e.showRejectBtnFlag=!0,e.questionCompFlag=!0;break;case"5":e.showInvoiceCompFlag=!0,e.showInvoiceCompBtnFlag=!0,e.invoiceUploadBtnFlag=!0,e.invoiceDelBtnFlag=!0;break;case"6":e.showInvoiceCompFlag=!0,e.showPaymentVoucherCompFlag=!0,e.showPaymentVoucherCompBtnFlag=!0,e.paymentVoucherUploadBtnFlag=!0,e.paymentVoucherDelBtnFlag=!0}e.$forceUpdate()},cancel:function(){this.above=!1},searchReviewFileRelationList:function(e){var t=this,a={businessId:e};t.apiAddress("/commonModule/query/searchReviewFileRelationList",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/fileId/g,"materialId")),a[r]=JSON.parse(m()(a[r]).replace(/reviewFileName/g,"materialName")),a[r]=JSON.parse(m()(a[r]).replace(/reviewFilePath/g,"materialPath"));t.reviewFileRelationList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},searchHTRequestMenuHisTaskInst:function(e){var t=this,a={requestMenuId:e};t.apiAddress("/requestMenu/query/searchHTRequestMenuHisTaskInst",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=0;r<a.length;r++){a[r].title=t.getStepName(a[r].taskKey),a[r]=JSON.parse(m()(a[r]).replace(/htRequestMenuHisTaskInstList/g,"children"));for(var s=a[r].children,o=0;o<s.length;o++){s[o]=JSON.parse(m()(s[o]).replace(/approveTime/g,"time")),s[o]=JSON.parse(m()(s[o]).replace(/approveUserName/g,"name")),s[o]=JSON.parse(m()(s[o]).replace(/htUserQuestionRecordRelationVOList/g,"persions")),s[o]=JSON.parse(m()(s[o]).replace(/rejectReason/g,"opinion"));for(var n=t.groupBy(s[o].persions,function(e){return[e.userId]}),i=0;i<n.length;i++){n[i].name=n[i].dataList[0].userName,n[i]=JSON.parse(m()(n[i]).replace(/dataList/g,"errorList"));for(var l=n[i].errorList,c=l.length-1;c>=0;c--)l[c]=JSON.parse(m()(l[c]).replace(/questionName/g,"type")),l[c]=JSON.parse(m()(l[c]).replace(/questionNum/g,"num"));n[i].errorList=l}s[o].persions=n}}t.opinionList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}}},ti={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"foundItem__requestPayout"},[a("div",{staticClass:"given-container"},[a("el-collapse",{staticClass:"level1",model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[e.requestFileList.length>0?a("fileList",{attrs:{type:"request",id:e.transmittedData.id,title:"请款单文件",showUploadBtn:!1,delBtnFlag:!1,list:e.requestFileList}}):e._e(),e._v(" "),e._l(e.opinionList,function(e,t){return[a("collapse-review-read",{key:t,attrs:{object:e}})]}),e._v(" "),e.questionCompFlag?a("collapse-review-write",{attrs:{name:"white1",object:e.object,errorTyleList:e.errorTyleList},on:{submit:e.changeObject}}):e._e(),e._v(" "),e.showInvoiceCompFlag||e.invoiceFileList.length>0?a("fileList",{attrs:{title:"发票",name:"发票",showUploadBtn:e.invoiceUploadBtnFlag,delBtnFlag:e.invoiceDelBtnFlag,uploadOptions:e.uploadOptions,list:e.invoiceFileList,userType:2},on:{del:e.deleteFileInfo,submit:e.submitInvoiceForm}}):e._e(),e._v(" "),e.showPaymentVoucherCompFlag||e.paymentVoucherFileList.length>0?a("fileList",{attrs:{title:"打款凭证",name:"打款凭证",uploadOptions:e.paymentVoucherUploadOptions,showUploadBtn:e.paymentVoucherUploadBtnFlag,delBtnFlag:e.paymentVoucherDelBtnFlag,list:e.paymentVoucherFileList,userType:2,isPayMoney:!0},on:{del:e.deleteFileInfo,submit:e.submitPaymentVoucherForm}}):e._e(),e._v(" "),e.reviewFileRelationList.length>0?a("fileList",{attrs:{title:"审核意见文件",showUploadBtn:!1,delBtnFlag:!1,list:e.reviewFileRelationList}}):e._e()],2)],1),e._v(" "),a("dialog-submit-audit",{ref:"submit",attrs:{above:e.above,reviewer:e.reviewer},on:{submit:e.submitConfirm,cancel:e.cancel}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("p",{staticStyle:{"background-color":"#B6C3CE",padding:"0 20px",width:"100%","margin-bottom":"10px"}},[e.showJumpBtnFlag?a("el-checkbox",{staticStyle:{color:"white"},model:{value:e.above,callback:function(t){e.above=t},expression:"above"}},[e._v("\n        跳级审核\n      ")]):e._e()],1),e._v(" "),e.showInvoiceCompBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.commitBillStep}},[e._v("提交发票")]):e._e(),e._v(" "),e.showPaymentVoucherCompBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.confirmVoucherStep}},[e._v("确认到款")]):e._e(),e._v(" "),e.showPassBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingHTQuestionMenu("1")}}},[e._v("通过")]):e._e(),e._v(" "),e.showRejectBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingHTQuestionMenu("0")}}},[e._v("驳回")]):e._e(),e._v(" "),e.showSubmitBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交审核")]):e._e(),e._v(" "),e.showRecallBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.recallQuestionMenu}},[e._v("撤回")]):e._e(),e._v(" "),e.showSubmitBtnFlag?a("el-button",{attrs:{type:"primary"},on:{click:e.preview}},[e._v("预览")]):e._e()],1)],1)},staticRenderFns:[]};var ai={contractType:"0",formworkType:"",noticeName:"",releaseDate:"",userName:"",signPathFile:"",materialName:"",input:"",textarea:"",checkbox:[],checkboxC:[],select:"",date:""},ri={projectName:"",counselBusinessType:"",contractSealType:"1",counselTypePeriod:"",projectTypeList:[],residential:{landArea:"",floorArea:"",eavesHeight:"",buildingControlHeight:"",volumeRatio:"",homeType:""},commercialBuildings:{landArea:"",floorArea:"",eavesHeight:"",buildingControlHeight:""},hotelAndLeisureEntertainment:{landArea:"",floorArea:"",eavesHeight:"",buildingControlHeight:"",roomNum:""},industrialArchitecture:{landArea:"",floorArea:"",eavesHeight:"",level:"",span:"",produceCondition:""},education:{landArea:"",floorArea:"",makeGreenRatio:"",greenLevel:""},culturalAndSportsFacilities:{landArea:"",floorArea:"",makeGreenRatio:"",greenLevel:""},power:{landArea:"",floorArea:"",installationCapacity:"",transformersNum:"",cableLayingLength:"",cableLayingMethod:"",transmissionCapacity:""},railwayRoadBridgeConstruction:{grade:"",bridgeLength:"",designSpeed:"",orbitalType:"",bridgeType:""},water:{normalOperatingWaterLevel:"",totalStorageCapacity:"",maximumDamHeight:"",installedCapacityOfPowerStation:""},publicUtilitiesUrbanInfrastructure:{landArea:"",floorArea:"",others:""},waterTransportationAndTransportation:{portThroughput:"",channelThroughput:"",flowDirection:"",branchLineVolume:"",shipFlow:"",gatheringAndDistributingWays:""},others:{others:""},projectAddress:"",investedAmount:"",isProvisional:"",projectNatureList:[],trusterName:"",trusterTypeList:[],trusterDutyUser:"",trusterDutyPhone:"",consultUser:"",thirdParty:"",dutyPeople:"",planner:"",contractNatureList:[],determinateMethodList:[],contractAmount:"",isValueProvisional:"",contractDate:"",otherThings:"",characteristic:[{startDate:"",receivedAmount:"",isProvisional:""}],input:"",textarea:"",checkbox:[],select:"",date:"",radioC:"",contractType:"0"},si={province:"",region:"",generalize:"",fund:"",period:"",scope:"",deadline:"",copies:"",entrust:"",consult:"",representative:"",personnel:"",pay:"",desc:"",dispute:"",team:"",recipient:"",site:"",reward:""},oi={provinceName:"",districtName:"",scale:"",biddingScale:"",agentWorkContent:"",signAddress:"",agentRange:"",agentContent:"",paymentMethod:""},ni={provinceName:"",districtName:"",serviceContent:"",consultAddress:"",telNumber:"",faxNumber:"",floorage:"",useNature:"",designPay:"",constructionPay:"",settlementPay:"",advancePayment:"",progressPayment:"",balance:"",isDesignPayProvisional:"",isConstructionPayProvisional:"",isSettlementPayProvisional:"",isAdvancePaymentProvisional:"",isProgressPaymentProvisional:"",isBalanceProvisional:"",addClauses:""},ii={supervisor:"",projectScale:"",instalCost:"",isInstalCostProvisional:"",engineerName:"",IDNumber:"",registrationNumber:"",signAmount:"",isSignAmountProvisional:"",superviseDate:"",startYear:"",startMonth:"",startDay:"",endYear:"",endMonth:"",endDay:"",signDate:"",signYear:"",signMonth:"",signDay:"",signAddress:"",truBusinessLicenseNumber:"",truAddress:"",truPostalCode:"",truOpenBank:"",truAcountNumber:"",truTelNumber:"",truFaxNumber:"",truEMail:"",supBusinessLicenseNumber:"",supCertificateNumber:"",supAddress:"",supPostalCode:"",supOpenBank:"",supAcountNumber:"",supTelNumber:"",supFaxNumber:"",supEMail:"",specialClauses:"",trusterAgent:"",paymentMethod:"",disputeResolution:""},li={data:function(){return{itemName:"",theFormDisabled:!1,showView:!0,theFormData:{indexContract:{form:W()({},ai)},baseContract:{form:W()({},ri),controlObj:{}},formCostConsulting:{form:W()({},si)},formConstructionProjectBiddingAgency:{form:W()({},oi)},formProjectManagementConsultingService:{form:W()({},ni)},formSupervision:{form:W()({},ii)}},transmittedData:{projectNumber:"",periodDesc:"",taskMaterialInfo:"",onlyOfficeFlg:!1},btnIsDisabled:!1,contractList:[],view_index:"",view_right:"",currentContract:{},isCompile:!1,compile:"",storageData:this.SStorage.getItem("/page/work/contract/FoundItem"),dialogVisible:!1,contractDialogVisible:!1,contract:!1,title:"",showImg:!1,imgSrc:"",imgAlt:"",changeItem:{companyId:"",projectId:"",projectName:"",counselTypePeriod:""},changeContract:{contractId:"",contractNum:"",contractList:[{userName:"",departmentId:"",jobId:""}],cooperateContract:0},rules:{companyId:[{required:!0,message:"请输入项目编号",trigger:"blur"}]},projectNumPrefix:"",condenseSelect:[],condense:"",projectNum:"",personSelect:[],gutter:40,taskId:"",requestMenuId:"",currentContractId:"",currentContractName:"",taskform:{smallForm:[],userList:[],consultList:[],tableData:[],showTable:!1,iconDown:!0,iconUp:!1},radios:[]}},watch:{contractDialogVisible:{handler:function(){var e=this;e.contractDialogVisible||(e.resetChangeContract(),e.$nextTick(function(){e.$refs.changeContract&&e.$refs.changeContract.clearValidate()}))},immediate:!0}},components:{contract:ko,"contract-r":Yo,project:an,"project-r":on,"project-basic-information":ao,"project-basic-information-r":so,task:Qn,"request-payout":a("VU/8")(Xn,Zn,!1,function(e){a("aKxi"),a("QJwG")},null,null).exports,"request-payout-r":a("VU/8")(ei,ti,!1,function(e){a("D8df"),a("rv4r")},"data-v-175bc2b9",null).exports,"create-task":Hs,a3:Mr,"dialog-request-payout":Ks},beforeDestroy:function(){this.bus.$off("click"),this.bus.$off("aside-task-download")},mounted:function(){var e=this,t=this;t.bus.$on("allocation",function(e){t.changeContract.contractId=e.id,t.editProject("contractDialogVisible","compile",e)}),t.bus.$on("click",function(t){var a=e;a.showView=!1,a.transmittedData=W()({},a.transmittedData,t),a.transmittedData=a.tool.deepCopy(a.transmittedData,a.tool.deepCopy),a.resetContractForm(),a.baseContract(a.transmittedData),a.$nextTick(function(){a.showView=!0})}),t.bus.$on("showAddRequestMenuForm",function(e){t.currentContractId=e.id,t.currentContractName=e.label,t.$nextTick(function(){t.$refs.addRequestMenuForm.show=!0})}),t.bus.$on("checkFile",function(e){t.checkFile(e)}),t.bus.$on("editProject",function(e){t.changeItem.projectId=e.id,t.editProject("dialogVisible")}),t.bus.$on("delProject",function(e){t.changeItem.projectId=e.id,t.delProject("item")}),t.bus.$on("addContract",function(e){t.changeItem.projectId=t.storageData.projectId,t.projectNum=e.label,t.editProject("contractDialogVisible","add")}),t.bus.$on("delContract",function(e){t.changeContract.contractId=e.id,t.delProject("contract")}),t.bus.$on("editContract",function(e){t.changeItem.projectId=t.storageData.projectId,t.projectNum=t.storageData.projectNum,t.changeContract.contractNum=e.label.substring(e.label.indexOf("-")+1),t.changeContract.contractId=e.id,t.editProject("contractDialogVisible","change")}),t.bus.$on("createTask",function(a,r){t.$refs.createTask&&(t.$refs.createTask.$data.show=!0,t.changeContract.departmentId=a.departmentId,"0"==r?(t.title="创建任务",t.changeContract.contractNum=a.label,t.changeContract.contractId=a.id,t.taskform={smallForm:[],userList:[],consultList:[],tableData:[],showTable:!1,iconDown:!0,iconUp:!1},t.getContractTypeList()):"1"==r&&(t.title="修改任务",t.taskId=a.id,t.getTaskInfo()),t.getUserList(),t.$refs.createTask.$data.show&&e.bus.$emit("searchDictCounselTypeListByContractTypeId",e.contractList))}),t.bus.$on("delRequestMenu",function(e){t.requestMenuId=e.id,t.delRequestMenu()}),t.bus.$on("delTask",function(e){t.taskId=e.id,t.delProject("task")}),t.bus.$on("aside-task-download",function(t){var a="/taskExecute/downLoad/downLoadTaskExecuteExecl?taskId="+t.id;e.downloadFile(a,"",!0)}),t.bus.$on("theFormDisabled",function(e){t.theFormDisabled=e}),t.bus.$on("onlyOfficeFlg",function(t){e.transmittedData.onlyOfficeFlg=t}),this.getProjectNum(),this.searchCounselTypePeriodList()},methods:{getUserList:function(){var e=this;this.apiAddress("/task/query/searchUserListByDepartmentId",{taskId:this.taskId,contractId:this.changeContract.contractId}).then(function(t){"success"==t.data.status?e.$refs.createTask.$data.personList=t.data.dataList:e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})},getContractTypeList:function(){var e=this;this.apiAddress("/task/query/searchDictContractTypeListByDepartmentId",{contractId:this.changeContract.contractId}).then(function(t){"success"==t.data.status?e.contractList=t.data.dataList:e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error",t)})},getTaskInfo:function(){var e=this,t=this;this.apiAddress("/task/query/searchTaskInfo",{taskId:this.taskId}).then(function(a){if("success"==a.data.status){e.changeContract.contractNum=a.data.dataVO.contractNum;for(var r=0;r<a.data.dataVO.smallForm.length;r++)a.data.dataVO.smallForm[r].showTable1=!1,a.data.dataVO.smallForm[r].iconDown1=!0,a.data.dataVO.smallForm[r].iconUp1=!1,a.data.dataVO.smallForm[r].endDate=new Date(a.data.dataVO.smallForm[r].endDate);t.taskform=t.tool.deepCopy(W()({smallForm:[],userList:[],consultList:[],tableData:[],showTable:!1,iconDown:!0,iconUp:!1},a.data.dataVO),t.tool.deepCopy)}else e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error",t)})},getProjectNum:function(){var e=this,t=this;this.apiAddress("/project/query/searchProjectInfo",{projectId:this.storageData.projectId}).then(function(a){"success"==a.data.status?(e.contract=!1,t.transmittedData=W()(t.transmittedData,{projectNumber:a.data.dataVO.projectNum,contractNumber:""})):e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error",t)})},dateDiff:function(e){return parseInt(Math.abs(e[1].getTime()-e[0].getTime())/1e3/60/60/24)},SubmitContract:function(e){},handleClose:function(e){this.$refs[e].resetFields()},baseContract:function(e){1==e.treeNodeLevel?(this.view_index="project",this.view_right="project-r"):2==e.treeNodeLevel?"project"==e.objType&&(this.view_index="project-basic-information",this.view_right="project-basic-information-r"):3==e.treeNodeLevel?(this.view_index="contract",this.view_right="contract-r",this.contract=!0,this.transmittedData=W()(this.transmittedData,{contractNumber:e.label}),this.changeContract.contractId=e.id,this.getContractDetailInfo()):5==e.treeNodeLevel?"requestMent"==e.objType?(this.view_index="request-payout",this.view_right="request-payout-r",this.transmittedData={id:e.id,level:e.treeNodeLevel,isMainHeadFlag:e.isMainHeadFlag}):(this.view_index="task",this.view_right=""):6==e.treeNodeLevel&&(this.view_index="task",this.view_right="",console.log("pageContent",e.pageContent),console.log("periodType",e.periodType),console.log("relationId",e.relationId),console.log("departmentId",e.departmentId),console.log("taskId",e.taskId))},getAbbr:function(e){var t,a=this,r=0;t=this.personSelect.find(function(t){return a.isCompile?t.jobId===e.jobId:t.departmentId===e.departmentId});for(var s=0,o=a.changeContract.contractList.length;s<o;s++){if(a.changeContract.contractList[s].departmentId==e.departmentId&&++r>1)return e.userName="",e.departmentId="",e.jobId="",e.abbr="",a.countContractNum(),a.stateDialog("error","不可以选择重复的指定人员!")}e.userName=t.userName?t.userName:"",e.departmentId=t.departmentId?t.departmentId:"",e.jobId=t.jobId?t.jobId:"",e.abbr=t.abbr?t.abbr:"",a.isCompile||a.countContractNum()},countContractNum:function(){for(var e=this,t=this,a="",r="",s="",o=0,n=t.changeContract.contractList.length;o<n;o++){var i=t.changeContract.contractList[o];switch(o){case 0:a=i.abbr?i.abbr:"";break;case 1:r=i.abbr?"/"+i.abbr:"";break;case 2:s=i.abbr?"/"+i.abbr:""}}this.apiAddress("/project/query/searchContractCountByProjectIdAndDepartmentId",{projectId:t.changeItem.projectId}).then(function(o){"success"==o.data.status?t.changeContract.contractNum=a+r+s?a+r+s+o.data.dataVO.contractCount:"":e.stateDialog("error",o.data.message)}).catch(function(t){e.stateDialog("error")})},getPersonList:function(){var e=this,t=this;this.apiAddress("/project/query/excSearchPersonList",{}).then(function(a){"success"==a.data.status?t.personSelect=a.data.dataList:e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error",t)})},getContractWriter:function(){var e=this,t=this;this.apiAddress("/project/query/queryContractWriter",{contractId:t.changeContract.contractId}).then(function(a){var r=a.data.dataVO.departmentId;"success"==a.data.status?(t.changeContract.contractList[0].jobId=a.data.dataVO.applyUserId?a.data.dataVO.applyUserId:"",a.data.dataVO.applyUserName&&""!=a.data.dataVO.applyUserName&&a.data.dataVO.applyUserId&&""!=a.data.dataVO.applyUserId?t.btnIsDisabled=!0:t.btnIsDisabled=!1,t.compile=a.data.dataVO.contractNum,e.getDepartmentPersonList(r)):e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error",t)})},getDepartmentPersonList:function(e){var t=this,a=this;this.apiAddress("/project/query/excSearchPersonListByInvolvedDepartment",{departmentId:e}).then(function(e){"success"==e.data.status?a.personSelect=e.data.dataList:t.stateDialog("error",e.data.message)}).catch(function(e){t.stateDialog("error",e)})},getCondense:function(e){var t;t=this.condenseSelect.find(function(t){return t.companyId===e}),this.condense=t.condense},getProjectInfo:function(){var e=this,t=this;this.apiAddress("/project/query/searchProjectInfo",{projectId:t.changeItem.projectId}).then(function(a){"success"==a.data.status?(t.projectNumPrefix=a.data.dataVO.projectNumPrefix,t.condense=a.data.dataVO.condense,a.data.dataVO.companyId&&(t.changeItem.companyId=a.data.dataVO.companyId),a.data.dataVO.projectName&&(t.changeItem.projectName=a.data.dataVO.projectName),a.data.dataVO.counselTypePeriod&&(t.changeItem.counselTypePeriod=a.data.dataVO.counselTypePeriod)):e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error")})},getCondenseSelect:function(){var e=this,t=this;this.apiAddress("/project/query/searchCondenseList",{}).then(function(a){"success"==a.data.status?t.condenseSelect=a.data.dataList:e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error")})},getContractDetailInfo:function(){var e=this,t=this;this.apiAddress("/contract/query/excSearchContractDetailInfo",{contractId:t.changeContract.contractId}).then(function(a){if("success"==a.data.status){var r=a.data.dataVO;t.transmittedData.taskMaterialInfo||t.$set(t.transmittedData,"taskMaterialInfo",{}),t.transmittedData.taskMaterialInfo={fileName:r.reviewFileName,key:r.onlyOfficeEditKey,downloadUrl:r.onlyOfficeAbsDownLoadPath,saveUrl:r.reviewFilePath};var s=t.theFormData.indexContract,o=t.theFormData.baseContract,n=[];if(r.projectTypeList&&r.projectTypeList.length)for(var i={},l=0;l<r.projectTypeList.length;l++){var c=parseInt(r.projectTypeList[l].projectType);switch(n.push(c),o.controlObj[c]=!0,i={},i=r.projectFeatureList[l],r.projectTypeList[l].projectType){case"0":o.form.residential=i;break;case"1":o.form.commercialBuildings=i;break;case"2":o.form.hotelAndLeisureEntertainment=i;break;case"3":o.form.industrialArchitecture=i;break;case"4":o.form.education=i;break;case"5":o.form.culturalAndSportsFacilities=i;break;case"6":o.form.power=i;break;case"7":o.form.railwayRoadBridgeConstruction=i;break;case"8":o.form.water=i;break;case"9":o.form.publicUtilitiesUrbanInfrastructure=i;break;case"10":o.form.waterTransportationAndTransportation=i;break;case"11":o.form.others=i}}if(null!=r.predictRequestDateList&&r.predictRequestDateList.length>0){o.form.characteristic=[];for(var u=void 0,p=0;p<r.predictRequestDateList.length;p++)(u={}).startDate=new Date(r.predictRequestDateList[p].startDate),u.receivedAmount=r.predictRequestDateList[p].receivedAmount,u.isProvisional=r.predictRequestDateList[p].isProvisional,o.form.characteristic.push(u)}if(s.form=W()(s.form,r),o.form=W()({},o.form,r,{projectTypeList:n}),o.controlObj=W()({},o.controlObj),"0"==r.contractType);else if("1"==r.contractType){if(void 0==r.formworkContent)return;var m=JSON.parse(r.formworkContent);switch(r.formworkType){case"0":var d={};if(d.province=m.provinceName,d.region=m.districtName,d.generalize=m.projectScale,d.fund=m.fundSource,d.period=m.buildPeriod,d.scope=m.workContent,""!=m.startYear){var f=new Date(parseInt(m.startYear),parseInt(m.startMonth)-1,parseInt(m.startDay)),g=new Date(parseInt(m.endYear),parseInt(m.endMonth)-1,parseInt(m.endDay));d.deadline=[],d.deadline.push(f),d.deadline.push(g)}d.copies=m.totalContractCount,d.entrust=m.trusterContractCount,d.consult=m.consultantContractCount,d.representative=m.trusterRepresent,d.personnel=m.personCount,null!=m.paymentMethod&&""!=m.paymentMethod&&(d.pay=parseInt(m.paymentMethod)),"0"==m.paymentMethod?d.input=m.paymentInfo:"1"==m.paymentMethod&&(d.desc=m.paymentInfo),d.dispute=m.courtName,d.recipient=m.receiver,d.site=m.deliveryPlace,d.reward=m.calculationMethod;var h=m.serviceAndWorkContentList;if(null!=h&&h.length>0){var v=d.serviceAndWorkContent={};v.data=[];for(var b=void 0,y=0;y<h.length;y++){if((b={}).serve=h[y].servicePhaseId+","+h[y].servicePhase+","+h[y].serviceRange,b.content=[],h[y].workContentList&&h[y].workContentList.length>0)for(var _=0;_<h[y].workContentList.length;_++)"1"==h[y].workContentList[_].isCheckedFlg&&b.content.push(parseInt(h[y].workContentList[_].workContentType)+1);b.charge={},b.charge.money=h[y].chargeRadix,b.charge.state=h[y].isChargeRadixProvisional,b.standard={},b.standard.money=h[y].chargeStandard,b.standard.state=h[y].isChargeStandardProvisional,b.sum={},b.sum.money=h[y].remuneration,b.sum.state=h[y].isRemunerationProvisional,b.remark=h[y].remark;/其他|工程实施阶段造价/g.test(h[y].serviceRange)?(b.input=!0,b.details=h[y].workContent,b.checkbox=!1,b.checkbox1=!1):/资金使用计划/g.test(h[y].serviceRange)?(b.input=!1,b.details="",b.checkbox=!1,b.checkbox1=!0):(b.input=!1,b.details="",b.checkbox=!0,b.checkbox1=!1),v.data.push(b)}}var w=m.achievementFileList;if(null!=w&&w.length>0){var C=d.achievementFile={};C.data=[];for(var k=void 0,F=0;F<w.length;F++)(k={}).serve=w[F].servicePhaseId+","+w[F].servicePhase,k.name=w[F].achievementFileName,k.constitute=w[F].achievementFileCompose,k.date=w[F].submitDate,k.copies=w[F].fileCount,k.standard=w[F].qualityStandard,C.data.push(k)}var D=m.provideDataList;if(null!=D&&D.length>0){var x=d.provideData={};x.data=[];for(var T=void 0,N=0;N<D.length;N++){(T={}).name=D[N].trusterName,T.copies=D[N].dataCount;var I="",A="",S="",L="";if(D[N].provideDate){var $=D[N].provideDate.replace("年","-").replace("月","-").replace("日","").split("-");I=$[0],A=$[1],S=$[2],L=new Date(I,parseInt(A)-1,S)}T.time=L,T.remark=D[N].remark,x.data.push(T)}}W()(t.theFormData.formCostConsulting.form,d);break;case"1":W()(t.theFormData.formConstructionProjectBiddingAgency.form,m);break;case"2":W()(t.theFormData.formProjectManagementConsultingService.form,m);break;case"3":var P=t.theFormData.formSupervision.form;W()(P,m),P.superviseDate=[],m.startYear&&(P.superviseDate.push(new Date(parseInt(m.startYear),parseInt(m.startMonth)-1,parseInt(m.startDay))),P.superviseDate.push(new Date(parseInt(m.endYear),parseInt(m.endMonth)-1,parseInt(m.endDay)))),m.signYear&&(P.signDate=new Date(parseInt(m.signYear),parseInt(m.signMonth)-1,m.signDay))}}}else e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error")})},getContractInfo:function(){var e=this,t=this;this.apiAddress("/project/query/excSearchContractInfo",{contractId:t.changeContract.contractId}).then(function(a){"success"==a.data.status?t.changeContract.contractList=[{userName:a.data.dataVO.userName,departmentId:a.data.dataVO.departmentId,jobId:a.data.dataVO.jobId}]:e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error")})},deleteProject:function(){var e=this;this.apiAddress("/project/delete/deleteProjectInfo",{projectId:this.changeItem.projectId}).then(function(t){"success"==t.data.status?(e.stateDialog("success",t.data.message),e.$router.push({path:"/page/item"})):e.stateDialog("error",t.data.message)}).catch(function(t){e.stateDialog("error")})},deleteContract:function(){var e=this,t=this;this.apiAddress("/project/delete/deleteContractInfo",{contractId:t.changeContract.contractId}).then(function(a){if("success"==a.data.status){e.stateDialog("success",a.data.message);var r=t.SStorage.getItem("/page/work/contract/FoundItem");r.businessId=r.projectId,t.SStorage.setItem("/page/work/contract/FoundItem",r),t.bus.$emit("asideRefresh")}else e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error")})},deleteTask:function(){var e=this,t=this;this.apiAddress("/task/delete/deleteTaskInfo",{taskId:t.taskId}).then(function(a){if("success"==a.data.status){e.stateDialog("success",a.data.message);var r=t.SStorage.getItem("/page/work/contract/FoundItem");r.businessId=r.contractId,t.SStorage.setItem("/page/work/contract/FoundItem",r),t.bus.$emit("asideRefresh")}else e.stateDialog("error",a.data.message)}).catch(function(t){e.stateDialog("error")})},editProject:function(e,t,a){if(this[e]=!0,"add"==t)this.title="新增合同",this.isCompile=!1,this.itemName="指定业务部门副总",this.getPersonList();else if("compile"==t){this.title="分配合同编撰人",this.isCompile=!0,this.projectNum=this.storageData.projectNum,this.itemName="分配合同编撰人";var r=a.label.indexOf("-");this.changeContract.contractNum=a.label.slice(r+1),this.getContractWriter()}else"dialogVisible"==e?(this.title="修改项目",this.getProjectInfo(),this.getCondenseSelect()):"contractDialogVisible"==e&&(this.title="修改合同",this.isCompile=!1,this.itemName="指定业务部门副总",this.getPersonList(),this.getContractInfo())},delProject:function(e){var t=this;t.$confirm("确认删除吗?",{center:!0}).then(function(){"item"==e?t.deleteProject():"contract"==e?(t.deleteContract(),t.getProjectNum()):"task"==e&&t.deleteTask()}).catch(function(e){})},submitForm:function(e,t){var a=this,r=this;r.$refs[e].validate(function(s){if(!s)return r[t]=!0,!1;r.$confirm("确认提交吗?",{center:!0}).then(function(){var s={},o="";if("changeItem"==e)s={projectId:r.changeItem.projectId,projectNum:r.projectNumPrefix+r.condense,companyId:r.changeItem.companyId,projectName:r.changeItem.projectName,counselTypePeriod:r.changeItem.counselTypePeriod},o="/project/modify/updateProjectInfo";else if("changeContract"==e&&"新增合同"==r.title)s={projectId:r.storageData.projectId,contractNum:r.changeContract.contractNum,cooperateContract:r.changeContract.cooperateContract,contractList:r.changeContract.contractList},o="/project/add/saveContractInfo";else if("changeContract"==e&&"修改合同"==r.title)s={projectId:r.storageData.projectId,contractId:r.changeContract.contractId,contractNum:r.changeContract.contractNum,jobId:r.changeContract.contractList[0].jobId,departmentId:r.changeContract.contractList[0].departmentId},o="/project/modify/updateContractInfo";else if("changeContract"==e&&"分配合同编撰人"==r.title)s={projectId:r.storageData.projectId,contractId:r.changeContract.contractId,userId:r.changeContract.contractList[0].jobId},o="/project/modify/updateContractUserInfo";a.apiAddress(o,s).then(function(o){if("success"==o.data.status){a.stateDialog("success",o.data.message);var n=r.SStorage.getItem("/page/work/contract/FoundItem");"changeItem"==e?n.businessId=s.projectId:"changeContract"==e&&"新增合同"==r.title?n.businessId=o.data.primaryKey:"changeContract"==e&&"修改合同"==r.title&&(n.businessId=n.id),r.SStorage.setItem("/page/work/contract/FoundItem",n),a.bus.$emit("asideRefresh"),a[t]=!1,a.$refs[e].resetFields(),a.getProjectNum()}else a.stateDialog("error",o.data.message)}).catch(function(e){a.stateDialog("error",e)})}).catch(function(){})})},checkFile:function(e){1==e?(this.imgSrc=a("Rxvo"),this.imgAlt="暂无文件"):2==e&&(this.imgSrc=a("+edG"),this.imgAlt="文件暂时无法预览，请下载查看！")},addRequestMenu:function(e){var t=this,a=this,r={contractId:a.currentContractId,contractName:a.currentContractName,requestMenuName:e.name};a.apiAddress("/requestMenu/add/insertRequestMenuInfo",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{a.$message({message:e.data.message,type:"success",center:!0});var r=a.SStorage.getItem("/page/work/contract/FoundItem");r.businessId=e.data.primaryKey,a.SStorage.setItem("/page/work/contract/FoundItem",r),t.bus.$emit("asideRefresh")}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},resetContractForm:function(){this.theFormData={indexContract:{form:W()({},ai)},baseContract:{form:W()({},ri),controlObj:{}},formCostConsulting:{form:W()({},si)},formConstructionProjectBiddingAgency:{form:W()({},oi)},formProjectManagementConsultingService:{form:W()({},ni)},formSupervision:{form:W()({},ii)}}},delRequestMenu:function(){var e=this,t=this,a={requestMenuId:t.requestMenuId};t.apiAddress("/requestMenu/delete/deleteRequestMenuInfo",a).then(function(a){if("failure"==a.data.status)t.$message({message:a.data.message,type:"error",center:!0});else{t.$message({message:a.data.message,type:"success",center:!0});var r=t.SStorage.getItem("/page/work/contract/FoundItem");r.businessId=r.contractId,t.SStorage.setItem("/page/work/contract/FoundItem",r),e.bus.$emit("asideRefresh")}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},addPersonnel:function(){this.changeContract.contractList.length>2||this.changeContract.contractList.push({userName:"",departmentId:"",jobId:""})},delPersonnel:function(e){this.changeContract.contractList.length>1&&this.changeContract.contractList.splice(e,1),this.countContractNum()},cooperateContractChange:function(e){for(e||this.changeContract.contractList;this.changeContract.contractList.length>1;)this.changeContract.contractList.pop(),this.countContractNum()},resetChangeContract:function(){this.compile="",this.isCompile=!1,this.changeContract={contractId:"",contractNum:"",contractList:[{userName:"",departmentId:"",jobId:""}],cooperateContract:0}},searchCounselTypePeriodList:function(){var e=this,t=this;t.apiAddress("/project/query/searchCounselTypePeriodList",{}).then(function(a){if("failure"==a.data.status)t.$message({message:a.data.message,type:"error",center:!0});else{var r=a.data.dataList;e.radios=r}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}}},ci={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-work-contract-foundItem"},[e.showView?a("div",{class:{"center--work-contract":"task"!=e.view_index},staticStyle:{width:"100%"}},[a(e.view_index,{ref:"contract",tag:"component",attrs:{transmittedData:e.transmittedData,theFormData:e.theFormData,theFormDisabled:e.theFormDisabled}})],1):e._e(),e._v(" "),e.showView&&"task"!=e.view_index?a("div",{staticClass:"right--work-contract",attrs:{width:"200px"}},[a(e.view_right,{tag:"component",attrs:{transmittedData:e.transmittedData}})],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"修改项目",visible:e.dialogVisible,width:"600px",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.handleClose("changeItem")}}},[a("el-form",{ref:"changeItem",staticClass:"demo-ruleForm",attrs:{model:e.changeItem,"status-icon":"",rules:e.rules,"label-width":"120px","inline-message":!0}},[a("el-form-item",{staticClass:"projectNum",attrs:{label:"公司缩写",prop:"companyId"}},[a("el-select",{attrs:{placeholder:"请选择公司缩写"},on:{change:e.getCondense},model:{value:e.changeItem.companyId,callback:function(t){e.$set(e.changeItem,"companyId",t)},expression:"changeItem.companyId"}},e._l(e.condenseSelect,function(t){return a("el-option",{key:t.companyId,attrs:{label:t.condense,value:t.companyId}},[e._v(e._s(t.condense))])}),1)],1),e._v(" "),a("el-form-item",{staticClass:"projectNum",attrs:{label:"合成的项目编号"}},[e._v("\n            "+e._s(e.projectNumPrefix)+"\n            "),e._l(e.condenseSelect,function(t){return[t.companyId==e.changeItem.companyId?a("span",{key:t.companyId},[e._v(e._s(t.condense))]):e._e()]})],2),e._v(" "),a("el-form-item",{staticClass:"projectNum",attrs:{label:"项目名称",prop:"projectName",rules:{required:!0,message:"请输入项目名称",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"193px"},attrs:{placeholder:"请输入项目名称"},model:{value:e.changeItem.projectName,callback:function(t){e.$set(e.changeItem,"projectName",t)},expression:"changeItem.projectName"}})],1),e._v(" "),a("el-form-item",{staticClass:"projectNum",attrs:{label:"咨询类别",prop:"counselTypePeriod",rules:{required:!0,message:"请选择咨询类别",trigger:"change"}}},[a("el-select",{attrs:{placeholder:"请选择咨询类别"},model:{value:e.changeItem.counselTypePeriod,callback:function(t){e.$set(e.changeItem,"counselTypePeriod",t)},expression:"changeItem.counselTypePeriod"}},e._l(e.radios,function(e,t){return a("el-option",{key:t,attrs:{label:e.counselTypeName,value:e.counselTypeId}})}),1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("changeItem","dialogVisible")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.contractDialogVisible,width:"700px",transition:"fade-in-linear",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.contractDialogVisible=t},close:function(t){return e.handleClose("changeContract")}}},[a("el-form",{ref:"changeContract",staticClass:"demo-ruleForm",attrs:{model:e.changeContract,"label-width":"100px","inline-message":!0}},[a("div",{staticClass:"item-serial"},[a("el-form-item",{staticClass:"projectNum",attrs:{label:"项目编号"}},[a("label",{attrs:{for:"i1"}},[e._v(e._s(e.transmittedData.projectNumber))])])],1),e._v(" "),a("div",{staticClass:"add-card"},[a("span",[e._v(e._s(e.itemName))])]),e._v(" "),a("div",{staticClass:"card-body"},[a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("合同")]),e._v(" "),a("span",{staticClass:"item-serial-num"},[e._v(e._s(e.transmittedData.projectNumber)+"-"+e._s(e.changeContract.contractNum))])]),e._v(" "),a("div",{staticClass:"text item contrat_error dynamically-add"},[a("el-row",[a("el-col",{attrs:{span:8}},[e.isCompile?e._e():a("el-form-item",{class:{top:!1,right:!1,bottom:!0,left:!1},attrs:{label:"指定人员",prop:"contractList[0].departmentId",rules:{required:!0,message:"请选择指定人员",trigger:"change"}}},[a("el-select",{attrs:{placeholder:"请选择指定人员"},on:{change:function(t){return e.getAbbr(e.changeContract.contractList[0])}},model:{value:e.changeContract.contractList[0].departmentId,callback:function(t){e.$set(e.changeContract.contractList[0],"departmentId",t)},expression:"changeContract.contractList[0].departmentId"}},e._l(e.personSelect,function(e,t){return a("el-option",{key:e.jobId,attrs:{label:e.userName,value:e.departmentId}})}),1)],1),e._v(" "),e.isCompile?a("el-form-item",{class:{top:!1,right:!1,bottom:!0,left:!1},attrs:{label:"指定人员",prop:"contractList[0].jobId",rules:{required:!0,message:"请选择指定人员",trigger:"change"}}},[a("el-select",{attrs:{disabled:e.btnIsDisabled,placeholder:"请选择指定人员"},on:{change:function(t){return e.getAbbr(e.changeContract.contractList[0])}},model:{value:e.changeContract.contractList[0].jobId,callback:function(t){e.$set(e.changeContract.contractList[0],"jobId",t)},expression:"changeContract.contractList[0].jobId"}},e._l(e.personSelect,function(e,t){return a("el-option",{key:e.jobId,attrs:{label:e.userName,value:e.jobId}})}),1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:8}},[e.isCompile?e._e():a("el-form-item",{class:{top:!1,right:!1,bottom:!0,left:!1},attrs:{label:"合同编号",prop:"contractNum",rules:{required:!0,message:"请输入合同编号",trigger:"change"}}},[a("el-input",{attrs:{placeholder:"请输入合同编号"},model:{value:e.changeContract.contractNum,callback:function(t){e.$set(e.changeContract,"contractNum",t)},expression:"changeContract.contractNum"}})],1),e._v(" "),e.isCompile?a("el-form-item",{class:{top:!1,right:!1,bottom:!0,left:!1},attrs:{label:"合同编号"}},[a("span",[e._v(e._s(e.compile))])]):e._e()],1),e._v(" "),a("el-col",{attrs:{span:8}},[e.isCompile||"修改合同"==e.title?e._e():a("el-form-item",{staticClass:"cooperateContract",attrs:{label:"跨部门合作"}},[a("el-checkbox-group",{on:{change:e.cooperateContractChange},model:{value:e.changeContract.cooperateContract,callback:function(t){e.$set(e.changeContract,"cooperateContract",t)},expression:"changeContract.cooperateContract"}},[a("el-checkbox",{attrs:{"true-label":1,"false-label":0,name:"cooperateContract"}})],1)],1)],1)],1)],1),e._v(" "),e.changeContract.cooperateContract?a("div",{staticStyle:{"border-bottom":"1px solid #e3e3e3",padding:"10px 0"}},[a("span",[e._v("添加部门")]),e._v(" "),a("el-button",{staticClass:"linear",staticStyle:{width:"26px",height:"16px !important","line-height":"16px !important","border-radius":"5px",padding:"0 !important",border:"none","margin-left":"5px"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addPersonnel}})],1):e._e(),e._v(" "),e._l(e.changeContract.contractList,function(t,r){return a("div",{key:r,staticClass:"text item contrat_error dynamically-add"},[r?[a("el-form-item",{class:{top:!1,right:!1,bottom:!0,left:!1},attrs:{label:"指定人员",prop:"contractList."+r+".departmentId",rules:{required:!0,message:"请选择指定人员",trigger:"change"}}},[a("el-select",{attrs:{placeholder:"请选择指定人员"},on:{change:function(a){return e.getAbbr(t)}},model:{value:t.departmentId,callback:function(a){e.$set(t,"departmentId",a)},expression:"item.departmentId"}},e._l(e.personSelect,function(e,t){return a("el-option",{key:e.jobId,attrs:{label:e.userName,value:e.departmentId}})}),1)],1),e._v(" "),a("i",{staticClass:"el-icon-close",attrs:{"data-v-3831ef16":""},on:{click:function(t){return e.delPersonnel(r)}}})]:e._e()],2)})],2)],1)])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary",disabled:e.btnIsDisabled},on:{click:function(t){return e.submitForm("changeContract","contractDialogVisible")}}},[e._v("确 定")])],1)],1),e._v(" "),a("create-task",{ref:"createTask",attrs:{contractList:e.contractList,title:e.title,taskform:e.taskform,transmittedData:e.transmittedData}}),e._v(" "),a("dialog-request-payout",{ref:"addRequestMenuForm",on:{submit:e.addRequestMenu}})],1)},staticRenderFns:[]};var ui=a("VU/8")(li,ci,!1,function(e){a("B1s2"),a("/rPz")},"data-v-4455c1d4",null).exports,pi={components:{"cost-A3":Mr,office:_o},data:function(){return{userType:"",showImg:!1,periodType:"",projectName:"",contractNum:"",outcomeDocNo:"",tableListData:[],centerStsDialogVisible:!1,imgSrc:"",imgAlt:"",taskContent:"",startDate:"",periodDesc:"",options:[],InfoShowFlag:!0,centerDialogVisible:!1,form:{tenderTaskId:"",tenderTaskSts:""},addUser:!1,ruleForm:{tenderTaskId:"",tenderTaskName:"",tenderTaskContent:"",delegateTaskId:"",startDate:"",mainUser:{userId:"",isMainDuty:1},userList:[]},rules:{tenderTaskName:[{required:!0,message:"请输入项目名称",trigger:"blur"},{max:20,message:"最长20字",trigger:"blur"}],tenderTaskContent:[{required:!0,message:"请输入项目概况",trigger:"blur"},{max:200,message:"最长200字",trigger:"blur"}],startDate:[{required:!0,message:"请设置开标时间",trigger:"blur"}]},tenderStageMaterialInfo:null,correctTenderStageMaterialFlag:!1,showOnlyOfficeCompFlag:!1}},beforeDestroy:function(){this.bus.$off("click"),this.bus.$off("aside-tender-task-download")},mounted:function(){var e=this,t=this;t.bus.$on("click",function(a){t.checkFile(a),e.searchHTTenderTaskHisTaskInst(e.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId),e.searchTenderTaskInfo(e.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId),e.showUserType(e.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId)}),t.bus.$on("update",function(a){t.searchTenderTaskInfo(a.id),e.finduserList(e.departmentId),e.centerDialogVisible=!0}),t.bus.$on("delete",function(e){t.deleteTenderTask(e)}),t.bus.$on("aside-tender-task-download",function(t){var a="/taskExecute/downLoad/downLoadTaskExecuteExecl?tenderTaskId="+t.id;e.downloadFile(a,"",!0)}),t.bus.$on("reSearchTenderStateFile",function(t){e.searchTenderTaskInfo(e.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId),e.showUserType(e.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId)}),t.bus.$on("chengeTenderTaskSts",function(e){t.changeTenderTaskSts(e)}),this.searchHTTenderTaskHisTaskInst(this.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId),this.searchTenderTaskInfo(this.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId),this.showUserType(this.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId)},updated:function(){console.log("index.vue---------:",this.correctTenderStageMaterialFlag)},watch:{correctTenderStageMaterialFlag:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.correctTenderStageMaterialFlag?this.searchTenderStageMaterial(this.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId):this.showOnlyOfficeCompFlag=correctTenderStageMaterialFlag})},methods:{handClose:function(e){this.$refs[e].resetFields()},checkmainUser:function(e,t,a){if(""==t)a(new Error("主编制人不为空"));else{for(var r=0,s=0;s<this.ruleForm.userList.length;s++)this.ruleForm.userList[s].userId==t&&r++;r>0?a(new Error("其他组员不可以和主编制人重复")):a()}},checkUserList:function(e,t,a){if(t)if(t==this.ruleForm.mainUser.userId)a(new Error("其他组员不可以和主编制人重复"));else{for(var r=0,s=0;s<this.ruleForm.userList.length;s++)this.ruleForm.userList[s].userId==t&&r++;if(r>1)return this.addUser=!0,!1;this.addUser=!1,a()}else a(new Error("其他组员不为空"))},searchTenderTaskInfo:function(e){var t=this;fa("/tenderTask/query/searchTenderTaskInfoById",{tenderTaskId:e}).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataVO,r=a.userList,s=0;s<r.length;s++)1==r[s].isMainDuty&&(t.ruleForm.mainUser.userId=r[s].userId,r.splice(s,1));t.ruleForm.tenderTaskId=a.tenderTaskId,t.ruleForm.tenderTaskName=a.tenderTaskName,t.ruleForm.tenderTaskId=a.tenderTaskId,t.ruleForm.delegateTaskId=a.delegateTaskId,t.ruleForm.tenderTaskContent=a.tenderTaskContent,t.ruleForm.startDate=a.startDate,t.ruleForm.userList=r,t.$parent.$data.titleName=a.tenderTaskName,t.startDate=a.startDate,t.taskContent=a.tenderTaskContent,t.departmentId=a.departmentId}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},deleteTenderTask:function(e){var t=this;this.$confirm("此操作将永久删除投标任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t,r={tenderTaskId:e.id};fa("/tenderTask/delete/deleteTenderTask",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.$message({message:e.data.message,type:"success",center:!0}),t.$router.push({path:"/page/item"}))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})}).catch(function(){})},finduserList:function(e){var t=this,a={departmentId:e};t.$axios.post("/tenderTask/query/searchUsersByDepartmentId",a,t.config).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{var a=e.data.dataList;t.options=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},addCard:function(){this.ruleForm.userList.push({userId:"",isMainDuty:"0"})},checkFile:function(e){this.periodType=e.periodType,this.InfoShowFlag=!0,this.taskContent=e.taskContent,this.startDate=e.startDate,this.periodDesc=e.periodDesc,"2"==e.treeNodeLevel&&(this.InfoShowFlag=!1)},updateTenderTask:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t.ruleForm.userList.concat(),r=new Date(t.ruleForm.startDate).getTime();a.push(t.ruleForm.mainUser);var s={userList:a,startDate:r,tenderTaskName:t.ruleForm.tenderTaskName,delegateTaskId:t.ruleForm.delegateTaskId,tenderTaskId:t.ruleForm.tenderTaskId,tenderTaskContent:t.ruleForm.tenderTaskContent,tenderTaskSts:0,departmentId:t.params},o=t;o.$axios.post("/tenderTask/modify/updateTenderTask",s,o.config).then(function(e){"failure"==e.data.status?o.$message({message:e.data.message,type:"error",center:!0}):(o.$message({message:e.data.message,type:"success",center:!0}),o.searchTenderTaskInfo(s.tenderTaskId),o.centerDialogVisible=!1,o.$router.go(0))}).catch(function(e){o.$message({message:e,type:"error",center:!0})})})},removeCrad:function(e){this.ruleForm.userList.splice(e,1)},searchHTTenderTaskHisTaskInst:function(e){var t=this,a={tenderTaskId:e};t.apiAddress("/tenderTask/query/searchHTTenderTaskHisTaskInst",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=0;r<a.length;r++){a[r].title=t.getStepName(a[r].taskKey),a[r]=JSON.parse(m()(a[r]).replace(/httenderTaskHisTaskInstVOList/g,"children"));for(var s=a[r].children,o=0;o<s.length;o++){s[o]=JSON.parse(m()(s[o]).replace(/approveTime/g,"time")),s[o]=JSON.parse(m()(s[o]).replace(/approveUserName/g,"name")),s[o]=JSON.parse(m()(s[o]).replace(/htUserQuestionRecordRelationVOList/g,"persions")),s[o]=JSON.parse(m()(s[o]).replace(/rejectReason/g,"opinion"));for(var n=t.groupBy(s[o].persions,function(e){return[e.userId]}),i=0;i<n.length;i++){n[i].name=n[i].dataList[0].userName,n[i]=JSON.parse(m()(n[i]).replace(/dataList/g,"errorList"));for(var l=n[i].errorList,c=l.length-1;c>=0;c--)l[c]=JSON.parse(m()(l[c]).replace(/questionName/g,"type")),l[c]=JSON.parse(m()(l[c]).replace(/questionNum/g,"num"));n[i].errorList=l}s[o].persions=n}a[r].children=s}t.tableListData=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},searchTenderStageMaterial:function(e){var t=this;fa("/tenderTask/query/searchTenderStageMaterialByTenderTaskId",{tenderTaskId:e}).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{var a=e.data.dataVO;t.tenderStageMaterialInfo={fileName:a.reviewFileName,key:a.onlyOfficeEditKey,downloadUrl:a.onlyOfficeAbsDownLoadPath,saveUrl:a.reviewFilePath},t.$parent.onlyOfficeEditKey=a.onlyOfficeEditKey,t.$parent.reviewFilePath=a.reviewFilePath,t.$parent.reviewFileName=a.reviewFileName,console.log("vm.tenderStageMaterialInfo",t.tenderStageMaterialInfo),t.showOnlyOfficeCompFlag=!0}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},showUserType:function(e){var t=this,a={tenderTaskId:e};t.apiAddress("/tenderTask/query/showBtnType",a).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.userType=e.data.typeFlag,t.correctTenderStageMaterialFlag=2==t.userType||3==t.userType||4==t.userType,console.log("vm.userType",t.userType))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}}},mi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-contract-tenderTask"},[e.showImg?a("div",{staticClass:"img-failure"},[a("img",{attrs:{src:e.imgSrc,alt:e.imgAlt}}),e._v(" "),a("p",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.imgAlt))])]):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"修改项目",visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.handClose("ruleForm")}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"项目名称",prop:"tenderTaskName"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入项目名称"},model:{value:e.ruleForm.tenderTaskName,callback:function(t){e.$set(e.ruleForm,"tenderTaskName",t)},expression:"ruleForm.tenderTaskName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目概况",prop:"tenderTaskContent"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入项目概况"},model:{value:e.ruleForm.tenderTaskContent,callback:function(t){e.$set(e.ruleForm,"tenderTaskContent",t)},expression:"ruleForm.tenderTaskContent"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开标时间",prop:"startDate"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"请设置开标时间"},model:{value:e.ruleForm.startDate,callback:function(t){e.$set(e.ruleForm,"startDate",t)},expression:"ruleForm.startDate"}})],1)]),e._v(" "),a("div",{staticClass:"itemlist-dialog-bottom"},[a("p",[e._v("指定人员")]),e._v(" "),a("el-form-item",{attrs:{label:"主编制人",prop:"mainUser.userId",rules:[{validator:e.checkmainUser,trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择主编制人"},model:{value:e.ruleForm.mainUser.userId,callback:function(t){e.$set(e.ruleForm.mainUser,"userId",t)},expression:"ruleForm.mainUser.userId"}},e._l(e.options,function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})}),1)],1),e._v(" "),a("div",{staticClass:"addUser"},[a("span",[e._v("其他组员")]),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addCard}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.addUser,expression:"addUser"}],staticClass:"el-form-item__error"},[e._v("\n              其他组员不可以重复\n            ")])],1),e._v(" "),e._l(e.ruleForm.userList,function(t,r){return a("el-form-item",{key:r,attrs:{prop:"userList["+r+"].userId",rules:[{validator:e.checkUserList,trigger:"change"}],s:""}},[a("div",{staticClass:"addOption"},[a("el-select",{attrs:{placeholder:"请选择其他组员"},model:{value:t.userId,callback:function(a){e.$set(t,"userId",a)},expression:"i.userId"}},e._l(e.options,function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})}),1),e._v(" "),a("span",{staticClass:"el-icon-close",on:{click:function(t){return e.removeCrad(r)}}})],1)])})],2)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.updateTenderTask("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),e.InfoShowFlag?a("div",{staticClass:"form-block"},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v("任务概况")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.taskContent))])],1)],1):e._e(),e._v(" "),e.InfoShowFlag?a("div",{staticClass:"form-block"},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v("开标时间")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.startDate))])],1)],1):e._e(),e._v(" "),e.InfoShowFlag?e._e():a("div",{staticClass:"form-block"},[a("el-row",[a("el-col",{attrs:{span:24}},[e._v("工作步骤说明")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[e._v(e._s(e.periodDesc))])],1)],1),e._v(" "),2==e.periodType||3==e.periodType?a("div",{staticClass:"form-block"},[e.correctTenderStageMaterialFlag?e._e():a("cost-A3",{attrs:{projectName:e.projectName,contractNum:e.contractNum,outcomeDocNo:e.outcomeDocNo,tableListData:e.tableListData}}),e._v(" "),e.showOnlyOfficeCompFlag?a("div",{staticStyle:{height:"500px"}},[a("office",{attrs:{file:e.tenderStageMaterialInfo}})],1):e._e()],1):e._e()],1)},staticRenderFns:[]};var di=a("VU/8")(pi,mi,!1,function(e){a("WAaI"),a("4KAB")},"data-v-1203f5c0",null).exports,fi={components:{"dialog-submit-audit":Vo,fileList:No,reviewFileList:No,"collapse-review-read":$o,"collapse-review-write":zo},data:function(){return{activeNames:"white1",object:{title:"",opinion:"",children:[{id:"",name:"",errorList:[]}]},userType:"",reviewer:{current:"",next:""},uploadBtnFlag:!0,delegateTaskId:"",submitAuditBtn:1==this.userType&&(2==this.periodType||3==this.periodType),recallTaskBtn:20==this.userType&&(2==this.periodType||3==this.periodType),above:!1,rowInfoLevel:"1",rowInfoLabel:"",fileList:[],tenderTaskPeriodId:"",periodType:"",reviewFileList:[],reviewFileListShowFlag:!1,fileTypeList:[],delegateTaskKey:null,isCanRecall:null,verifyState:null,rowInfo:{},tenderTaskId:"",departmentId:"",nextTaskKey:"",taskNum:"",jumpFlag:!1,approveTime:null,opinionList:[],errorTypeList:[],reviewFileRelationList:[]}},beforeDestroy:function(){this.bus.$off("click")},watch:{reviewFileList:function(){this.reviewFileListShowFlag=!0,this.reviewFileList&&0!=this.reviewFileList.length||(this.reviewFileListShowFlag=!1)}},created:function(){this.tenderTaskId=this.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId,this.showUserType(this.tenderTaskId),console.log("this.userType",this.userType)},mounted:function(){var e=this;e.tenderTaskId=this.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.tenderTaskId,e.departmentId=this.SStorage.getItem("/page/work/contract/tenderTask").rowInfo.departmentId,e.bus.$on("click",function(t){e.checkRowInfo(t),e.showUserType(e.tenderTaskId),e.searchMaterialTypeList(),e.searchIsReviewTenderTaskPeriodMaterialList(),e.searchHTTenderTaskHisTaskInst(e.tenderTaskId),e.searchQuestionList(e.departmentId),e.searchTenderTaskInfo(e.tenderTaskId),e.searchReviewFileRelationList(e.tenderTaskId)}),e.searchIsReviewTenderTaskPeriodMaterialList(),e.searchHTTenderTaskHisTaskInst(e.tenderTaskId),e.searchQuestionList(e.departmentId),e.searchTenderTaskInfo(e.tenderTaskId),e.searchReviewFileRelationList(e.tenderTaskId)},updated:function(){this.submitAuditBtn=1==this.userType&&(2==this.periodType||3==this.periodType),this.recallTaskBtn=20==this.userType&&(2==this.periodType||3==this.periodType),this.jumpFlag="ManagerVerify"==this.delegateTaskKey||"SubmitVerify"==this.delegateTaskKey&&null==this.approveTime,this.uploadBtnFlag=1==this.userType||15==this.userType&&2!=this.periodType&&3!=this.periodType},methods:{trigger:function(e,t){this.bus.$emit(e,t)},checkRowInfo:function(e){if(this.rowInfo=e,this.rowInfoLevel=e.treeNodeLevel,this.tenderTaskPeriodId=e.id,this.periodType=e.periodType,console.log("this.periodType",this.periodType),this.rowInfoLabel=e.label,"2"==e.treeNodeLevel){var t=this,a={relationId:e.id};t.apiAddress("/tenderTask/query/searchTenderTaskPeriodMaterialList",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=a.length-1;r>=0;r--)if(a[r]=JSON.parse(m()(a[r]).replace(/relationId/g,"materialId")),"1"==t.userType)a[r].isCanDel="1";else{if("15"==t.userType)continue;a[r].isCanDel="0"}t.fileList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}},searchAllMaterialTypeAndMaterialList:function(e){var t=this,a=this,r={tenderTaskPeriodId:a.tenderTaskPeriodId,tenderTaskId:e,periodType:a.periodType};a.apiAddress("/tenderTask/query/searchAllMaterialTypeAndMaterialList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var r=e.data.dataList,s=0;if(null!=r&&r.length>0)for(var o=r.length-1;o>=0;o--){s+=r[o].children.length}0==s?t.$refs.submit.submit():(t.$refs.submit.list=r,t.$refs.submit.show=!0)}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},searchHTTenderTaskHisTaskInst:function(e){var t=this,a={tenderTaskId:e};t.apiAddress("/tenderTask/query/searchHTTenderTaskHisTaskInst",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=0;r<a.length;r++){a[r].title=t.getStepName(a[r].taskKey),a[r]=JSON.parse(m()(a[r]).replace(/httenderTaskHisTaskInstVOList/g,"children"));for(var s=a[r].children,o=0;o<s.length;o++){s[o]=JSON.parse(m()(s[o]).replace(/approveTime/g,"time")),s[o]=JSON.parse(m()(s[o]).replace(/approveUserName/g,"name")),s[o]=JSON.parse(m()(s[o]).replace(/htUserQuestionRecordRelationVOList/g,"persions")),s[o]=JSON.parse(m()(s[o]).replace(/rejectReason/g,"opinion"));for(var n=t.groupBy(s[o].persions,function(e){return[e.userId]}),i=0;i<n.length;i++){n[i].name=n[i].dataList[0].userName,n[i]=JSON.parse(m()(n[i]).replace(/dataList/g,"errorList"));for(var l=n[i].errorList,c=l.length-1;c>=0;c--)l[c]=JSON.parse(m()(l[c]).replace(/questionName/g,"type")),l[c]=JSON.parse(m()(l[c]).replace(/questionNum/g,"num"));n[i].errorList=l}s[o].persions=n}}t.opinionList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},searchIsReviewTenderTaskPeriodMaterialList:function(){var e=this,t={tenderTaskId:e.tenderTaskId,isReview:"1"};e.apiAddress("/tenderTask/query/searchIsReviewTenderTaskPeriodMaterialList",t).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{for(var a=t.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/relationId/g,"materialId"));e.reviewFileList=a}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},submitForm:function(e){e.append("tenderTaskPeriodId",this.rowInfo.id),e.append("periodType",this.periodType),e.append("fileTypeId",e.get("select")),e.delete("select");var t=this;this.apiAddress("/tenderTask/insert/saveTenderTaskPeriodMaterialInfo",e).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.$message({message:e.data.message,type:"success",center:!0}),t.checkRowInfo(t.rowInfo))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},deleteFileInfo:function(e){var t=this;this.$confirm("此操作将永久删除文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t,r={relationId:e.materialId,materialPath:e.materialPath};t.apiAddress("/tenderTask/delete/deleteTenderTaskPeriodMaterialInfo",r).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.$message({message:e.data.message,type:"success",center:!0}),a.searchIsReviewTenderTaskPeriodMaterialList(),a.checkRowInfo(a.rowInfo))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})}).catch(function(){})},searchMaterialTypeList:function(){var e=this;e.apiAddress("/tenderTask/query/searchMaterialTypeList",{departmentId:"593df92d-fb21-442a-b279-a8b821bbc0d4"}).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{for(var a=t.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/fileTypeId/g,"id")),a[r]=JSON.parse(m()(a[r]).replace(/fileTypeName/g,"label"));e.fileTypeList=a}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},downloadMatrial:function(e){this.downloadFile(e.url,e.name)},checkFile:function(e){this.bus.$emit("checkFile",e)},submitConfirm:function(e){var t=this;this.$confirm("此操作将提交审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t,r=t.nextTaskKey;t.above&&(r=t.getNextStepNode(r));var s={tenderTaskId:t.tenderTaskId,departmentId:t.departmentId,materialIds:e.checkbox,submitNode:r};a.apiAddress("/tenderTask/modify/updateTenderTaskPeriodMaterialInfoIsReviewType",s).then(function(e){"failure"==e.data.status?a.$message({message:e.data.message,type:"error",center:!0}):(a.$message({message:e.data.message,type:"success",center:!0}),a.$router.push({path:"/page/work/default"}))}).catch(function(e){a.$message({message:e,type:"error",center:!0})})}).catch(function(){})},submit:function(){null!=this.fileList&&0!=this.fileList.length?this.searchAllMaterialTypeAndMaterialList(this.tenderTaskId):this.$message({message:"请上传投标文件",type:"error",center:!0})},recallTask:function(){var e=this;this.$confirm("此操作将撤回投标任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var t=e,a={tenderTaskId:e.tenderTaskId,delegateTaskId:e.delegateTaskId};t.apiAddress("/tenderTask/modify/recallTask",a).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.$message({message:e.data.message,type:"success",center:!0}),t.searchTenderTaskInfo(t.tenderTaskId),t.showUserType(t.tenderTaskId),t.bus.$emit("asideRefresh"))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}).catch(function(){})},searchTenderTaskInfo:function(e){var t=this,a={tenderTaskId:e};t.apiAddress("/tenderTask/query/searchTenderTaskInfoById",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataVO,r=a.userList,s=r.length-1;s>=0;s--)r[s].errorList=[];t.object.title=t.getStepName(a.delegateTaskKey),t.nextTaskKey=a.submitNode,t.delegateTaskKey=a.delegateTaskKey,t.verifyState=a.verifyState,t.delegateTaskId=a.delegateTaskId,t.isCanRecall=a.isCanRecall,t.approveTime=a.approveTime,t.tasknum=t.getStepNum(a.delegateTaskKey),t.reviewer.current=t.getStepWorker(t.nextTaskKey),t.reviewer.next=t.getStepWorker(t.getNextStepNode(t.nextTaskKey));for(s=r.length-1;s>=0;s--)r[s]=JSON.parse(m()(r[s]).replace(/userId/g,"id")),r[s]=JSON.parse(m()(r[s]).replace(/userName/g,"name"));t.object.children=r}}).catch(function(e){t.$message({message:e,type:"error",center:!0})}),this.centerDialogVisible=!0},changeObject:function(e){this.object=e},searchQuestionList:function(e){var t=this,a={departmentId:e};t.apiAddress("/tenderTask/query/searchQuestionList",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=a.length-1;r>=0;r--)a[r].questionNum=0;t.errorTypeList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},auditingHTTenderTask:function(e){var t=this,a=" 是否驳回?";"1"==e&&(a=" 是否通过?"),this.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var a=t.object;a.isPass=e;var r=t.nextTaskKey;if(t.above&&(r=t.getNextStepNode(r)),a.businessId=t.tenderTaskId,a.onlyOfficeEditKey=t.$parent.onlyOfficeEditKey,a.delegateTaskId=t.delegateTaskId,a.reviewFileName=t.$parent.reviewFileName,a.reviewFilePath=t.$parent.reviewFilePath,a.submitNode=r,a.userQuestionRecordRelationList=new Array,a=JSON.parse(m()(a).replace(/title/g,"delegateTaskKey")),"0"==e){for(var s=(a=JSON.parse(m()(a).replace(/opinion/g,"rejectReason"))).children.length-1;s>=0;s--)if(a.children[s].errorList){console.log("paramObj.children[i].errorList",a.children[s].errorList);for(var o=a.children[s].errorList.length-1;o>=0;o--)a.children[s].errorList[o].userId=a.children[s].id,a.children[s].errorList[o].userName=a.children[s].name,"0"!=a.children[s].errorList[o].questionNum&&a.userQuestionRecordRelationList.push(a.children[s].errorList[o])}delete a.children}a.tenderTaskId=t.tenderTaskId;var n=t;t.apiAddress("/tenderTask/insert/auditingHTTenderTask",a).then(function(e){"failure"==e.data.status?n.$message({message:e.data.message,type:"error",center:!0}):(n.$message({message:e.data.message,type:"success",center:!0}),n.$router.push({path:"/page/work/default"}))}).catch(function(e){n.$message({message:e,type:"error",center:!0})})}).catch(function(){})},cancel:function(){this.above=!1},showUserType:function(e){var t=this,a={tenderTaskId:e};t.apiAddress("/tenderTask/query/showBtnType",a).then(function(e){"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.userType=e.data.typeFlag,console.log("vm.userType",t.userType))}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},searchReviewFileRelationList:function(e){var t=this,a={businessId:e};t.apiAddress("/commonModule/query/searchReviewFileRelationList",a).then(function(e){if("failure"==e.data.status)t.$message({message:e.data.message,type:"error",center:!0});else{for(var a=e.data.dataList,r=a.length-1;r>=0;r--)a[r]=JSON.parse(m()(a[r]).replace(/fileId/g,"materialId")),a[r]=JSON.parse(m()(a[r]).replace(/reviewFileName/g,"materialName")),a[r]=JSON.parse(m()(a[r]).replace(/reviewFilePath/g,"materialPath"));console.log("dataList----------------------------",a),t.reviewFileRelationList=a}}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}}},gi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right--work-contract-tenderTask"},[a("div",{staticClass:"given-container"},[a("el-collapse",{staticClass:"level1",model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[2==e.rowInfoLevel?a("fileList",{attrs:{title:e.rowInfoLabel,showUploadBtn:e.uploadBtnFlag,options:e.fileTypeList,list:e.fileList},on:{del:e.deleteFileInfo,submit:e.submitForm}}):e._e(),e._v(" "),2!=e.periodType&&3!=e.periodType||!e.reviewFileListShowFlag?e._e():a("reviewFileList",{attrs:{title:"相关资料",showUploadBtn:!1,list:e.reviewFileList,delBtnFlag:!1},on:{del:e.deleteFileInfo}}),e._v(" "),e._l(e.opinionList,function(t,r){return[2==e.periodType||3==e.periodType?a("collapse-review-read",{key:r,attrs:{object:t,name:"item.taskKey"}}):e._e()]}),e._v(" "),4!=e.userType&&3!=e.userType&&2!=e.userType||2!=e.periodType&&3!=e.periodType?e._e():a("collapse-review-write",{attrs:{object:e.object,name:"white1",errorTyleList:e.errorTypeList},on:{submit:e.changeObject}}),e._v(" "),e.reviewFileRelationList.length>0&&(2==e.periodType||3==e.periodType)?a("fileList",{attrs:{title:"审核意见文件",showUploadBtn:!1,delBtnFlag:!1,list:e.reviewFileRelationList}}):e._e()],2),e._v(" "),a("dialog-submit-audit",{ref:"submit",attrs:{above:e.above,reviewer:e.reviewer},on:{submit:e.submitConfirm,cancel:e.cancel}})],1),e._v(" "),a("div",{staticClass:"btn-group"},[a("p",{staticStyle:{"background-color":"#B6C3CE",padding:"0 20px",width:"100%","margin-bottom":"10px"}},[!e.jumpFlag||!e.submitAuditBtn&&4!=e.userType&&3!=e.userType&&2!=e.userType||2!=e.periodType&&3!=e.periodType?e._e():a("el-checkbox",{staticStyle:{color:"white"},model:{value:e.above,callback:function(t){e.above=t},expression:"above"}},[e._v("\n\t\t\t\t\t跳级审核\n\t\t\t\t")])],1),e._v(" "),4!=e.userType&&3!=e.userType&&2!=e.userType||2!=e.periodType&&3!=e.periodType?e._e():a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingHTTenderTask("1")}}},[e._v("通过")]),e._v(" "),4!=e.userType&&3!=e.userType&&2!=e.userType||2!=e.periodType&&3!=e.periodType?e._e():a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.auditingHTTenderTask("0")}}},[e._v("驳回")]),e._v(" "),e.submitAuditBtn?a("el-button",{attrs:{type:"primary"},on:{submit:e.submitConfirm,click:e.submit}},[e._v("提交审核")]):e._e(),e._v(" "),e.recallTaskBtn?a("el-button",{attrs:{type:"primary"},on:{click:e.recallTask}},[e._v("撤回")]):e._e()],1)])},staticRenderFns:[]};var hi=a("VU/8")(fi,gi,!1,function(e){a("LKfQ"),a("LSnY")},"data-v-952eb922",null).exports,vi={data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tableData:[],show:!1,disabledFlag:!0,form:{legalOpinion:"",departmentId:"",contractNum:"",contractId:""},rules:{name:[{required:!0,message:"请输入法务意见",trigger:"blur"}]},departmentList:[{departmentId:"db5e76f9-9fbd-11e9-a036-0e411fd5cf91",departmentName:"造价部门"},{departmentId:"dea3cd5d-9fbd-11e9-a036-0e411fd5cf91",departmentName:"招标代理部门"},{departmentId:"eb1f8c91-960d-4717-84ee-cc3b8137ccd3",departmentName:"项目监理部门"}]}},mounted:function(){this.clickSearchList()},methods:{showLegalOptionAddForm:function(e){console.log("row",e);this.form.legalOpinion="",this.form.contractId=e.contractId,this.show=!0,this.disabledFlag=!1},showLegalOptionDetailForm:function(e){console.log("row",e);this.form.legalOpinion=e.legalOpinion,this.form.contractId=e.contractId,this.show=!0,this.disabledFlag=!0},beforeClose:function(){this.show=!1},submit:function(e){var t=this,a={legalOpinion:t.form.legalOpinion,contractId:t.form.contractId};t.apiAddress("/legalAffair/modify/insertLegalOpinion",a).then(function(a){"failure"==a.data.status?t.$message({message:a.data.message,type:"error",center:!0}):(t.$message({message:a.data.message,type:"success",center:!0}),t.$refs[e].resetFields(),t.searchList(t.currentPage,t.pageSize),t.show=!1)}).catch(function(e){t.$message({message:e,type:"error",center:!0})})},cancel:function(e){this.$refs[e].resetFields(),this.show=!1},clickSearchList:function(){this.currentPage=1,this.pageSize=10,this.searchList(this.currentPage,this.pageSize)},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},searchList:function(e,t){var a=this,r={contractNum:a.form.contractNum,departmentId:a.form.departmentId,pageNumber:e,pageSize:t};a.apiAddress("/legalAffair/query/searchContractList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.tableData=t,a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},download:function(e){this.downloadFile(e.contractFilePath,e.contractFileName,"1"==e.contractType)}}},bi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-contract-information__default"},[a("div",{staticClass:"item-from"},[a("div",{staticClass:"item-input"},[a("label",{attrs:{for:"i3"}},[e._v("合同编号")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入合同编号",id:"i3"},model:{value:e.form.contractNum,callback:function(t){e.$set(e.form,"contractNum",t)},expression:"form.contractNum"}})],1),e._v(" "),a("div",{staticClass:"item-input"},[a("label",{attrs:{for:"i2"}},[e._v("所属部门")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择所属部门",clearable:""},model:{value:e.form.departmentId,callback:function(t){e.$set(e.form,"departmentId",t)},expression:"form.departmentId"}},e._l(e.departmentList,function(e){return a("el-option",{key:e.departmentId,attrs:{label:e.departmentName,value:e.departmentId}})}),1)],1),e._v(" "),a("div",{staticClass:"itemfrom-right"},[a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.clickSearchList()}}},[e._v("查询")])],1)]),e._v(" "),a("div",{staticClass:"form-block",staticStyle:{"padding-bottom":"56px"}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"contractNum",label:"合同编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"departmentName",label:"合同任务线"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.download(t.row)}}},[e._v("合同下载")]),e._v(" "),t.row.legalOpinion?e._e():a("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.showLegalOptionAddForm(t.row)}}},[e._v("添加法务意见")]),e._v(" "),t.row.legalOpinion?a("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.showLegalOptionDetailForm(t.row)}}},[e._v("查看法务意见")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[a("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"法务意见",visible:e.show,width:"50%",center:"","before-close":e.beforeClose,"close-on-click-modal":!0}},[a("el-form",{ref:"form",staticStyle:{"text-align":"left"},attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-input",{attrs:{type:"textarea",disabled:e.disabledFlag,placeholder:"请输入法务意见"},model:{value:e.form.legalOpinion,callback:function(t){e.$set(e.form,"legalOpinion",t)},expression:"form.legalOpinion"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.disabledFlag?e._e():a("el-button",{staticStyle:{padding:"0 45px"},attrs:{type:"primary"},on:{click:function(t){return e.submit("form")}}},[e._v("确定提交")])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.disabledFlag?a("el-button",{staticStyle:{padding:"0 45px"},attrs:{type:"primary"},on:{click:function(t){return e.cancel("form")}}},[e._v("取消 ")]):e._e()],1)],1)],1)},staticRenderFns:[]};var yi=a("VU/8")(vi,bi,!1,function(e){a("/hyz"),a("8Qn0")},"data-v-2a243d39",null).exports,_i={data:function(){return{tabdata:[],inquireDateArr:"",inquireDepartmentId:"",inquireProjectSts:"",inquireProjectNum:"",inquireProjectName:"",departmentId:"",projectSts:"",projectNum:"",projectName:"",nowDate:new Date,total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],departmentSelect:[{deptId:"db5e76f9-9fbd-11e9-a036-0e411fd5cf91",deptName:"造价部"},{deptId:"eb1f8c91-960d-4717-84ee-cc3b8137ccd3",deptName:"项目部"},{deptId:"dea3cd5d-9fbd-11e9-a036-0e411fd5cf91",deptName:"招标代理部"}],projectStsSelect:[{projectSts:"0",projectStsLabel:"未完成"},{projectSts:"1",projectStsLabel:"已完成"}],timeList:[]}},mounted:function(){this.searchList(this.currentPage,this.pageSize)},methods:{goToProjectPeriodPage:function(e){this.SStorage.setItem("/page/wholeProcessCost/projectDetails",{rowInfo:e}),this.$router.push("/page/wholeProcessCost/projectDetails")},clickSearchList:function(){this.currentPage=1,this.pageSize=10,this.departmentId=this.inquireDepartmentId,this.projectSts=this.inquireProjectSts,this.projectNum=this.inquireProjectNum,this.projectName=this.inquireProjectName;var e=[];if(null!=this.inquireDateArr)for(var t=0;t<this.inquireDateArr.length;t++)e.push(this.inquireDateArr[t]);this.timeList=e,this.searchList(this.currentPage,this.pageSize)},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},currentChangePage:function(e,t,a){this.tabdata=e,this.spanArr=[],this.contentSpanArr=[];for(t=0;t<this.tabdata.length;t++)0===t?(this.spanArr.push(1),this.pos=0,this.contentSpanArr.push(1),this.position=0):this.tabdata[t].projectNum===this.tabdata[t-1].projectNum?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=t)},searchList:function(e,t){var a=this,r={pageNumber:e,pageSize:t,projectNum:a.projectNum,projectName:a.projectName,projectSts:a.projectSts,departmentId:a.departmentId,timeList:a.timeList};a.apiAddress("/wholeProcess/project/query/searchContractList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.currentChangePage(t,a.currentPage,a.pageSize),a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},refers:function(){var e=this;e.departmentId=e.inquireDepartmentId,e.projectSts=e.inquireProjectSts,e.projectNum=e.inquireProjectNum;var t=[];if(null!=e.inquireDateArr)for(var a=0;a<e.inquireDateArr.length;a++)t.push(e.inquireDateArr[a])},rowClass:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);return 8===a&&"1"==t.projectSts?"color:#FC4053":8===a&&"0"==t.projectSts?"color:#7FD680":void 0},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a||1===a){var r=this.spanArr[t];return{rowspan:r,colspan:r>0?1:0}}if(8===a){var s=this.spanArr[t];return{rowspan:s,colspan:s>0?1:0}}}}},wi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wholeProcessCost__projectList"},[a("div",{staticClass:"item-from screeningInput"},[a("div",{staticClass:"form-goup",staticStyle:{display:"inline-block",width:"calc(100% - 120px)",overflow:"auto",padding:"0 10px 14px","box-shadow":"none","white-space":"nowrap"}},[a("div",{staticClass:"item-input"},[a("label",{attrs:{for:"i3"}},[e._v("项目名称")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入项目名称",id:"i4"},model:{value:e.inquireProjectName,callback:function(t){e.inquireProjectName=t},expression:"inquireProjectName"}})],1),e._v(" "),a("div",{staticClass:"item-input"},[a("label",{attrs:{for:"i1"}},[e._v("所属部门")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择所属部门",clearable:""},model:{value:e.inquireDepartmentId,callback:function(t){e.inquireDepartmentId=t},expression:"inquireDepartmentId"}},e._l(e.departmentSelect,function(t){return a("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}},[e._v("\n                "+e._s(t.deptName)+"\n              ")])}),1)],1),e._v(" "),a("div",{staticClass:"item-input"},[a("label",{attrs:{for:"i3"}},[e._v("项目编号")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入项目编号",id:"i3"},model:{value:e.inquireProjectNum,callback:function(t){e.inquireProjectNum=t},expression:"inquireProjectNum"}})],1),e._v(" "),a("div",{staticClass:"item-input"},[a("label",{attrs:{for:"i2"}},[e._v("完成状态")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择完成状态",clearable:""},model:{value:e.inquireProjectSts,callback:function(t){e.inquireProjectSts=t},expression:"inquireProjectSts"}},e._l(e.projectStsSelect,function(t){return a("el-option",{key:t.projectSts,attrs:{label:t.projectStsLabel,value:t.projectSts}},[e._v("\n                "+e._s(t.projectStsLabel)+"\n              ")])}),1)],1),e._v(" "),a("div",{staticClass:"item-input"},[a("label",[e._v("项目创建时间")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期","default-value":e.nowDate},model:{value:e.inquireDateArr,callback:function(t){e.inquireDateArr=t},expression:"inquireDateArr"}})],1)]),e._v(" "),a("div",{staticClass:"item-input search-btn-container"},[a("el-button",{staticClass:"linear",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.clickSearchList}},[e._v("查询")])],1)]),e._v(" "),a("div",{staticClass:"item-tab-bottom"},[a("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:"","span-method":e.objectSpanMethod,"cell-style":e.rowClass}},[a("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"项目编号","show-overflow-tooltip":!0,resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"text-overflow-ellipsis",staticStyle:{width:"100%"},attrs:{type:"text"},on:{click:function(a){return e.goToProjectPeriodPage(t.row)}}},[e._v(e._s(t.row.projectNum))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同数量",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.contractCount)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"项目名称",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.projectName)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同编号","show-overflow-tooltip":!0,resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(null==t.row.contractNum?"-":t.row.contractNum)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同所属部门",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(null==t.row.departmentName?"-":t.row.departmentName)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同负责人",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(null==t.row.dutyPeople?"-":t.row.dutyPeople)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同签订时间",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(null==t.row.contractDate?"-":t.row.contractDate)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同已收金额",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(null==t.row.incomeReceived?"-":t.row.incomeReceived)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"合同金额",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(null==t.row.contractAmount?"-":t.row.contractAmount)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"projectSts",label:"完成状态",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(null==t.row.projectSts?"-":0==t.row.projectSts?"未完成":"已完成")+"\n        ")]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticClass:"block item-fen"},[a("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1)])},staticRenderFns:[]};var Ci=a("VU/8")(_i,wi,!1,function(e){a("xQXe"),a("X2ll")},"data-v-5dc76aa3",null).exports,ki={data:function(){var e=new FormData;return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],projectId:this.$parent.projectId,ruleForm:{assessId:"",compileDate:"",assessName:"",floorSpace:"",estimatedCost:"",estimationExParte:"",costRange:"",remark:"",file:"",materialName:""},rules:{compileDate:[{required:!0,message:"请选择编制日期",trigger:"blur"}],assessName:[{max:20,message:"最长20字",trigger:"blur"}],floorSpace:[{max:20,message:"最长20字",trigger:"blur"},{validator:this.positiveNumber,trigger:"blur"}],estimatedCost:[{required:!0,message:"请输入估算费用",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],estimationExParte:[{required:!0,message:"请输入估算单方",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],costRange:[{max:20,message:"最长20字",trigger:"blur"}],remark:[{max:100,message:"最长100字",trigger:"blur"}]},formData:e,formTitle:"",centerDialogVisible:!1,url:""}},mounted:function(){this.currentPage=1,this.pageSize=10,this.searchList(this.currentPage,this.pageSize)},methods:{beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},handleAvatarSuccess:function(e,t){this.ruleForm.file=URL.createObjectURL(e.raw),this.ruleForm.materialName=e.name},addAssessBtn:function(){this.centerDialogVisible=!0,this.formTitle="新增",this.url="/wholeProcess/assess/insert/insertWholeProcessAssess"},handleClose:function(e){this.$refs.ruleForm.resetFields(),e()},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},updateAssessBtn:function(e){this.formTitle="修改",this.url="/wholeProcess/assess/modify/updateWholeProcessAssess";var t={assessId:e.assessId},a=this;a.apiAddress("/wholeProcess/assess/query/searchProjectAssessPeriodInfo",t).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataVO;console.log("dataVO",t),a.ruleForm={assessId:t.assessId,compileDate:t.compileDate,assessName:t.assessName,floorSpace:t.floorSpace,estimatedCost:new Number(t.estimatedCost),estimationExParte:new Number(t.estimationExParte),costRange:t.costRange,remark:t.remark,materialName:t.assessFileName}}}).catch(function(e){a.$message({message:e,type:"error",center:!0})}),this.centerDialogVisible=!0},searchList:function(e,t){var a=this,r={pageNumber:e,pageSize:t,projectId:a.projectId};a.apiAddress("/wholeProcess/assess/query/searchProjectAssessPeriodList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.tabdata=t,a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},exportAssessBtn:function(){var e=document.createElement("iframe");e.src="/wholeProcess/assess/exprot/exportAssessData?realFileName=估算台账.xls&projectId="+this.projectId,e.style.display="none",document.body.appendChild(e)},downLoadFile:function(e){this.downloadFile(e.assessFilePath,e.assessFileName)},submitAssessfunc:function(){var e=this,t=this;this.$refs.ruleForm.validate(function(a){if(a){var r=new Date(t.ruleForm.compileDate),s=r.getFullYear()+"-"+(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"-"+(r.getDate()<10?"0"+r.getDate():r.getDate());t.formData.append("assessId",t.ruleForm.assessId),t.formData.append("compileDate",s),t.formData.append("projectId",t.projectId),t.formData.append("assessName",t.ruleForm.assessName),t.formData.append("floorSpace",t.ruleForm.floorSpace),t.formData.append("estimatedCost",t.ruleForm.estimatedCost),t.formData.append("estimationExParte",t.ruleForm.estimationExParte),t.formData.append("costRange",t.ruleForm.costRange),t.formData.append("remark",t.ruleForm.remark),t.$refs.upload.submit(),t.apiAddress(e.url,t.formData).then(function(e){t.centerDialogVisible=!1,t.formData=new FormData,"failure"==e.data.status?t.$message({message:e.data.message,type:"error",center:!0}):(t.$message({message:e.data.message,type:"success",center:!0}),t.searchList(t.currentPage,t.pageSize),t.ruleForm.file="")}).catch(function(e){t.$message({message:e,type:"error",center:!0})}),e.$refs.ruleForm.resetFields()}})},handleExceed:function(e,t){this.$message.warning("当前限制选择 "+this.limit+" 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")}}},Fi={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-role"},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[r("el-col",{staticClass:"text-align-right",attrs:{span:24}},[r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.addAssessBtn()}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("\n        创建估算\n      ")]),e._v(" "),r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.exportAssessBtn()}}},[r("span",{staticClass:"el-icon-upload2 linear"}),e._v("\n        导出\n      ")])])],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",type:"index",label:"序号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"compileDate",label:"编制日期","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.compileDate?t.row.compileDate:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"assessName",label:"估算名称/版本","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.assessName?t.row.assessName:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"floorSpace",label:"建筑面积（m²）","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.floorSpace?new Number(t.row.floorSpace):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"estimatedCost",label:"估算费用（元）","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.estimatedCost?new Number(t.row.estimatedCost):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"estimationExParte",label:"估算单方（元/m²）","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.estimationExParte?new Number(t.row.estimationExParte):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"costRange",label:"费用范围","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.costRange?t.row.costRange:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"remark",label:"备注","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.remark?t.row.remark:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.downLoadFile(t.row)}}},[e._v("下载")]),e._v(" "),r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.updateAssessBtn(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1),e._v(" "),r("el-dialog",{attrs:{title:e.formTitle,visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"300px"}},[r("el-form-item",{attrs:{label:"编制日期",prop:"compileDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间"},model:{value:e.ruleForm.compileDate,callback:function(t){e.$set(e.ruleForm,"compileDate",t)},expression:"ruleForm.compileDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"估算名称/版本",prop:"assessName"}},[r("el-input",{attrs:{placeholder:"请输入估算名称/版本"},model:{value:e.ruleForm.assessName,callback:function(t){e.$set(e.ruleForm,"assessName",t)},expression:"ruleForm.assessName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"建筑面积",prop:"floorSpace"}},[r("el-input",{attrs:{placeholder:"请输入建筑面积"},model:{value:e.ruleForm.floorSpace,callback:function(t){e.$set(e.ruleForm,"floorSpace",t)},expression:"ruleForm.floorSpace"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"估算费用",prop:"estimatedCost"}},[r("el-input",{attrs:{placeholder:"请输入估算费用"},model:{value:e.ruleForm.estimatedCost,callback:function(t){e.$set(e.ruleForm,"estimatedCost",t)},expression:"ruleForm.estimatedCost"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"估算单方(元/m²)",prop:"estimationExParte"}},[r("el-input",{attrs:{placeholder:"请输入估算单方"},model:{value:e.ruleForm.estimationExParte,callback:function(t){e.$set(e.ruleForm,"estimationExParte",t)},expression:"ruleForm.estimationExParte"}})],1),e._v(" "),r("el-form-item",{staticClass:"tree-error",attrs:{label:"费用范围",prop:"costRange"}},[r("el-input",{attrs:{placeholder:"请输入费用范围"},model:{value:e.ruleForm.costRange,callback:function(t){e.$set(e.ruleForm,"costRange",t)},expression:"ruleForm.costRange"}})],1),e._v(" "),r("el-form-item",{staticClass:"tree-error",attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),r("el-form-item",{staticClass:"upload upload1",attrs:{label:"估算文件",prop:"assessFilePath"}},[r("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUpload,data:e.ruleForm}},[r("el-button",[r("span",{staticClass:"iconfont"},[e._v("")]),e._v("\n            上传附件\n          ")]),e._v(" "),r("br"),e._v(" "),r("el-input",{attrs:{placeholder:"请上传估算文件",disabled:!0},model:{value:e.ruleForm.materialName,callback:function(t){e.$set(e.ruleForm,"materialName",t)},expression:"ruleForm.materialName"}})],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitAssessfunc("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Di=a("VU/8")(ki,Fi,!1,function(e){a("vRO/")},null,null).exports,xi={data:function(){var e=new FormData;return{projectId:this.$parent.projectId,ruleForm:{estimateId:"",compileDate:"",estimateName:"",floorSpace:"",estimatedCost:"",estimationExParte:"",costRange:"",remark:"",file:"",materialName:""},rules:{compileDate:[{required:!0,message:"请选择编制日期",trigger:"blur"}],estimatedCost:[{required:!0,message:"请输入概算费用",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],estimationExParte:[{required:!0,message:"请输入概算单方",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],estimateName:[{max:20,message:"最长20字",trigger:"blur"}],floorSpace:[{max:8,message:"最长8字",trigger:"blur"},{validator:this.positiveNumber,trigger:"blur"}],costRange:[{max:20,message:"最长20字",trigger:"blur"}],remark:[{max:100,message:"最长100字",trigger:"blur"}],materialName:[{required:!0,message:"请上传文件",trigger:"blur"}]},formData:e,formTitle:"",url:""}},methods:{beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},handleAvatarSuccess:function(e,t){this.ruleForm.file=URL.createObjectURL(e.raw),this.ruleForm.materialName=e.name},addEstimateFunc:function(){this.formTitle="新增",this.url="/wholeProcess/estimate/insert/insertWholeProcessEstimate"},handleClose:function(e){this.$refs.ruleForm.resetFields(),e(),console.log("------------",this.$parent.centerDialogVisible),this.$parent.centerDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},updateEstimateFunc:function(e){this.formTitle="修改",this.url="/wholeProcess/estimate/modify/updateWholeProcessEstimate";var t={estimateId:e.estimateId},a=this;a.apiAddress("/wholeProcess/estimate/query/searchProjectEstimatePeriodInfo",t).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataVO;a.ruleForm={estimateId:t.estimateId,compileDate:t.compileDate,estimateName:t.estimateName,floorSpace:t.floorSpace,estimatedCost:new Number(t.estimatedCost),estimationExParte:new Number(t.estimationExParte),costRange:t.costRange,remark:t.remark,materialName:t.estimateFileName}}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},submitEstimatefunc:function(){var e=this,t=this;this.$refs.ruleForm.validate(function(a){if(a){var r=new Date(t.ruleForm.compileDate),s=r.getFullYear()+"-"+(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"-"+(r.getDate()<10?"0"+r.getDate():r.getDate());t.formData.append("estimateId",t.ruleForm.estimateId),t.formData.append("compileDate",s),t.formData.append("projectId",t.projectId),t.formData.append("estimateName",t.ruleForm.estimateName),t.formData.append("floorSpace",t.ruleForm.floorSpace),t.formData.append("estimatedCost",t.ruleForm.estimatedCost),t.formData.append("estimationExParte",t.ruleForm.estimationExParte),t.formData.append("costRange",t.ruleForm.costRange),t.formData.append("remark",t.ruleForm.remark),t.$refs.upload.submit(),t.apiAddress(e.url,t.formData).then(function(a){"failure"==a.data.status?t.$message({message:a.data.message,type:"error",center:!0}):(t.formData=new FormData,t.$message({message:a.data.message,type:"success",center:!0}),t.$parent.reflashData(),e.$parent.centerDialogVisible=!1,t.ruleForm.file="")}).catch(function(e){t.$message({message:e,type:"error",center:!0})}),e.$refs.ruleForm.resetFields()}})},handleExceed:function(e,t){this.$message.warning("当前限制选择 "+this.limit+" 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")}}},Ti={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mh-set-role"},[a("el-dialog",{attrs:{title:e.formTitle,visible:!0,width:"500px",transition:"fade-in-linear",center:"","before-close":e.handleClose}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"300px"}},[a("el-form-item",{attrs:{label:"编制日期",prop:"compileDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间"},model:{value:e.ruleForm.compileDate,callback:function(t){e.$set(e.ruleForm,"compileDate",t)},expression:"ruleForm.compileDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"概算名称/版本",prop:"estimateName"}},[a("el-input",{attrs:{placeholder:"请输入概算名称/版本"},model:{value:e.ruleForm.estimateName,callback:function(t){e.$set(e.ruleForm,"estimateName",t)},expression:"ruleForm.estimateName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"建筑面积",prop:"floorSpace"}},[a("el-input",{attrs:{placeholder:"请输入建筑面积"},model:{value:e.ruleForm.floorSpace,callback:function(t){e.$set(e.ruleForm,"floorSpace",t)},expression:"ruleForm.floorSpace"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"概算费用",prop:"estimatedCost"}},[a("el-input",{attrs:{placeholder:"请输入概算费用"},model:{value:e.ruleForm.estimatedCost,callback:function(t){e.$set(e.ruleForm,"estimatedCost",t)},expression:"ruleForm.estimatedCost"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"概算单方(元/m²)",prop:"estimationExParte"}},[a("el-input",{attrs:{placeholder:"请输入概算单方"},model:{value:e.ruleForm.estimationExParte,callback:function(t){e.$set(e.ruleForm,"estimationExParte",t)},expression:"ruleForm.estimationExParte"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"费用范围",prop:"costRange"}},[a("el-input",{attrs:{placeholder:"请输入费用范围"},model:{value:e.ruleForm.costRange,callback:function(t){e.$set(e.ruleForm,"costRange",t)},expression:"ruleForm.costRange"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",{staticClass:"upload upload1",attrs:{label:"概算文件",prop:"materialName"}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUpload,data:e.ruleForm}},[a("el-button",[a("span",{staticClass:"iconfont"},[e._v("")]),e._v("\n            上传附件\n          ")]),e._v(" "),a("br"),e._v(" "),a("el-input",{attrs:{placeholder:"请上传概算文件",disabled:!0},model:{value:e.ruleForm.materialName,callback:function(t){e.$set(e.ruleForm,"materialName",t)},expression:"ruleForm.materialName"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitEstimatefunc("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Ni={data:function(){var e=new FormData;return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],projectId:this.$parent.projectId,formData:e,formTitle:"",centerDialogVisible:!1,url:""}},components:{EstimateForm:a("VU/8")(xi,Ti,!1,function(e){a("X5CE")},null,null).exports},mounted:function(){this.currentPage=1,this.pageSize=10,this.reflashData()},methods:{reflashData:function(){this.searchList(this.currentPage,this.pageSize)},beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},handleAvatarSuccess:function(e,t){this.ruleForm.file=URL.createObjectURL(e.raw),this.ruleForm.materialName=e.name},addEstimateBtn:function(){var e=this;console.log("~~~~~~~~~~~~~~"),e.centerDialogVisible=!0,e.$nextTick(function(){console.log("this.$refs.childForm",e.$refs.childForm),e.$refs.childForm.addEstimateFunc()})},exportBtn:function(){var e=document.createElement("iframe");e.src="/wholeProcess/estimate/export/exportEstimateData?realFileName=概算.xls&projectId="+this.projectId,e.style.display="none",document.body.appendChild(e)},handleSizeChange:function(e){this.pageSize=e,this.reflashData()},handleCurrentChange:function(e){this.currentPage=e,this.reflashData()},updateEstimateBtn:function(e){var t=this;console.log("~~~~~~~~~~~~~~"),t.centerDialogVisible=!0,t.$nextTick(function(){console.log("this.$refs.childForm",t.$refs.childForm),t.$refs.childForm.updateEstimateFunc(e)})},searchList:function(e,t){var a=this,r={pageNumber:e,pageSize:t,projectId:a.projectId};a.apiAddress("/wholeProcess/estimate/query/searchProjectEstimatePeriodList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.tabdata=t,a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},downLoadFile:function(e){this.downloadFile(e.estimateFilePath,e.estimateFileName)}}},Ii={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-role"},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[r("el-col",{staticClass:"text-align-right",attrs:{span:24}},[r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.addEstimateBtn()}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("\n        创建概算\n      ")]),e._v(" "),r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.exportBtn()}}},[r("span",{staticClass:"el-icon-upload2 linear"}),e._v("\n        导出\n      ")])])],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",type:"index",label:"序号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"compileDate",label:"编制日期","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.compileDate?t.row.compileDate:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"estimateName",label:"概算名称/版本","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.estimateName?t.row.estimateName:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"floorSpace",label:"建筑面积（m²）","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.floorSpace?t.row.floorSpace:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"estimatedCost",label:"概算费用（元）","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.estimatedCost?new Number(t.row.estimatedCost):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"estimationExParte",label:"概算单方（元/m²）","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.estimationExParte?new Number(t.row.estimationExParte):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"costRange",label:"费用范围","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.costRange?t.row.costRange:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"remark",label:"备注","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.remark?t.row.remark:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.downLoadFile(t.row)}}},[e._v("下载")]),e._v(" "),r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.updateEstimateBtn(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1),e._v(" "),e.centerDialogVisible?r("estimate-form",{ref:"childForm"}):e._e()],1)},staticRenderFns:[]};var Ai=a("VU/8")(Ni,Ii,!1,function(e){a("VRW9")},null,null).exports,Si={data:function(){return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],projectId:this.$parent.projectId,ruleForm:{treatyId:"",treatyNum:"",treatyType:"",undertakeType:"",treatyName:"",treatyContent:"",targetCost:"",contractType:"",contractWay:"",purchaserWay:"",remark:""},rules:{treatyNum:[{required:!0,message:"请选择合约编号",trigger:"blur"},{max:20,message:"最长20字",trigger:"blur"}],treatyType:[{required:!0,message:"请选择合约分类",trigger:"change"}],undertakeType:[{required:!0,message:"请选择承包方式",trigger:"blur"}],treatyName:[{required:!0,message:"请输入合约名称",trigger:"blur"},{max:20,message:"最长20字",trigger:"blur"}],targetCost:[{required:!0,message:"请输入目标成本",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],contractType:[{required:!0,message:"请选择合同类型",trigger:"change"}],contractWay:[{required:!0,message:"请选择合同确定方式",trigger:"change"}],purchaserWay:[{required:!0,message:"请选择采购方式",trigger:"change"}],treatyContent:[{max:100,message:"最长100字",trigger:"blur"}],remark:[{max:100,message:"最长100字",trigger:"blur"}]},formTitle:"",centerDialogVisible:!1,url:"",treatyTypeList:[{value:"1",label:"工程类合约"},{value:"2",label:"采购类合约"},{value:"3",label:"服务类合约"},{value:"4",label:"土地类合约"},{value:"5",label:"其他类合约"}],undertakeTypeList:[{value:"1",label:"施工总承包"},{value:"2",label:"发包人发包专业合同"},{value:"3",label:"发包人自行发包专业"}],contractTypeList:[{value:"1",label:"单价合同"},{value:"2",label:"总价合同"},{value:"3",label:"其他"}],contractWayList:[{value:"1",label:"总承包"},{value:"2",label:"指定供货"},{value:"3",label:"指定分包"},{value:"4",label:"甲供"},{value:"5",label:"直接发包"},{value:"6",label:"三方协议"}],purchaserWayList:[{value:"1",label:"公开招标"},{value:"2",label:"内部组织招标"},{value:"3",label:"联合招标"},{value:"4",label:"直接委托"},{value:"5",label:"竞争性谈判"}]}},mounted:function(){this.currentPage=1,this.pageSize=10,this.searchList(this.currentPage,this.pageSize)},methods:{selectGetName:function(e,t){return this.$parent.selectGetName(e,t)},addTreatyBtn:function(){this.centerDialogVisible=!0,this.formTitle="新增",this.url="/wholeProcess/treaty/insert/insertWholeProcessTreaty"},exportBtn:function(){var e=document.createElement("iframe");e.src="/wholeProcess/treaty/export/exportTreatyData?realFileName=合约规划.xls&projectId="+this.projectId,e.style.display="none",document.body.appendChild(e)},handleClose:function(e){this.$refs.ruleForm.resetFields(),e()},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},updateTreatyBtn:function(e){this.formTitle="修改",this.url="/wholeProcess/treaty/modify/updateWholeProcessTreaty";var t={treatyId:e.treatyId},a=this;a.apiAddress("/wholeProcess/treaty/query/searchProjectTreatyPeriodInfo",t).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataVO;a.ruleForm={treatyId:t.treatyId,treatyNum:t.treatyNum,treatyType:t.treatyType,undertakeType:t.undertakeType,treatyName:t.treatyName,treatyContent:t.treatyContent,targetCost:new Number(t.targetCost),contractType:t.contractType,contractWay:t.contractWay,purchaserWay:t.purchaserWay,remark:t.remark}}}).catch(function(e){a.$message({message:e,type:"error",center:!0})}),this.centerDialogVisible=!0},searchList:function(e,t){var a=this,r={pageNumber:e,pageSize:t,projectId:a.projectId};a.apiAddress("/wholeProcess/treaty/query/searchProjectTreatyPeriodList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.tabdata=t,a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},submitTreatyfunc:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(t){var a=e,r=a.ruleForm;r.projectId=a.projectId,a.apiAddress(e.url,r).then(function(t){a.centerDialogVisible=!1,"failure"==t.data.status?a.$message({message:t.data.message,type:"error",center:!0}):(a.$message({message:t.data.message,type:"success",center:!0}),a.searchList(a.currentPage,a.pageSize)),e.$refs.ruleForm.resetFields()}).catch(function(t){a.$message({message:t,type:"error",center:!0}),e.$refs.ruleForm.resetFields()})}})}}},Li={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-role"},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[r("el-col",{staticClass:"text-align-right",attrs:{span:24}},[r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.addTreatyBtn()}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("\n        创建合约\n      ")]),e._v(" "),r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.exportBtn()}}},[r("span",{staticClass:"el-icon-upload2 linear"}),e._v("\n        导出\n      ")])])],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"treatyNum",label:"合约编号","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"treatyType",label:"合约分类","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.selectGetName(t.row.treatyType,e.treatyTypeList)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"undertakeType",label:"承包方式","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s("1"==t.row.treatyType?e.selectGetName(t.row.undertakeType,e.undertakeTypeList):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"treatyName",label:"合约名称","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"treatyContent",label:"合约内容及范围","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.treatyContent?t.row.treatyContent:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"targetCost",label:"目标成本（元）","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(new Number(t.row.targetCost)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"contractType",label:"合同类型","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.selectGetName(t.row.contractType,e.contractTypeList)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"contractWay",label:"合同确定方式","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.selectGetName(t.row.contractWay,e.contractWayList)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"purchaserWay",label:"采购方式","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.selectGetName(t.row.purchaserWay,e.purchaserWayList)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"remark",label:"备注","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.remark?t.row.remark:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.updateTreatyBtn(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1),e._v(" "),r("el-dialog",{attrs:{title:e.formTitle,visible:e.centerDialogVisible,width:"500px",transition:"fade-in-linear",center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"300px"}},[r("el-form-item",{attrs:{label:"合约编号",prop:"treatyNum"}},[r("el-input",{attrs:{placeholder:"请输入合约编号"},model:{value:e.ruleForm.treatyNum,callback:function(t){e.$set(e.ruleForm,"treatyNum",t)},expression:"ruleForm.treatyNum"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"合约分类",prop:"treatyType"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.treatyType,callback:function(t){e.$set(e.ruleForm,"treatyType",t)},expression:"ruleForm.treatyType"}},e._l(e.treatyTypeList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),1==e.ruleForm.treatyType?r("el-form-item",{attrs:{label:"承包方式",prop:"undertakeType"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.undertakeType,callback:function(t){e.$set(e.ruleForm,"undertakeType",t)},expression:"ruleForm.undertakeType"}},e._l(e.undertakeTypeList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"合约名称",prop:"treatyName"}},[r("el-input",{attrs:{placeholder:"请输入合约名称"},model:{value:e.ruleForm.treatyName,callback:function(t){e.$set(e.ruleForm,"treatyName",t)},expression:"ruleForm.treatyName"}})],1),e._v(" "),r("el-form-item",{staticClass:"tree-error",attrs:{label:"目标成本（元）",prop:"targetCost"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入目标成本"},model:{value:e.ruleForm.targetCost,callback:function(t){e.$set(e.ruleForm,"targetCost",t)},expression:"ruleForm.targetCost"}})],1),e._v(" "),r("el-form-item",{staticClass:"tree-error",attrs:{label:"合同类型",prop:"contractType"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.contractType,callback:function(t){e.$set(e.ruleForm,"contractType",t)},expression:"ruleForm.contractType"}},e._l(e.contractTypeList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{staticClass:"tree-error",attrs:{label:"合同确定方式",prop:"contractWay"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.contractWay,callback:function(t){e.$set(e.ruleForm,"contractWay",t)},expression:"ruleForm.contractWay"}},e._l(e.contractWayList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{staticClass:"tree-error",attrs:{label:"采购方式",prop:"purchaserWay"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.purchaserWay,callback:function(t){e.$set(e.ruleForm,"purchaserWay",t)},expression:"ruleForm.purchaserWay"}},e._l(e.purchaserWayList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{staticClass:"tree-error",attrs:{label:"合约内容及范围",prop:"treatyContent"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入合约内容及范围"},model:{value:e.ruleForm.treatyContent,callback:function(t){e.$set(e.ruleForm,"treatyContent",t)},expression:"ruleForm.treatyContent"}})],1),e._v(" "),r("el-form-item",{staticClass:"tree-error",attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitTreatyfunc("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var $i=a("VU/8")(Si,Li,!1,function(e){a("81Cr")},null,null).exports,Pi={treatyTypeList:[{value:"1",label:"工程类合约"},{value:"2",label:"采购类合约"},{value:"3",label:"服务类合约"},{value:"4",label:"土地类合约"},{value:"5",label:"其他类合约"}],undertakeTypeList:[{value:"1",label:"施工总承包"},{value:"2",label:"发包人发包专业合同"},{value:"3",label:"发包人自行发包专业"}],contractTypeList:[{value:"1",label:"单价合同"},{value:"2",label:"总价合同"},{value:"3",label:"其他"}],purchaserWayList:[{value:"1",label:"公开招标"},{value:"2",label:"内部组织招标"},{value:"3",label:"联合招标"},{value:"4",label:"直接委托"},{value:"5",label:"竞争性谈判"}],fileTypeList:[{value:"1",label:"招标控制价"},{value:"2",label:"招标标的"},{value:"3",label:"其他"}]},ji={data:function(){var e=new FormData;return{projectId:this.$parent.projectId,ruleForm:{tenderId:"",tenderNum:"",treatyType:"",undertakeType:"",tenderName:"",planTimes:[],planStartTime:"",planEndTime:"",contractType:"",purchaserWay:"",targetCost:"",fileType:"",exciseMoney:"",taxRatio:"",taxMoney:"",withTaxMoney:"",remark:"",file:"",materialName:""},rules:{tenderNum:[{required:!0,message:"请输入招标编号",trigger:"blur"},{max:20,message:"最长20字",trigger:"blur"}],treatyType:[{required:!0,message:"请选择合约分类",trigger:"change"}],undertakeType:[{required:!0,message:"请选择承包方式",trigger:"change"}],tenderName:[{required:!0,message:"请输入招标名称",trigger:"blur"},{max:20,message:"最长20字",trigger:"blur"}],planTimes:[{required:!0,message:"请选择计划起止时间",trigger:"change"}],contractType:[{required:!0,message:"请选择合同类型",trigger:"change"}],purchaserWay:[{required:!0,message:"请选择采购方式",trigger:"change"}],targetCost:[{required:!0,message:"请输入目标成本",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],fileType:[{required:!0,message:"请选择文件类型",trigger:"change"}],exciseMoney:[{required:!0,message:"请输入除税金额",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],taxRatio:[{required:!0,message:"请输入税率",trigger:"blur"},{max:20,message:"最长20字",trigger:"blur"},{validator:this.percentage,trigger:"blur"}],taxMoney:[{required:!0,message:"请输入税金",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],withTaxMoney:[{required:!0,message:"请输入含税金额",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],remark:[{max:100,message:"最长100字",trigger:"blur"}],materialName:[{required:!0,message:"请上传文件",trigger:"change"}]},formData:e,formTitle:"",url:"",treatyTypeList:Pi.treatyTypeList,undertakeTypeList:Pi.undertakeTypeList,contractTypeList:Pi.contractTypeList,purchaserWayList:Pi.purchaserWayList,fileTypeList:Pi.fileTypeList}},methods:{beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},handleAvatarSuccess:function(e,t){this.ruleForm.file=URL.createObjectURL(e.raw),this.ruleForm.materialName=e.name},addTenderFunc:function(){this.formTitle="新增",this.url="/wholeProcess/tender/insert/insertWholeProcessTender"},handleClose:function(e){this.$refs.ruleForm.resetFields(),e(),console.log("------------",this.$parent.centerDialogVisible),this.$parent.centerDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},updateTenderFunc:function(e){this.formTitle="修改",this.url="/wholeProcess/tender/modify/updateWholeProcessTender";var t={tenderId:e.tenderId},a=this;a.apiAddress("/wholeProcess/tender/query/searchProjectTenderPeriodInfo",t).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataVO;console.log("dataVO",t),a.ruleForm={tenderId:t.tenderId,tenderNum:t.tenderNum,treatyType:t.treatyType,undertakeType:t.undertakeType,tenderName:t.tenderName,planTimes:[t.planStartTime,t.planEndTime],planStartTime:t.planStartTime,planEndTime:t.planEndTime,contractType:t.contractType,purchaserWay:t.purchaserWay,targetCost:t.targetCost,fileType:t.fileType,exciseMoney:t.exciseMoney,taxRatio:t.taxRatio,taxMoney:t.taxMoney,withTaxMoney:t.withTaxMoney,remark:t.remark,file:"",materialName:t.tenderFileName}}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},formatDate:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},submitTenderfunc:function(){var e=this,t=this;this.$refs.ruleForm.validate(function(a){if(a){var r=t.formatDate(t.ruleForm.planTimes[0]),s=t.formatDate(t.ruleForm.planTimes[1]);"1"!=t.ruleForm.treatyType&&(t.ruleForm.undertakeType=""),t.formData.set("tenderId",t.ruleForm.tenderId),t.formData.set("tenderNum",t.ruleForm.tenderNum),t.formData.set("treatyType",t.ruleForm.treatyType),t.formData.set("undertakeType",t.ruleForm.undertakeType),t.formData.set("tenderName",t.ruleForm.tenderName),t.formData.set("planStartTime",r),t.formData.set("planEndTime",s),t.formData.set("projectId",t.projectId),t.formData.set("contractType",t.ruleForm.contractType),t.formData.set("purchaserWay",t.ruleForm.purchaserWay),t.formData.set("targetCost",t.ruleForm.targetCost),t.formData.set("fileType",t.ruleForm.fileType),t.formData.set("exciseMoney",t.ruleForm.exciseMoney),t.formData.set("taxRatio",t.ruleForm.taxRatio),t.formData.set("taxMoney",t.ruleForm.taxMoney),t.formData.set("withTaxMoney",t.ruleForm.withTaxMoney),t.formData.set("remark",t.ruleForm.remark),t.$refs.upload.submit(),t.apiAddress(e.url,t.formData).then(function(a){"failure"==a.data.status?t.$message({message:a.data.message,type:"error",center:!0}):(t.formData=new FormData,t.$message({message:a.data.message,type:"success",center:!0}),t.$parent.reflashData(),e.$parent.centerDialogVisible=!1,t.ruleForm.file="")}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}})},handleExceed:function(e,t){this.$message.warning("当前限制选择 "+this.limit+" 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")}}},qi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mh-set-role"},[a("el-dialog",{attrs:{title:e.formTitle,visible:!0,width:"500px",transition:"fade-in-linear",center:"","before-close":e.handleClose}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"300px"}},[a("el-form-item",{attrs:{label:"招标编号",prop:"tenderNum"}},[a("el-input",{attrs:{placeholder:"请输入招标编号"},model:{value:e.ruleForm.tenderNum,callback:function(t){e.$set(e.ruleForm,"tenderNum",t)},expression:"ruleForm.tenderNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合约分类",prop:"treatyType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.treatyType,callback:function(t){e.$set(e.ruleForm,"treatyType",t)},expression:"ruleForm.treatyType"}},e._l(e.treatyTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),1==e.ruleForm.treatyType?a("el-form-item",{attrs:{label:"承包方式",prop:"undertakeType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.undertakeType,callback:function(t){e.$set(e.ruleForm,"undertakeType",t)},expression:"ruleForm.undertakeType"}},e._l(e.undertakeTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"招标名称",prop:"tenderName"}},[a("el-input",{attrs:{placeholder:"请输入招标名称"},model:{value:e.ruleForm.tenderName,callback:function(t){e.$set(e.ruleForm,"tenderName",t)},expression:"ruleForm.tenderName"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"计划起止时间",prop:"planTimes"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.ruleForm.planTimes,callback:function(t){e.$set(e.ruleForm,"planTimes",t)},expression:"ruleForm.planTimes"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"合同类型",prop:"contractType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.contractType,callback:function(t){e.$set(e.ruleForm,"contractType",t)},expression:"ruleForm.contractType"}},e._l(e.contractTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"采购方式",prop:"purchaserWay"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.purchaserWay,callback:function(t){e.$set(e.ruleForm,"purchaserWay",t)},expression:"ruleForm.purchaserWay"}},e._l(e.purchaserWayList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"目标成本(元)",prop:"targetCost"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入目标成本"},model:{value:e.ruleForm.targetCost,callback:function(t){e.$set(e.ruleForm,"targetCost",t)},expression:"ruleForm.targetCost"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"文件类型",prop:"fileType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.fileType,callback:function(t){e.$set(e.ruleForm,"fileType",t)},expression:"ruleForm.fileType"}},e._l(e.fileTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"除税金额(元)",prop:"exciseMoney"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入除税金额"},model:{value:e.ruleForm.exciseMoney,callback:function(t){e.$set(e.ruleForm,"exciseMoney",t)},expression:"ruleForm.exciseMoney"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"税率(%)",prop:"taxRatio"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入税率"},model:{value:e.ruleForm.taxRatio,callback:function(t){e.$set(e.ruleForm,"taxRatio",t)},expression:"ruleForm.taxRatio"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"税金(元)",prop:"taxMoney"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入税金"},model:{value:e.ruleForm.taxMoney,callback:function(t){e.$set(e.ruleForm,"taxMoney",t)},expression:"ruleForm.taxMoney"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"含税金额(元)",prop:"withTaxMoney"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入含税金额"},model:{value:e.ruleForm.withTaxMoney,callback:function(t){e.$set(e.ruleForm,"withTaxMoney",t)},expression:"ruleForm.withTaxMoney"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",{staticClass:"upload upload1",attrs:{label:"招标文件",prop:"materialName"}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUpload,data:e.ruleForm}},[a("el-button",[a("span",{staticClass:"iconfont"},[e._v("")]),e._v("\n            点击上传\n          ")]),e._v(" "),a("br"),e._v(" "),a("el-input",{attrs:{placeholder:"请上传招标管理文件",disabled:!0},model:{value:e.ruleForm.materialName,callback:function(t){e.$set(e.ruleForm,"materialName",t)},expression:"ruleForm.materialName"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitTenderfunc("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Ri={data:function(){var e=new FormData;return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],projectId:this.$parent.projectId,formData:e,formTitle:"",centerDialogVisible:!1,url:"",treatyTypeList:Pi.treatyTypeList,undertakeTypeList:Pi.undertakeTypeList,contractTypeList:Pi.contractTypeList,purchaserWayList:Pi.purchaserWayList,fileTypeList:Pi.fileTypeList}},components:{TenderForm:a("VU/8")(ji,qi,!1,function(e){a("4+Xz")},null,null).exports},mounted:function(){this.currentPage=1,this.pageSize=10,this.reflashData()},methods:{selectGetName:function(e,t){return this.$parent.selectGetName(e,t)},reflashData:function(){this.searchList(this.currentPage,this.pageSize)},beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},handleAvatarSuccess:function(e,t){this.ruleForm.file=URL.createObjectURL(e.raw),this.ruleForm.materialName=e.name},addTenderBtn:function(){var e=this;e.centerDialogVisible=!0,e.$nextTick(function(){e.$refs.childForm.addTenderFunc()})},exportBtn:function(){var e=document.createElement("iframe");e.src="/wholeProcess/tender/export/exportTenderData?realFileName=招标管理.xls&projectId="+this.projectId,e.style.display="none",document.body.appendChild(e)},handleSizeChange:function(e){this.pageSize=e,this.reflashData()},handleCurrentChange:function(e){this.currentPage=e,this.reflashData()},updateTenderBtn:function(e){var t=this;t.centerDialogVisible=!0,t.$nextTick(function(){t.$refs.childForm.updateTenderFunc(e)})},searchList:function(e,t){var a=this,r={pageNumber:e,pageSize:t,projectId:a.projectId};a.apiAddress("/wholeProcess/tender/query/searchProjectTenderPeriodList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.tabdata=t,a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},downLoadFile:function(e){this.downloadFile(e.tenderFilePath,e.tenderFileName)}}},Bi={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-role",staticStyle:{width:"1550px",overflow:"auto"}},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[r("el-col",{staticClass:"text-align-right",attrs:{span:24}},[r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.addTenderBtn()}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("\n        创建招标\n      ")]),e._v(" "),r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.exportBtn()}}},[r("span",{staticClass:"el-icon-upload2 linear"}),e._v("\n        导出\n      ")])])],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticClass:"item-tab",staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"tenderNum",width:"150",label:"招标编号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"treatyType",width:"150",label:"合约分类","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.selectGetName(t.row.treatyType,e.treatyTypeList)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"undertakeType",width:"150",label:"承包方式","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.selectGetName(t.row.undertakeType,e.undertakeTypeList)?e.selectGetName(t.row.undertakeType,e.undertakeTypeList):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"tenderName",width:"150",label:"招标名称","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"planStartTime",width:"150",label:"计划起止时间","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.planStartTime+"-"+t.row.planEndTime))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"contractType",width:"150",label:"合同类型","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.selectGetName(t.row.contractType,e.contractTypeList)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"purchaserWay",width:"150",label:"采购方式","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.selectGetName(t.row.purchaserWay,e.purchaserWayList)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"targetCost",width:"150",label:"目标成本(元)","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"fileType",width:"150",label:"文件类型","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.selectGetName(t.row.fileType,e.fileTypeList)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"exciseMoney",width:"150",label:"除税金额(元)","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"taxRatio",width:"150",label:"税率(%)","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.taxRatio)+"%")])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"taxMoney",width:"150",label:"税金(元)","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(new Number(t.row.taxMoney)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"withTaxMoney",width:"150",label:"含税金额(元)","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(new Number(t.row.withTaxMoney)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"remark",width:"150",label:"备注","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.remark?t.row.remark:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作",width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.downLoadFile(t.row)}}},[e._v("下载")]),e._v(" "),r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.updateTenderBtn(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1),e._v(" "),e.centerDialogVisible?r("tender-form",{ref:"childForm"}):e._e()],1)},staticRenderFns:[]};var Oi=a("VU/8")(Ri,Bi,!1,function(e){a("OfOW")},null,null).exports,zi={contractTypeList:[{value:"1",label:"单价合同"},{value:"2",label:"总价合同"},{value:"3",label:"其他"}]},Mi={data:function(){var e=new FormData;return{projectId:this.$parent.projectId,ruleForm:{tenderId:"",tenderName:"",contractType:"",acceptFileTime:"",sendReportTime:"",file:"",materialName:""},contractTypeList:zi.contractTypeList,rules:{materialName:[{required:!0,message:"请上传文件",trigger:"blur"}]},formData:e,formTitle:"",url:""}},methods:{selectGetName:function(e,t){return this.$parent.selectGetName(e,t)},beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},handleAvatarSuccess:function(e,t){this.ruleForm.file=URL.createObjectURL(e.raw),this.ruleForm.materialName=e.name},handleClose:function(e){this.$refs.ruleForm.resetFields(),e(),console.log("------------",this.$parent.centerDialogVisible),this.$parent.centerDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.searchList(this.currentPage,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.searchList(this.currentPage,this.pageSize)},updateCleanTenderFunc:function(e){this.formTitle="修改",this.url="/wholeProcess/tender/modify/updateWholeProcessCleanTender";var t={tenderId:e.tenderId},a=this;a.apiAddress("/wholeProcess/tender/query/searchProjectTenderPeriodInfo",t).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataVO;console.log("dataVO",t),a.ruleForm={tenderId:t.tenderId,tenderName:t.tenderName,contractType:t.contractType,acceptFileTime:t.acceptFileTime,sendReportTime:t.sendReportTime,materialName:t.reportName}}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},formatDate:function(e){if(e)var t=new Date(e),a=t.getFullYear(),r=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,s=t.getDate()<10?"0"+t.getDate():t.getDate();return a+"-"+r+"-"+s},submitCleanTenderfunc:function(){var e=this,t=this;this.$refs.ruleForm.validate(function(a){if(a){console.log("acceptFileTime",t.ruleForm.acceptFileTime),console.log("sendReportTime",t.ruleForm.sendReportTime);var r=t.formatDate(t.ruleForm.acceptFileTime),s=t.formatDate(t.ruleForm.sendReportTime);t.formData.append("tenderId",t.ruleForm.tenderId),t.formData.append("acceptFileTime",r),t.formData.append("sendReportTime",s),t.$refs.upload.submit(),t.apiAddress(e.url,t.formData).then(function(a){t.formData=new FormData,"failure"==a.data.status?t.$message({message:a.data.message,type:"error",center:!0}):(t.$message({message:a.data.message,type:"success",center:!0}),t.$parent.reflashData(),e.$parent.centerDialogVisible=!1,t.ruleForm.file="")}).catch(function(e){t.$message({message:e,type:"error",center:!0})}),e.$refs.ruleForm.resetFields()}})},handleExceed:function(e,t){this.$message.warning("当前限制选择 "+this.limit+" 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")}}},Vi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mh-set-role"},[a("el-dialog",{attrs:{title:e.formTitle,visible:!0,width:"500px",transition:"fade-in-linear",center:"","before-close":e.handleClose}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"300px"}},[a("el-form-item",{attrs:{label:"招标名称"}},[a("span",[e._v(e._s(e.ruleForm.tenderName))])]),e._v(" "),a("el-form-item",{attrs:{label:"合同类型"}},[a("span",[e._v(e._s(e.selectGetName(e.ruleForm.contractType,e.contractTypeList)))])]),e._v(" "),a("el-form-item",{attrs:{label:"接收资料时间",prop:"acceptFileTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间"},model:{value:e.ruleForm.acceptFileTime,callback:function(t){e.$set(e.ruleForm,"acceptFileTime",t)},expression:"ruleForm.acceptFileTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发出报告时间",prop:"sendReportTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间"},model:{value:e.ruleForm.sendReportTime,callback:function(t){e.$set(e.ruleForm,"sendReportTime",t)},expression:"ruleForm.sendReportTime"}})],1),e._v(" "),a("el-form-item",{staticClass:"upload upload1",attrs:{label:"清标文件",prop:"materialName"}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUpload,data:e.ruleForm}},[a("el-button",[a("span",{staticClass:"iconfont"},[e._v("")]),e._v("\n            上传附件\n          ")]),e._v(" "),a("br"),e._v(" "),a("el-input",{attrs:{placeholder:"请上传清标文件",disabled:!0},model:{value:e.ruleForm.materialName,callback:function(t){e.$set(e.ruleForm,"materialName",t)},expression:"ruleForm.materialName"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitCleanTenderfunc("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Ui,Ei={data:function(){var e=new FormData;return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],projectId:this.$parent.projectId,formData:e,formTitle:"",centerDialogVisible:!1,url:"",contractTypeList:zi.contractTypeList}},components:{CleanTenderForm:a("VU/8")(Mi,Vi,!1,function(e){a("iTq6")},null,null).exports},mounted:function(){this.currentPage=1,this.pageSize=10,this.reflashData()},methods:(Ui={selectGetName:function(e,t){return this.$parent.selectGetName(e,t)}},Ot()(Ui,"selectGetName",function(e,t){return this.$parent.selectGetName(e,t)}),Ot()(Ui,"reflashData",function(){this.searchList(this.currentPage,this.pageSize)}),Ot()(Ui,"beforeAvatarUpload",function(e,t){return this.formData.append("file",e),!1}),Ot()(Ui,"handleAvatarSuccess",function(e,t){this.ruleForm.file=URL.createObjectURL(e.raw),this.ruleForm.materialName=e.name}),Ot()(Ui,"handleSizeChange",function(e){this.pageSize=e,this.reflashData()}),Ot()(Ui,"handleCurrentChange",function(e){this.currentPage=e,this.reflashData()}),Ot()(Ui,"updateCleanTenderBtn",function(e){var t=this;console.log("~~~~~~~~~~~~~~"),t.centerDialogVisible=!0,t.$nextTick(function(){console.log("this.$refs.childForm",t.$refs.childForm),t.$refs.childForm.updateCleanTenderFunc(e)})}),Ot()(Ui,"exportBtn",function(){var e=document.createElement("iframe");e.src="/wholeProcess/tender/export/exportCleanTenderData?realFileName=清标台账.xls&projectId="+this.projectId,e.style.display="none",document.body.appendChild(e)}),Ot()(Ui,"searchList",function(e,t){var a=this,r={pageNumber:e,pageSize:t,projectId:a.projectId};a.apiAddress("/wholeProcess/tender/query/searchProjectCleanTenderPeriodList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.tabdata=t,a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})}),Ot()(Ui,"downLoadFile",function(e){this.downloadFile(e.reportPath,e.reportName)}),Ot()(Ui,"handleExceed",function(e,t){this.$message.warning("当前限制选择 "+this.limit+" 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")}),Ui)},Hi={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-role"},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[r("el-col",{staticClass:"text-align-right",attrs:{span:24}},[r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.exportBtn()}}},[r("span",{staticClass:"el-icon-upload2 linear"}),e._v("\n        导出\n      ")])])],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"tenderName",label:"招标名称","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"contractType",label:"合同类型","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.contractType?e.selectGetName(t.row.contractType,e.contractTypeList):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"acceptFileTime",label:"接收资料时间","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.acceptFileTime?t.row.acceptFileTime:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"sendReportTime",label:"发出报告时间","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.sendReportTime?t.row.sendReportTime:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.downLoadFile(t.row)}}},[e._v("下载")]),e._v(" "),r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.updateCleanTenderBtn(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1),e._v(" "),e.centerDialogVisible?r("clean-tender-form",{ref:"childForm"}):e._e()],1)},staticRenderFns:[]};var Wi=a("VU/8")(Ei,Hi,!1,function(e){a("Ew15")},null,null).exports;var Ki=[{text:"单价合同",value:"1"},{text:"总价合同",value:"2"},{text:"其他",value:"3"}],Ji=[{text:"无需重计量",value:"1"},{text:"重计量未开始",value:"2"},{text:"重计量未完成",value:"3"},{text:"重计量已完成",value:"4"}];var Qi={listHeaders:[{id:"contractNum",name:"合同编号"},{id:"treatyType",name:"合同分类"},{id:"undertakeType",name:"承包方式"},{id:"contractName",name:"合同名称"},{id:"contractUnit",name:"合作单位"},{id:"planDate",name:"计划工期"},{id:"contractClass",name:"合同类型"},{id:"measureSts",name:"重计量状态"},{id:"targetCost",name:"目标成本（元）"},{id:"exciseMoney",name:"除税金额（元）"},{id:"taxRatio",name:"税率（%）"},{id:"taxMoney",name:"税金（元）"},{id:"withTaxMoney",name:"含税金额（元）"},{id:"remark",name:"备注"}],contractForm:{contractId:"",contractName:"",projectId:"",tenderId:"",treatyType:"",treatyTypeName:"",undertakeType:"",undertakeTypeName:"",contractNum:"",contractUnit:"",planDate:"",contractClass:"",contractClassName:"",measureSts:"",measureStsName:"",targetCost:"",exciseMoney:"",taxRatio:"",taxMoney:"",withTaxMoney:"",remark:""},contractClassSelectData:Ki,measureStsSelectData:Ji,treatyType:{1:"工程类合约",2:"采购类合约",3:"服务类合约",4:"土地类合约",5:"其他类合约"},undertakeType:{1:"施工总承包",2:"发包人发包专业合同",3:"发包人自行发包专业"},getContractClassText:function(e){for(var t=0,a=Ki;t<a.length;t++)if(a[t].value===e)return a[t].text},getMeasureStsText:function(e){for(var t=0,a=Ji;t<a.length;t++)if(a[t].value===e)return a[t].text},getFormRules:function(e){return{contractName:[{required:!0,message:"请选择合同名称",trigger:"change"}],contractNum:[{validator:e.checkNumAlphaSymbol,trigger:"blur"},{required:!0,message:"请输入合同编号",trigger:"blur"}],contractUnit:[{max:20,message:"最大长度不能超过20",trigger:"blur"}],planDate:[{max:20,message:"最大长度不能超过20",trigger:"blur"}],exciseMoney:[{validator:e.moneyCheck,trigger:"blur"}],targetCost:[{validator:e.moneyCheck,trigger:"blur"}],taxMoney:[{validator:e.moneyCheck,trigger:"blur"}],withTaxMoney:[{validator:e.moneyCheck,trigger:"blur"}],taxRatio:[{validator:e.checkPercentage,trigger:"blur"}],remark:[{max:100,message:"最大长度不能超过100",trigger:"blur"}]}},getTenderInfo:function(e,t){for(var a=0,r=e.length;a<r;a++)if(e[a].tenderId===t)return e[a]}},Gi={name:"contract-list-add",components:{CommonSelect:R},data:function(){return{contractForm:JSON.parse(m()(Qi.contractForm)),contractClassSelectData:Qi.contractClassSelectData,measureStsSelectData:Qi.measureStsSelectData,contractNameSelectFormat:{value:"tenderId",label:"tenderName"},contractClassSelectFormat:{value:"value",label:"text"},measureStsSelectFormat:{value:"value",label:"text"},verify:{moneyCheck:this.moneyCheck,checkNumAlphaSymbol:this.checkNumAlphaSymbol,checkPercentage:this.checkPercentage},projectId:this.$parent.$parent.projectId}},computed:{contractNameSelectData:{get:function(){return this.$store.state.wholeProcess.contractObject.tenderInfo}},formRules:function(){return Qi.getFormRules(this.verify)}},props:["isShowDialog","dialogTitle","formData"],watch:{formData:function(e){this.contractForm=JSON.parse(m()(e)),this.contractForm.treatyTypeName=Qi.treatyType[e.treatyType],this.contractForm.undertakeTypeName=Qi.undertakeType[e.undertakeType],this.contractForm.contractClassName=Qi.getContractClassText(e.contractClass),this.contractForm.measureStsName=Qi.getMeasureStsText(e.measureSts)}},methods:{contractNameChange:function(e){var t=Qi.getTenderInfo(this.contractNameSelectData,e.value);this.contractForm.contractName=e.label,this.contractForm.treatyType=t.treatyType,this.contractForm.treatyTypeName=Qi.treatyType[t.treatyType],this.contractForm.tenderId=t.tenderId,this.contractForm.undertakeType=t.undertakeType,this.contractForm.undertakeTypeName=Qi.undertakeType[t.undertakeType]},contractClassChange:function(e){this.contractForm.contractClass=e.value,this.contractForm.contractClassName=e.label},measureStsChange:function(e){this.contractForm.measureSts=e.value,this.contractForm.measureStsName=e.label},onClose:function(){"新增"===this.dialogTitle&&(this.contractForm={}),this.$emit("update:isShowDialog",!1),this.$refs.contractForm.resetFields()},submitForm:function(e){var t=this,a="";"新增"===this.dialogTitle?a="/wholeProcess/contract/save/saveWholeProcessContract":"修改"===this.dialogTitle&&(a="/wholeProcess/contract/modify/updateWholeProcessContract"),this.$refs[e].validate(function(e){e&&t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var e=t;e.contractForm.projectId=t.projectId,e.$axios.post(a,m()(e.contractForm),e.config).then(function(t){"success"===t.data.status?(e.$emit("showDialog",!1),e.contractForm={},e.bus.$emit("refersPagingData"),e.$message({type:"success",message:t.data.message,center:!0})):e.$message({type:"error",message:t.data.message,center:!0})}).catch(function(t){e.$message({type:"error",message:t,center:!0})})}).catch(function(){})})}}},Yi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.isShowDialog,width:"500px",transition:"fade-in-linear",center:""},on:{close:e.onClose}},[a("el-form",{ref:"contractForm",staticClass:"demo-ruleForm",attrs:{model:e.contractForm,"label-width":"100px",rules:e.formRules}},[a("el-form-item",{attrs:{label:"合同名称",prop:"contractName"}},[a("common-select",{attrs:{formModel:e.contractForm.contractName,data:this.contractNameSelectData,dataFormat:this.contractNameSelectFormat},on:{"update:formModel":function(t){return e.$set(e.contractForm,"contractName",t)},"update:form-model":function(t){return e.$set(e.contractForm,"contractName",t)},optionChanged:e.contractNameChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同分类"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.contractForm.treatyTypeName,callback:function(t){e.$set(e.contractForm,"treatyTypeName",t)},expression:"contractForm.treatyTypeName"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.contractForm.undertakeType,expression:"contractForm.undertakeType"}],attrs:{label:"承包方式"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.contractForm.undertakeTypeName,callback:function(t){e.$set(e.contractForm,"undertakeTypeName",t)},expression:"contractForm.undertakeTypeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同编号",prop:"contractNum"}},[a("el-input",{attrs:{placeholder:"请输入合同编号"},model:{value:e.contractForm.contractNum,callback:function(t){e.$set(e.contractForm,"contractNum",t)},expression:"contractForm.contractNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合作单位",prop:"contractUnit"}},[a("el-input",{attrs:{placeholder:"请输入合作单位"},model:{value:e.contractForm.contractUnit,callback:function(t){e.$set(e.contractForm,"contractUnit",t)},expression:"contractForm.contractUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计划工期",prop:"planDate"}},[a("el-input",{attrs:{placeholder:"请输入计划工期"},model:{value:e.contractForm.planDate,callback:function(t){e.$set(e.contractForm,"planDate",t)},expression:"contractForm.planDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同类型",prop:"contractClass"}},[a("common-select",{attrs:{formModel:e.contractForm.contractClassName,data:e.contractClassSelectData,dataFormat:this.contractClassSelectFormat},on:{"update:formModel":function(t){return e.$set(e.contractForm,"contractClassName",t)},"update:form-model":function(t){return e.$set(e.contractForm,"contractClassName",t)},optionChanged:e.contractClassChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"重计量状态",prop:"measureSts"}},[a("common-select",{attrs:{formModel:e.contractForm.measureStsName,data:e.measureStsSelectData,dataFormat:this.measureStsSelectFormat},on:{"update:formModel":function(t){return e.$set(e.contractForm,"measureStsName",t)},"update:form-model":function(t){return e.$set(e.contractForm,"measureStsName",t)},optionChanged:e.measureStsChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"目标成本（元）",prop:"targetCost"}},[a("el-input",{attrs:{placeholder:"请输入目标成本"},model:{value:e.contractForm.targetCost,callback:function(t){e.$set(e.contractForm,"targetCost",t)},expression:"contractForm.targetCost"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"除税金额（元）",prop:"exciseMoney"}},[a("el-input",{attrs:{placeholder:"请输入除税金额"},model:{value:e.contractForm.exciseMoney,callback:function(t){e.$set(e.contractForm,"exciseMoney",t)},expression:"contractForm.exciseMoney"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税率（%）",prop:"taxRatio"}},[a("el-input",{attrs:{placeholder:"税率"},model:{value:e.contractForm.taxRatio,callback:function(t){e.$set(e.contractForm,"taxRatio",t)},expression:"contractForm.taxRatio"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税金（元）",prop:"taxMoney"}},[a("el-input",{attrs:{placeholder:"请输入税金"},model:{value:e.contractForm.taxMoney,callback:function(t){e.$set(e.contractForm,"taxMoney",t)},expression:"contractForm.taxMoney"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"含税金额（元）",prop:"withTaxMoney"}},[a("el-input",{attrs:{placeholder:"请输入含税金额"},model:{value:e.contractForm.withTaxMoney,callback:function(t){e.$set(e.contractForm,"withTaxMoney",t)},expression:"contractForm.withTaxMoney"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注"},model:{value:e.contractForm.remark,callback:function(t){e.$set(e.contractForm,"remark",t)},expression:"contractForm.remark"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("contractForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Xi=a("VU/8")(Gi,Yi,!1,function(e){a("JC+7")},"data-v-a6e2e58c",null).exports,Zi={name:"common-export.vue",props:["exportUrl"],methods:{exportBtn:function(){var e=document.createElement("iframe");e.src=this.exportUrl,e.style.display="none",document.body.appendChild(e)}}},el={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},attrs:{exportUrl:e.exportUrl},on:{click:function(t){return e.exportBtn()}}},[a("span",{staticClass:"el-icon-upload2 linear"}),e._v("\n  导出\n")])},staticRenderFns:[]};var tl=a("VU/8")(Zi,el,!1,function(e){a("+5de")},"data-v-67950a48",null).exports,al={name:"contract-list",components:{CommonPaging:Q,ContractListAdd:Xi,CommonExport:tl},data:function(){return{dataHeaders:Qi.listHeaders,currentPage:1,pageSize:10,queryUrl:"/wholeProcess/contract/query/searchWholeProcessContract",exportUrl:"/wholeProcess/contract/export/exportContractData?realFileName=合同台账.xlsx&projectId="+this.$parent.$parent.projectId,isShowEditDialog:!1,rowData:{},dialogTitle:"修改",projectId:this.$parent.$parent.projectId,queryCondition:{projectId:this.$parent.$parent.projectId}}},filters:{filterTreatyType:function(e){return Qi.treatyType[e]},filterUndertakeType:function(e){return Qi.undertakeType[e]},filterContractClass:function(e){return Qi.getContractClassText(e)},filterMeasureSts:function(e){return Qi.getMeasureStsText(e)}},mounted:function(){var e=this;e.$axios.post(e.queryUrl,m()({pageNumber:e.currentPage,pageSize:e.pageSize,projectId:e.projectId}),e.config).then(function(t){"success"===t.data.status?(e.standingBookData=t.data.pagedData.dataList,e.currentChangePage(e.standingBookData,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})})},computed:{standingBookData:{get:function(){return this.$store.state.wholeProcess.contractObject.data},set:function(e){this.$store.state.wholeProcess.contractObject.data=e}},total:{get:function(){return this.$store.state.wholeProcess.contractObject.total},set:function(e){this.$store.state.wholeProcess.contractObject.total=e}}},methods:{currentChangePage:function(e){this.standingBookData=e},update:function(e){this.isShowEditDialog=!0,this.rowData=e},pagingQueryData:function(e){var t=this;t.standingBookData=e.data.pagedData.dataList,t.currentChangePage(t.standingBookData,t.currentPage,t.pageSize),t.total=e.data.pagedData.dataCount},showDialog:function(){this.isShowEditDialog=!1}}},rl={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"1550px"}},[r("common-export",{attrs:{exportUrl:this.exportUrl}}),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.standingBookData,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),e._l(e.dataHeaders,function(t,a){return r("el-table-column",{key:a++,attrs:{align:"center","class-name":"table-column",label:t.name,prop:t.name,width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(s){return[r("label",2===a?[e._v(e._s(e._f("filterTreatyType")(e.standingBookData[s.$index][t.id])))]:3===a?[e._v(e._s(e._f("filterUndertakeType")(e.standingBookData[s.$index][t.id])))]:7===a?[e._v(e._s(e._f("filterContractClass")(e.standingBookData[s.$index][t.id])))]:8===a?[e._v(e._s(e._f("filterMeasureSts")(e.standingBookData[s.$index][t.id])))]:[e._v(e._s(e.standingBookData[s.$index][t.id]))])]}}],null,!0)})}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.update(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("common-paging",{attrs:{total:this.total,queryUrl:e.queryUrl,queryCondition:e.queryCondition},on:{pagingQueryData:e.pagingQueryData}}),e._v(" "),r("contract-list-add",{attrs:{isShowDialog:e.isShowEditDialog,formData:e.rowData,dialogTitle:e.dialogTitle},on:{"update:isShowDialog":function(t){e.isShowEditDialog=t},"update:is-show-dialog":function(t){e.isShowEditDialog=t},showDialog:e.showDialog}})],1)},staticRenderFns:[]};var sl=a("VU/8")(al,rl,!1,function(e){a("2KwY")},"data-v-3f05cb22",null).exports;var ol={listHeaders:[{id:"professionalId",name:"专业"},{id:"alterName",name:"变更名称"},{id:"contractNum",name:"合同编号"},{id:"contractName",name:"合同名称"},{id:"contentSummary",name:"内容摘要"},{id:"talkDate",name:"洽商日期"},{id:"receiveDate",name:"接收日期"},{id:"sts",name:"状态"},{id:"declareAmount",name:"申报金额（元）"},{id:"auditAmount",name:"监理审核金额（元）"},{id:"hanttenAmount",name:"汉腾审核金额（元）"},{id:"ownerAmount",name:"业主审批金额（元）"},{id:"addSubAmount",name:"核增/减金额（元）"},{id:"symbol",name:"批准文号"},{id:"alterAnalyse",name:"变更洽商费用分析"},{id:"remark",name:"备注"}],changeDetailForm:{alterId:"",projectId:"",contractId:"",contractName:"",alterName:"",professionalId:"",professionalName:"",contentSummary:"",talkDate:"",receiveDate:"",sts:"",stsName:"",declareAmount:"",auditAmount:"",hanttenAmount:"",ownerAmount:"",symbol:"",alterAnalyse:"",alterAnalyseName:"",remark:""},treatyType:{1:"工程类合约",2:"采购类合约",3:"服务类合约",4:"土地类合约",5:"其他类合约"},undertakeType:{1:"施工总承包",2:"发包人发包专业合同",3:"发包人自行发包专业"},professionalSelectData:[{text:"图纸会审",value:"1"},{text:"设计变更",value:"2"},{text:"变更洽商",value:"3"},{text:"现场签证",value:"4"}],staSelectData:[{text:"业主审批金额",value:"A"},{text:"汉腾与承包商已核对且无争议的变更洽商金额",value:"B"},{text:"汉腾与承包商已核对且有争议的变更洽商金额",value:"C"},{text:"汉腾已审核完毕尚未与申报单位核对金额",value:"D"},{text:"汉腾正在审核的变更金额",value:"E"},{text:"承包商申报资料不全或尚未申报费用",value:"F"},{text:"预计会发生，但无变更资料",value:"G"}],alterAnalyseSelectData:[{text:"调差",value:"1"},{text:"业主要求",value:"2"},{text:"设计要求",value:"3"},{text:"法规要求",value:"4"},{text:"设计/合同错误或不足",value:"5"},{text:"现场不可预见得情况",value:"6"},{text:"深化设计/协调",value:"7"},{text:"一般修改",value:"8"},{text:"其他",value:"9"}],getContractInfo:function(e,t){for(var a=0,r=e.length;a<r;a++)if(e[a].contractId===t)return e[a]},getText:function(e,t){for(var a=0;a<t.length;a++)if(t[a].value===e)return t[a].text},getFormRules:function(e){return{contractName:[{required:!0,message:"请选择合同名称",trigger:"change"}],alterName:[{required:!0,message:"请输入变更名称",trigger:"blur"},{max:20,message:"最大长度不能超过20",trigger:"blur"}],professionalName:[{required:!0,message:"请选择专业名称",trigger:"change"}],hanttenAmount:[{required:!0,message:"请输入审核金额",trigger:"blur"},{validator:e.moneyCheck,trigger:"blur"}],contentSummary:[{max:20,message:"最大长度不能超过20",trigger:"blur"}],declareAmount:[{validator:e.moneyCheck,trigger:"blur"}],auditAmount:[{validator:e.moneyCheck,trigger:"blur"}],ownerAmount:[{validator:e.moneyCheck,trigger:"blur"}],symbol:[{validator:e.checkNumAlphaSymbol,trigger:"blur"}],remark:[{max:100,message:"最大长度不能超过100",trigger:"blur"}]}}},nl={name:"change-detail-form",props:["isShowDialog","dialogTitle","formData"],components:{CommonSelect:R},data:function(){return{changeDetailForm:JSON.parse(m()(ol.changeDetailForm)),contractNameSelectFormat:{value:"contractId",label:"contractNum,contractName"},professionalSelectData:ol.professionalSelectData,staSelectData:ol.staSelectData,alterAnalyseSelectData:ol.alterAnalyseSelectData,professionalSelectFormat:{value:"value",label:"text"},stsSelectFormat:{value:"value",label:"text"},alterAnalyseSelectFormat:{value:"value",label:"text"},verify:{moneyCheck:this.moneyCheck,checkNumAlphaSymbol:this.checkNumAlphaSymbol},projectId:this.$parent.$parent.projectId}},computed:{contractNameSelectData:{get:function(){return this.$store.state.wholeProcess.changeStandingBookObject.contractInfo}},formRules:function(){return ol.getFormRules(this.verify)}},methods:{contractNameChange:function(e){var t=ol.getContractInfo(this.contractNameSelectData,e.value);this.changeDetailForm.contractName=e.label,this.changeDetailForm.contractId=e.value,this.changeDetailForm.treatyTypeName=ol.treatyType[t.treatyType],this.changeDetailForm.undertakeTypeName=ol.undertakeType[t.undertakeType]},professionalChange:function(e){this.changeDetailForm.professionalId=e.value,this.changeDetailForm.professionalName=e.label},stsChange:function(e){this.changeDetailForm.sts=e.value,this.changeDetailForm.stsName=e.label},alterAnalyseChange:function(e){this.changeDetailForm.alterAnalyse=e.value,this.changeDetailForm.alterAnalyseName=e.label},onClose:function(){"新增"===this.dialogTitle&&(this.changeDetailForm={}),this.$emit("update:isShowDialog",!1),this.$refs.changeDetailForm.resetFields()},onOpen:function(){if("修改"===this.dialogTitle){this.changeDetailForm.professionalName=ol.getText(this.formData.professionalId,ol.professionalSelectData),this.changeDetailForm.stsName=ol.getText(this.formData.sts,ol.staSelectData),this.changeDetailForm.alterAnalyseName=ol.getText(this.formData.alterAnalyse,ol.alterAnalyseSelectData);var e=ol.getContractInfo(this.contractNameSelectData,this.formData.contractId),t={};t.value=this.formData.contractId,t.label=e.contractNum+" - "+e.contractName,this.contractNameChange(t),this.changeDetailForm=W()({},this.changeDetailForm,this.formData)}},submitForm:function(e){var t=this,a="";"新增"===this.dialogTitle?a="/wholeProcess/changeDetail/save/saveChangeDetail":"修改"===this.dialogTitle&&(a="/wholeProcess/changeDetail/modify/updateChangeDetail"),this.$refs[e].validate(function(e){e&&t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var e=t;e.changeDetailForm.projectId=t.projectId,e.$axios.post(a,m()(e.changeDetailForm),e.config).then(function(t){"success"===t.data.status?(e.$emit("showDialog",!1),e.changeDetailForm={},e.bus.$emit("refersPagingData"),e.$message({type:"success",message:t.data.message,center:!0})):e.$message({type:"error",message:t.data.message,center:!0})}).catch(function(t){e.$message({type:"error",message:t,center:!0})})}).catch(function(){})})}}},il={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.isShowDialog,width:"500px",transition:"fade-in-linear",center:""},on:{close:e.onClose,open:e.onOpen}},[a("el-form",{ref:"changeDetailForm",staticClass:"demo-ruleForm",attrs:{model:e.changeDetailForm,"label-width":"130px",rules:e.formRules}},[a("el-form-item",{attrs:{label:"合同编号-合同名",prop:"contractName"}},[a("common-select",{attrs:{formModel:e.changeDetailForm.contractName,data:this.contractNameSelectData,dataFormat:this.contractNameSelectFormat},on:{"update:formModel":function(t){return e.$set(e.changeDetailForm,"contractName",t)},"update:form-model":function(t){return e.$set(e.changeDetailForm,"contractName",t)},optionChanged:e.contractNameChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同分类"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.changeDetailForm.treatyTypeName,callback:function(t){e.$set(e.changeDetailForm,"treatyTypeName",t)},expression:"changeDetailForm.treatyTypeName"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.changeDetailForm.undertakeTypeName,expression:"changeDetailForm.undertakeTypeName"}],attrs:{label:"承包方式"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.changeDetailForm.undertakeTypeName,callback:function(t){e.$set(e.changeDetailForm,"undertakeTypeName",t)},expression:"changeDetailForm.undertakeTypeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"变更名称",prop:"alterName"}},[a("el-input",{attrs:{placeholder:"请输入变更名称"},model:{value:e.changeDetailForm.alterName,callback:function(t){e.$set(e.changeDetailForm,"alterName",t)},expression:"changeDetailForm.alterName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"专业",prop:"professionalName"}},[a("common-select",{attrs:{formModel:e.changeDetailForm.professionalName,data:e.professionalSelectData,dataFormat:this.professionalSelectFormat},on:{"update:formModel":function(t){return e.$set(e.changeDetailForm,"professionalName",t)},"update:form-model":function(t){return e.$set(e.changeDetailForm,"professionalName",t)},optionChanged:e.professionalChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容摘要",prop:"contentSummary"}},[a("el-input",{attrs:{placeholder:"请输入内容摘要"},model:{value:e.changeDetailForm.contentSummary,callback:function(t){e.$set(e.changeDetailForm,"contentSummary",t)},expression:"changeDetailForm.contentSummary"}})],1),e._v(" "),a("el-form-item",{staticClass:"du",attrs:{label:"洽商日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择洽商日期",format:"yyyy-MM-dd"},model:{value:e.changeDetailForm.talkDate,callback:function(t){e.$set(e.changeDetailForm,"talkDate",t)},expression:"changeDetailForm.talkDate"}})],1),e._v(" "),a("el-form-item",{staticClass:"du",attrs:{label:"接收日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择接收日期",format:"yyyy-MM-dd"},model:{value:e.changeDetailForm.receiveDate,callback:function(t){e.$set(e.changeDetailForm,"receiveDate",t)},expression:"changeDetailForm.receiveDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("common-select",{attrs:{formModel:e.changeDetailForm.stsName,data:e.staSelectData,dataFormat:this.stsSelectFormat},on:{"update:formModel":function(t){return e.$set(e.changeDetailForm,"stsName",t)},"update:form-model":function(t){return e.$set(e.changeDetailForm,"stsName",t)},optionChanged:e.stsChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"申报金额（元）",prop:"declareAmount"}},[a("el-input",{attrs:{placeholder:"申报金额"},model:{value:e.changeDetailForm.declareAmount,callback:function(t){e.$set(e.changeDetailForm,"declareAmount",t)},expression:"changeDetailForm.declareAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"监理审核金额（元）",prop:"auditAmount"}},[a("el-input",{attrs:{placeholder:"监理审核金额"},model:{value:e.changeDetailForm.auditAmount,callback:function(t){e.$set(e.changeDetailForm,"auditAmount",t)},expression:"changeDetailForm.auditAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"汉腾审核金额（元）",prop:"hanttenAmount"}},[a("el-input",{attrs:{placeholder:"汉腾审核金额"},model:{value:e.changeDetailForm.hanttenAmount,callback:function(t){e.$set(e.changeDetailForm,"hanttenAmount",t)},expression:"changeDetailForm.hanttenAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"业主审批金额（元）",prop:"ownerAmount"}},[a("el-input",{attrs:{placeholder:"业主审批金额"},model:{value:e.changeDetailForm.ownerAmount,callback:function(t){e.$set(e.changeDetailForm,"ownerAmount",t)},expression:"changeDetailForm.ownerAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"批准文号",prop:"symbol"}},[a("el-input",{attrs:{placeholder:"批准文号"},model:{value:e.changeDetailForm.symbol,callback:function(t){e.$set(e.changeDetailForm,"symbol",t)},expression:"changeDetailForm.symbol"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"变更洽商费用分析"}},[a("common-select",{attrs:{formModel:e.changeDetailForm.alterAnalyseName,data:e.alterAnalyseSelectData,dataFormat:this.alterAnalyseSelectFormat},on:{"update:formModel":function(t){return e.$set(e.changeDetailForm,"alterAnalyseName",t)},"update:form-model":function(t){return e.$set(e.changeDetailForm,"alterAnalyseName",t)},optionChanged:e.alterAnalyseChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注"},model:{value:e.changeDetailForm.remark,callback:function(t){e.$set(e.changeDetailForm,"remark",t)},expression:"changeDetailForm.remark"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("changeDetailForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ll=a("VU/8")(nl,il,!1,function(e){a("3tnj")},"data-v-044e4266",null).exports;var cl={listHeaders:[{id:"contractNum",name:"合同编号"},{id:"treatyType",name:"合同分类"},{id:"undertakeType",name:"承包方式"},{id:"contractName",name:"合同名称"},{id:"contractUnit",name:"合作单位"},{id:"planDate",name:"计划工期"},{id:"contractClass",name:"合同类型"},{id:"targetCost",name:"目标成本（元）"},{id:"exciseMoney",name:"除税金额（元）"},{id:"taxRatio",name:"税率（%）"},{id:"taxMoney",name:"税金（元）"},{id:"withTaxMoney",name:"含税金额（元）"},{id:"statementAmount",name:"结算金额（元）"},{id:"drawingScheme",name:"图纸/方案（元）"},{id:"alterDiscuss",name:"变更洽商（元）"},{id:"visa",name:"签证（元）"},{id:"adjustPrice",name:"材料设备调差（元）"},{id:"surgePrice",name:"物价波动调差（元）"},{id:"serviceFee",name:"总包服务费（元）"},{id:"taxPrice",name:"税金调差（元）"},{id:"otherThing",name:"其他（元）"},{id:"remark",name:"备注"}],statementForm:{statementId:"",projectId:"",contractId:"",contractName:"",statementAmount:"",drawingScheme:"",alterDiscuss:"",visa:"",adjustPrice:"",surgePrice:"",serviceFee:"",taxPrice:"",otherThing:"",remark:""},getContractInfo:function(e,t){for(var a=0,r=e.length;a<r;a++)if(e[a].contractId===t)return e[a]},getText:function(e,t){for(var a=0;a<t.length;a++)if(t[a].value===e)return t[a].text},getFormRules:function(e){return{contractName:[{required:!0,message:"请选择合同名称",trigger:"change"}],statementAmount:[{required:!0,message:"请输入结算金额",trigger:"blur"},{validator:e.moneyCheck,trigger:"blur"}],drawingScheme:[{required:!0,message:"请输入图纸方案",trigger:"blur"},{validator:e.moneyCheck,trigger:"blur"}],alterDiscuss:[{required:!0,message:"请输入变更洽商",trigger:"change"},{validator:e.moneyCheck,trigger:"blur"}],visa:[{required:!0,message:"请输入签证",trigger:"change"},{validator:e.moneyCheck,trigger:"blur"}],adjustPrice:[{required:!0,message:"请输入材料设配调差",trigger:"change"},{validator:e.moneyCheck,trigger:"blur"}],surgePrice:[{required:!0,message:"请输入物价波动调差",trigger:"change"},{validator:e.moneyCheck,trigger:"blur"}],serviceFee:[{required:!0,message:"请输入总包服务费",trigger:"change"},{validator:e.moneyCheck,trigger:"blur"}],taxPrice:[{required:!0,message:"请输入税金调差",trigger:"change"},{validator:e.moneyCheck,trigger:"blur"}],otherThing:[{required:!0,message:"请输入其他",trigger:"change"},{validator:e.moneyCheck,trigger:"blur"}],remark:[{max:100,message:"最大长度不能超过100",trigger:"blur"}]}},treatyType:{1:"工程类合约",2:"采购类合约",3:"服务类合约",4:"土地类合约",5:"其他类合约"},undertakeType:{1:"施工总承包",2:"发包人发包专业合同",3:"发包人自行发包专业"},contractClassSelectData:[{text:"单价合同",value:"1"},{text:"总价合同",value:"2"},{text:"其他",value:"3"}]},ul={name:"close-account-form",props:["isShowDialog","dialogTitle","formData"],components:{CommonSelect:R},data:function(){return{statementForm:JSON.parse(m()(cl.statementForm)),contractNameSelectFormat:{value:"contractId",label:"contractNum,contractName"},projectId:this.$parent.$parent.projectId,verify:{moneyCheck:this.moneyCheck,checkNumAlphaSymbol:this.checkNumAlphaSymbol}}},computed:{contractNameSelectData:{get:function(){return this.$store.state.wholeProcess.statementObject.contractInfo}},formRules:function(){return cl.getFormRules(this.verify)}},methods:{contractNameChange:function(e){var t=cl.getContractInfo(this.contractNameSelectData,e.value);this.statementForm.contractName=e.label,this.statementForm.contractId=e.value,this.statementForm.treatyTypeName=cl.treatyType[t.treatyType],this.statementForm.undertakeTypeName=cl.undertakeType[t.undertakeType]},onClose:function(){"新增"===this.dialogTitle&&(this.statementForm={}),this.$emit("update:isShowDialog",!1),this.$refs.statementForm.resetFields()},onOpen:function(){if("修改"===this.dialogTitle){var e=cl.getContractInfo(this.contractNameSelectData,this.formData.contractId),t={};t.value=this.formData.contractId,t.label=e.contractNum+" - "+e.contractName,console.dir(t),W()(this.statementForm,this.formData),this.contractNameChange(t)}},submitForm:function(e){var t=this,a="";"新增"===this.dialogTitle?a="/wholeProcess/statement/save/saveStatement":"修改"===this.dialogTitle&&(a="/wholeProcess/statement/modify/updateStatement"),this.$refs[e].validate(function(e){e&&t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var e=t;e.statementForm.projectId=t.projectId,e.$axios.post(a,m()(e.statementForm),e.config).then(function(t){"success"===t.data.status?(e.$emit("showDialog",!1),"修改"!==e.dialogTitle&&(e.statementForm={}),e.bus.$emit("refersPagingData"),e.$message({type:"success",message:t.data.message,center:!0})):e.$message({type:"error",message:t.data.message,center:!0})}).catch(function(t){e.$message({type:"error",message:t,center:!0})})}).catch(function(){})})}}},pl={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.isShowDialog,width:"500px",transition:"fade-in-linear",center:""},on:{close:e.onClose,open:e.onOpen}},[a("el-form",{ref:"statementForm",staticClass:"demo-ruleForm",attrs:{model:e.statementForm,"label-width":"130px",rules:e.formRules}},[a("el-form-item",{attrs:{label:"合同编号-合同名",prop:"contractName"}},[a("common-select",{attrs:{formModel:e.statementForm.contractName,data:this.contractNameSelectData,dataFormat:this.contractNameSelectFormat},on:{"update:formModel":function(t){return e.$set(e.statementForm,"contractName",t)},"update:form-model":function(t){return e.$set(e.statementForm,"contractName",t)},optionChanged:e.contractNameChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同分类"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.statementForm.treatyTypeName,callback:function(t){e.$set(e.statementForm,"treatyTypeName",t)},expression:"statementForm.treatyTypeName"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.statementForm.undertakeTypeName,expression:"statementForm.undertakeTypeName"}],attrs:{label:"承包方式"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.statementForm.undertakeTypeName,callback:function(t){e.$set(e.statementForm,"undertakeTypeName",t)},expression:"statementForm.undertakeTypeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结算金额（元）",prop:"statementAmount"}},[a("el-input",{attrs:{placeholder:"请输入结算金额"},model:{value:e.statementForm.statementAmount,callback:function(t){e.$set(e.statementForm,"statementAmount",t)},expression:"statementForm.statementAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图纸/方案（元）",prop:"drawingScheme"}},[a("el-input",{attrs:{placeholder:"请输入图纸/方案"},model:{value:e.statementForm.drawingScheme,callback:function(t){e.$set(e.statementForm,"drawingScheme",t)},expression:"statementForm.drawingScheme"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"变更洽商（元）",prop:"alterDiscuss"}},[a("el-input",{attrs:{placeholder:"请输入变更洽商"},model:{value:e.statementForm.alterDiscuss,callback:function(t){e.$set(e.statementForm,"alterDiscuss",t)},expression:"statementForm.alterDiscuss"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"签证（元）",prop:"visa"}},[a("el-input",{attrs:{placeholder:"请输入签证"},model:{value:e.statementForm.visa,callback:function(t){e.$set(e.statementForm,"visa",t)},expression:"statementForm.visa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"材料设备调差（元）",prop:"adjustPrice"}},[a("el-input",{attrs:{placeholder:"材料设备调差"},model:{value:e.statementForm.adjustPrice,callback:function(t){e.$set(e.statementForm,"adjustPrice",t)},expression:"statementForm.adjustPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物价波动调差（元）",prop:"surgePrice"}},[a("el-input",{attrs:{placeholder:"请输入物价波动调差"},model:{value:e.statementForm.surgePrice,callback:function(t){e.$set(e.statementForm,"surgePrice",t)},expression:"statementForm.surgePrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"总包服务费（元）",prop:"serviceFee"}},[a("el-input",{attrs:{placeholder:"请输入总包服务费"},model:{value:e.statementForm.serviceFee,callback:function(t){e.$set(e.statementForm,"serviceFee",t)},expression:"statementForm.serviceFee"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税金调差（元）",prop:"taxPrice"}},[a("el-input",{attrs:{placeholder:"请输入税金调差"},model:{value:e.statementForm.taxPrice,callback:function(t){e.$set(e.statementForm,"taxPrice",t)},expression:"statementForm.taxPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"其他（元）",prop:"otherThing"}},[a("el-input",{attrs:{placeholder:"请输入其他"},model:{value:e.statementForm.otherThing,callback:function(t){e.$set(e.statementForm,"otherThing",t)},expression:"statementForm.otherThing"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注"},model:{value:e.statementForm.remark,callback:function(t){e.$set(e.statementForm,"remark",t)},expression:"statementForm.remark"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("statementForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ml=a("VU/8")(ul,pl,!1,function(e){a("e4PR")},"data-v-0b10d62a",null).exports,dl={name:"common-btn-add",components:{WholeProcessContractListAdd:Xi,WholeProcessChangeDetailAdd:ll,WholeProcessStatementAdd:ml},data:function(){return{isShowAddDialog:!1,dialogTitle:"新增"}},props:["addComponentKey","addComponentText"],methods:{showDialog:function(){this.isShowAddDialog=!1}}},fl={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"item-tab-chuang",on:{click:function(t){e.isShowAddDialog=!0}}},[a("span",{staticClass:"el-icon-plus linear"}),e._v(e._s(e.addComponentText)+"\n  ")]),e._v(" "),a(e.addComponentKey,{tag:"component",attrs:{dialogTitle:e.dialogTitle,isShowDialog:e.isShowAddDialog},on:{"update:isShowDialog":function(t){e.isShowAddDialog=t},"update:is-show-dialog":function(t){e.isShowAddDialog=t},showDialog:e.showDialog}})],1)},staticRenderFns:[]};var gl=a("VU/8")(dl,fl,!1,function(e){a("0Lgf")},"data-v-79aa1c32",null).exports,hl={components:{CommonListBtnAdd:gl,ContractList:sl},data:function(){return{addComponentKey:"WholeProcessContractListAdd",addComponentText:"创建合同台账",projectId:this.$parent.projectId}},computed:{tenderInfo:{get:function(){return this.$store.state.wholeProcess.contractObject.tenderInfo},set:function(e){this.$store.state.wholeProcess.contractObject.tenderInfo=e}}},mounted:function(){var e=this;e.$axios.post("/wholeProcess/contract/query/searchContractName",m()({projectId:e.projectId}),e.config).then(function(t){"success"===t.data.status?e.tenderInfo=t.data.dataList:e.$message({type:"error",message:t.data.message})})},destroyed:function(){this.tenderInfo=[]}},vl={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("common-list-btn-add",{staticStyle:{float:"right"},attrs:{addComponentKey:this.addComponentKey,addComponentText:this.addComponentText}}),this._v(" "),t("contract-list")],1)},staticRenderFns:[]};var bl=a("VU/8")(hl,vl,!1,function(e){a("ufSP")},null,null).exports,yl={data:function(){var e=new FormData;return{projectId:this.$parent.projectId,ruleForm:{letterId:"",editDate:"",fileName:"",fileNumber:"",sendType:"",receiveUnit:"",receivePeople:"",fileType:"",copyNum:"",remark:"",file:"",letterFileName:""},rules:{editDate:[{required:!0,message:"请选择日期",trigger:"blur"}],fileName:[{required:!0,message:"请输入文件名称",trigger:"blur"},{max:20,message:"最长20字",trigger:"blur"}],fileNumber:[{required:!0,message:"请输入文件编号",trigger:"blur"},{max:20,message:"最长20字",trigger:"blur"}],receiveUnit:[{max:30,message:"最长30字",trigger:"blur"}],receivePeople:[{max:20,message:"最长20字",trigger:"blur"}],copyNum:[{validator:this.integer,trigger:"blur"}],remark:[{max:300,message:"最长300字",trigger:"blur"}],letterFileName:[{required:!0,message:"请上传信函文件",trigger:"change"}]},formData:e,formTitle:"",url:"",sendTypeList:[{value:"1",label:"快递"},{value:"2",label:"手递"},{value:"3",label:"电邮"},{value:"4",label:"传真"}],fileTypeList:[{value:"1",label:"纸版"},{value:"2",label:"电子版"},{value:"3",label:"纸版和电子版"}]}},methods:{beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},handleAvatarSuccess:function(e,t){this.ruleForm.file=URL.createObjectURL(e.raw),this.ruleForm.letterFileName=e.name},addLetterFunc:function(){this.formTitle="新增",this.url="/wholeProcess/letter/add/saveWholeProcessLetter"},handleClose:function(e){this.$refs.ruleForm.resetFields(),e(),this.$parent.centerDialogVisible=!1},updateLetterFunc:function(e){this.formTitle="修改",this.url="/wholeProcess/letter/modify/updateWholeProcessLetter";var t={letterId:e.letterId},a=this;a.apiAddress("/wholeProcess/letter/query/searchProjectLetterPeriodInfo",t).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataVO;a.ruleForm={letterId:t.letterId,editDate:t.editDate,fileName:t.fileName,fileNumber:t.fileNumber,sendType:t.sendType,receiveUnit:t.receiveUnit,receivePeople:t.receivePeople,fileType:t.fileType,copyNum:t.copyNum,remark:t.remark,letterFileName:t.letterFileName}}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},formatDate:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},submitLetterfunc:function(){var e=this,t=this;this.$refs.ruleForm.validate(function(a){a&&e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.formData.append("letterId",t.ruleForm.letterId),t.formData.append("editDate",t.formatDate(t.ruleForm.editDate)),t.formData.append("projectId",t.projectId),t.formData.append("fileName",t.ruleForm.fileName),t.formData.append("fileNumber",t.ruleForm.fileNumber),t.formData.append("sendType",t.ruleForm.sendType),t.formData.append("receiveUnit",t.ruleForm.receiveUnit),t.formData.append("receivePeople",t.ruleForm.receivePeople),t.formData.append("fileType",t.ruleForm.fileType),t.formData.append("copyNum",t.ruleForm.copyNum),t.formData.append("remark",t.ruleForm.remark),t.$refs.upload.submit(),t.apiAddress(e.url,t.formData).then(function(a){t.formData=new FormData,"failure"==a.data.status?t.$message({message:a.data.message,type:"error",center:!0}):(t.$message({message:a.data.message,type:"success",center:!0}),t.$parent.reflashData(),e.$parent.centerDialogVisible=!1,t.ruleForm.file="")}).catch(function(e){t.$message({message:e,type:"error",center:!0})}),e.$refs.ruleForm.resetFields()}).catch(function(){})})},handleExceed:function(e,t){this.$message.warning("当前限制选择 "+this.limit+" 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")}}},_l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mh-set-role"},[a("el-dialog",{attrs:{title:e.formTitle,visible:!0,width:"500px",transition:"fade-in-linear",center:"","before-close":e.handleClose}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"300px"}},[a("el-form-item",{attrs:{label:"日期",prop:"editDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.editDate,callback:function(t){e.$set(e.ruleForm,"editDate",t)},expression:"ruleForm.editDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文件名称",prop:"fileName"}},[a("el-input",{attrs:{placeholder:"请输入文件名称"},model:{value:e.ruleForm.fileName,callback:function(t){e.$set(e.ruleForm,"fileName",t)},expression:"ruleForm.fileName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文件编号",prop:"fileNumber"}},[a("el-input",{attrs:{placeholder:"请输入文件编号"},model:{value:e.ruleForm.fileNumber,callback:function(t){e.$set(e.ruleForm,"fileNumber",t)},expression:"ruleForm.fileNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发文形式",prop:"sendType"}},[a("el-select",{attrs:{placeholder:"请选择发文形式"},model:{value:e.ruleForm.sendType,callback:function(t){e.$set(e.ruleForm,"sendType",t)},expression:"ruleForm.sendType"}},e._l(e.sendTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"收件单位",prop:"receiveUnit"}},[a("el-input",{attrs:{placeholder:"请输入收件单位"},model:{value:e.ruleForm.receiveUnit,callback:function(t){e.$set(e.ruleForm,"receiveUnit",t)},expression:"ruleForm.receiveUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收件人",prop:"receivePeople"}},[a("el-input",{attrs:{placeholder:"请输入收件人"},model:{value:e.ruleForm.receivePeople,callback:function(t){e.$set(e.ruleForm,"receivePeople",t)},expression:"ruleForm.receivePeople"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文件形式",prop:"fileType"}},[a("el-select",{attrs:{placeholder:"请选择文件形式"},model:{value:e.ruleForm.fileType,callback:function(t){e.$set(e.ruleForm,"fileType",t)},expression:"ruleForm.fileType"}},e._l(e.fileTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"份数",prop:"copyNum"}},[a("el-input",{attrs:{placeholder:"请输入份数"},model:{value:e.ruleForm.copyNum,callback:function(t){e.$set(e.ruleForm,"copyNum",t)},expression:"ruleForm.copyNum"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",{staticClass:"upload upload1",attrs:{label:"信函文件",prop:"letterFileName"}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUpload,data:e.ruleForm}},[a("el-button",[a("span",{staticClass:"iconfont"},[e._v("")]),e._v("上传附件")]),e._v(" "),a("br"),e._v(" "),a("el-input",{attrs:{placeholder:"请上传信函文件",disabled:!0},model:{value:e.ruleForm.letterFileName,callback:function(t){e.$set(e.ruleForm,"letterFileName",t)},expression:"ruleForm.letterFileName"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitLetterfunc("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var wl={data:function(){var e=new FormData;return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],projectId:this.$parent.projectId,formData:e,formTitle:"",centerDialogVisible:!1,url:""}},components:{LetterForm:a("VU/8")(yl,_l,!1,function(e){a("0Eid")},"data-v-8d183220",null).exports},mounted:function(){this.currentPage=1,this.pageSize=10,this.reflashData()},methods:{reflashData:function(){this.searchList(this.currentPage,this.pageSize)},beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},handleAvatarSuccess:function(e,t){this.ruleForm.file=URL.createObjectURL(e.raw),this.ruleForm.letterFileName=e.name},addLetterBtn:function(){var e=this;this.centerDialogVisible=!0,e.$nextTick(function(){e.$refs.childForm.addLetterFunc()})},exportBtn:function(){var e=document.createElement("iframe");e.src="/wholeProcess/letter/export/exportLetterData?realFileName=发出信函登记表.xls&projectId="+this.projectId,e.style.display="none",document.body.appendChild(e)},handleSizeChange:function(e){this.pageSize=e,this.reflashData()},handleCurrentChange:function(e){this.currentPage=e,this.reflashData()},updateLetterBtn:function(e){var t=this;t.centerDialogVisible=!0,t.$nextTick(function(){t.$refs.childForm.updateLetterFunc(e)})},searchList:function(e,t){var a=this,r={pageNumber:e,pageSize:t,projectId:a.projectId};a.apiAddress("/wholeProcess/letter/query/searchLetterPeriodList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.pagedData;a.tabdata=t.dataList,a.total=t.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},downLoadFile:function(e){this.downloadFile(e.letterFilePath,e.letterFileName)}}},Cl={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-role"},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[r("el-col",{staticClass:"text-align-right",attrs:{span:24}},[r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.addLetterBtn()}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("\n        创建信函登记\n      ")]),e._v(" "),r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.exportBtn()}}},[r("span",{staticClass:"el-icon-upload2 linear"}),e._v("\n        导出\n      ")])])],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",type:"index",label:"序号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"editDate",label:"日期","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"fileName",label:"文件名称","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"fileNumber",label:"文件编号","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"sendType",label:"发文形式","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s("1"==t.row.sendType?"快递":"2"==t.row.sendType?"手递":"3"==t.row.sendType?"电邮":"4"==t.row.sendType?"传真":""))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"receiveUnit",label:"收件单位","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"receivePeople",label:"收件人","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"fileType",label:"文件形式","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s("1"==t.row.fileType?"纸版":"2"==t.row.fileType?"电子版":"3"==t.row.fileType?"纸版和电子版":""))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"copyNum",label:"份数","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"remark",label:"备注","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.downLoadFile(t.row)}}},[e._v("下载")]),e._v(" "),r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.updateLetterBtn(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1),e._v(" "),e.centerDialogVisible?r("letter-form",{ref:"childForm"}):e._e()],1)},staticRenderFns:[]};var kl=a("VU/8")(wl,Cl,!1,function(e){a("ZORv")},"data-v-3cb4bf07",null).exports,Fl={data:function(){var e=new FormData;return{projectId:this.$parent.projectId,ruleForm:{meetingId:"",editDate:"",meetingTheme:"",address:"",contentSummary:"",participatoryUnit:"",remark:"",file:"",meetingFileName:""},rules:{editDate:[{required:!0,message:"请选择日期",trigger:"blur"}],meetingTheme:[{required:!0,message:"请输入会议主题",trigger:"blur"},{max:30,message:"最长30字",trigger:"blur"}],address:[{max:30,message:"最长30字",trigger:"blur"}],contentSummary:[{max:300,message:"最长300字",trigger:"blur"}],participatoryUnit:[{max:100,message:"最长100字",trigger:"blur"}],remark:[{max:300,message:"最长300字",trigger:"blur"}],meetingFileName:[{required:!0,message:"请上传会议文件",trigger:"blur"}]},formData:e,formTitle:"",url:""}},methods:{beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},handleAvatarSuccess:function(e,t){this.ruleForm.file=URL.createObjectURL(e.raw),this.ruleForm.meetingFileName=e.name},addMeetingFunc:function(){this.formTitle="新增",this.url="/wholeProcess/meeting/add/saveWholeProcessMeeting"},handleClose:function(e){this.$refs.ruleForm.resetFields(),e(),this.$parent.centerDialogVisible=!1},updateMeetingFunc:function(e){this.formTitle="修改",this.url="/wholeProcess/meeting/modify/updateWholeProcessMeeting";var t={meetingId:e.meetingId},a=this;a.apiAddress("/wholeProcess/meeting/query/searchProjectMeetingPeriodInfo",t).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataVO;a.ruleForm={meetingId:t.meetingId,editDate:t.editDate,meetingTheme:t.meetingTheme,address:t.address,participatoryUnit:t.participatoryUnit,contentSummary:t.contentSummary,remark:t.remark,meetingFileName:t.meetingFileName}}}).catch(function(e){a.$message({message:e,type:"error",center:!0})}),this.centerDialogVisible=!0},formatDate:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},submitMeetingFunc:function(){var e=this,t=this;this.$refs.ruleForm.validate(function(a){a&&e.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.formData.append("meetingId",t.ruleForm.meetingId),t.formData.append("editDate",t.formatDate(t.ruleForm.editDate)),t.formData.append("projectId",t.projectId),t.formData.append("meetingTheme",t.ruleForm.meetingTheme),t.formData.append("address",t.ruleForm.address),t.formData.append("participatoryUnit",t.ruleForm.participatoryUnit),t.formData.append("contentSummary",t.ruleForm.contentSummary),t.formData.append("remark",t.ruleForm.remark),t.$refs.upload.submit(),t.apiAddress(e.url,t.formData).then(function(a){t.centerDialogVisible=!1,t.formData=new FormData,"failure"==a.data.status?t.$message({message:a.data.message,type:"error",center:!0}):(t.$message({message:a.data.message,type:"success",center:!0}),t.$parent.reflashData(),e.$parent.centerDialogVisible=!1,t.ruleForm.file="")}).catch(function(e){t.$message({message:e,type:"error",center:!0})}),e.$refs.ruleForm.resetFields()}).catch(function(){})})},handleExceed:function(e,t){this.$message.warning("当前限制选择 "+this.limit+" 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")}}},Dl={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mh-set-role"},[a("el-dialog",{attrs:{title:e.formTitle,visible:!0,width:"500px",transition:"fade-in-linear",center:"","before-close":e.handleClose}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"300px"}},[a("el-form-item",{attrs:{label:"日期",prop:"editDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.editDate,callback:function(t){e.$set(e.ruleForm,"editDate",t)},expression:"ruleForm.editDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会议主题",prop:"meetingTheme"}},[a("el-input",{attrs:{placeholder:"请输入会议主题"},model:{value:e.ruleForm.meetingTheme,callback:function(t){e.$set(e.ruleForm,"meetingTheme",t)},expression:"ruleForm.meetingTheme"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会议地点",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入会议地点"},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参与单位",prop:"participatoryUnit"}},[a("el-input",{attrs:{placeholder:"请输入参与单位"},model:{value:e.ruleForm.participatoryUnit,callback:function(t){e.$set(e.ruleForm,"participatoryUnit",t)},expression:"ruleForm.participatoryUnit"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"内容摘要",prop:"contentSummary"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容摘要"},model:{value:e.ruleForm.contentSummary,callback:function(t){e.$set(e.ruleForm,"contentSummary",t)},expression:"ruleForm.contentSummary"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",{staticClass:"upload upload1",attrs:{label:"会议文件",prop:"meetingFileName"}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":e.handleAvatarSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUpload,data:e.ruleForm}},[a("el-button",[a("span",{staticClass:"iconfont"},[e._v("")]),e._v("上传附件")]),e._v(" "),a("br"),e._v(" "),a("el-input",{attrs:{placeholder:"请上传会议文件",disabled:!0},model:{value:e.ruleForm.meetingFileName,callback:function(t){e.$set(e.ruleForm,"meetingFileName",t)},expression:"ruleForm.meetingFileName"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitMeetingFunc("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var xl={data:function(){var e=new FormData;return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],projectId:this.$parent.projectId,formData:e,formTitle:"",centerDialogVisible:!1,url:""}},components:{MeetingForm:a("VU/8")(Fl,Dl,!1,function(e){a("4UOj")},"data-v-5d53257f",null).exports},mounted:function(){this.currentPage=1,this.pageSize=10,this.reflashData()},methods:{reflashData:function(){this.searchList(this.currentPage,this.pageSize)},beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},handleAvatarSuccess:function(e,t){this.ruleForm.file=URL.createObjectURL(e.raw),this.ruleForm.meetingFileName=e.name},addMeetingBtn:function(){var e=this;this.centerDialogVisible=!0,e.$nextTick(function(){e.$refs.childForm.addMeetingFunc()})},exportBtn:function(){var e=document.createElement("iframe");e.src="/wholeProcess/meeting/export/exportMeetingData?realFileName=会议纪要.xls&projectId="+this.projectId,e.style.display="none",document.body.appendChild(e)},handleSizeChange:function(e){this.pageSize=e,this.reflashData()},handleCurrentChange:function(e){this.currentPage=e,this.reflashData()},updateMeetingBtn:function(e){var t=this;t.centerDialogVisible=!0,t.$nextTick(function(){t.$refs.childForm.updateMeetingFunc(e)})},searchList:function(e,t){var a=this,r={pageNumber:e,pageSize:t,projectId:a.projectId};a.apiAddress("/wholeProcess/meeting/query/searchMeetingPeriodList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.pagedData;a.tabdata=t.dataList,a.total=t.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})},downLoadFile:function(e){this.downloadFile(e.meetingFilePath,e.meetingFileName)}}},Tl={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-role"},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[r("el-col",{staticClass:"text-align-right",attrs:{span:24}},[r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.addMeetingBtn()}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("\n        创建会议纪要\n      ")]),e._v(" "),r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.exportBtn()}}},[r("span",{staticClass:"el-icon-upload2 linear"}),e._v("\n        导出\n      ")])])],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",type:"index",label:"序号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"editDate",label:"日期","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"address",label:"地点","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"meetingTheme",label:"会议主题","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"contentSummary",label:"内容摘要","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"participatoryUnit",label:"参与单位","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"remark",label:"备注","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"delete",attrs:{type:"text"},on:{click:function(a){return e.downLoadFile(t.row)}}},[e._v("下载")]),e._v(" "),r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.updateMeetingBtn(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1),e._v(" "),e.centerDialogVisible?r("meeting-form",{ref:"childForm"}):e._e()],1)},staticRenderFns:[]};var Nl=a("VU/8")(xl,Tl,!1,function(e){a("FxfR")},"data-v-0454c00f",null).exports;var Il={listHeaders:[{id:"contractNum",name:"合同编号"},{id:"treatyType",name:"合同分类"},{id:"undertakeType",name:"承包方式"},{id:"contractName",name:"合同名称"},{id:"contractClass",name:"合同类型"},{id:"withTaxMoney",name:"合同签订金额（元）"},{id:"sumDeclareAmount",name:"申报金额（元）"},{id:"sumHanttenAmount",name:"汉腾审核金额（元）"},{id:"perHanttenAmount",name:"汉腾审核金额（%）"},{id:"confirmed",name:"已确认（元）"},{id:"estimatedAmount",name:"预估金额（元）"}],treatyType:{1:"工程类合约",2:"采购类合约",3:"服务类合约",4:"土地类合约",5:"其他类合约"},undertakeType:{1:"施工总承包",2:"发包人发包专业合同",3:"发包人自行发包专业"},contractClassData:[{text:"单价合同",value:"1"},{text:"总价合同",value:"2"},{text:"其他",value:"3"}],getContractInfo:function(e,t){for(var a=0,r=e.length;a<r;a++)if(e[a].contractId===t)return e[a]},getText:function(e,t){for(var a=0;a<t.length;a++)if(t[a].value===e)return t[a].text}},Al={name:"index",data:function(){return{dataHeaders:Il.listHeaders,currentPage:1,pageSize:10,queryUrl:"/wholeProcess/changeStandingBook/query/searchChangeStandingBook",exportUrl:"/wholeProcess/changeStandingBook/export/exportChangeStandingBookData?realFileName=变更台账.xlsx&projectId="+this.$parent.projectId,queryCondition:{projectId:this.$parent.projectId},projectId:this.$parent.projectId}},filters:{filterTreatyType:function(e){return Il.treatyType[e]},filterUndertakeType:function(e){return Il.undertakeType[e]},filterContractClass:function(e){return Il.getText(e,Il.contractClassData)}},mounted:function(){var e=this;e.$axios.post(e.queryUrl,m()({pageNumber:e.currentPage,pageSize:e.pageSize,projectId:e.projectId}),e.config).then(function(t){"success"===t.data.status?(e.changeStandingBookData=t.data.pagedData.dataList,e.currentChangePage(e.changeStandingBookData,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})})},components:{CommonPaging:Q,CommonExport:tl},computed:{changeStandingBookData:{get:function(){return this.$store.state.wholeProcess.changeStandingBook.data},set:function(e){this.$store.state.wholeProcess.changeStandingBook.data=e}},total:{get:function(){return this.$store.state.wholeProcess.changeStandingBook.total},set:function(e){this.$store.state.wholeProcess.changeStandingBook.total=e}}},methods:{pagingQueryData:function(e){var t=this;t.changeStandingBookData=e.data.pagedData.dataList,t.currentChangePage(t.changeStandingBookData,t.currentPage,t.pageSize),t.total=e.data.pagedData.dataCount},currentChangePage:function(e){this.changeStandingBookData=e}}},Sl={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("common-export",{attrs:{exportUrl:this.exportUrl}}),e._v(" "),e._m(0),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.changeStandingBookData,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),e._l(e.dataHeaders,function(t,a){return r("el-table-column",{key:a++,attrs:{align:"center","class-name":"table-column",label:t.name,prop:t.name,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(s){return[r("label",2===a?[e._v(e._s(e._f("filterTreatyType")(e.changeStandingBookData[s.$index][t.id])))]:3===a?[e._v(e._s(e._f("filterUndertakeType")(e.changeStandingBookData[s.$index][t.id])))]:5===a?[e._v(e._s(e._f("filterContractClass")(e.changeStandingBookData[s.$index][t.id])))]:[e._v(e._s(e.changeStandingBookData[s.$index][t.id]))])]}}],null,!0)})})],2)],1),e._v(" "),r("common-paging",{attrs:{total:this.total,queryUrl:e.queryUrl,queryCondition:e.queryCondition},on:{pagingQueryData:e.pagingQueryData}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-tab-chuang"},[t("span")])}]};var Ll=a("VU/8")(Al,Sl,!1,function(e){a("NBUc")},"data-v-3f3f4df2",null).exports,$l={name:"index",data:function(){return{addComponentKey:"WholeProcessChangeDetailAdd",addComponentText:"创建变更明细",dataHeaders:ol.listHeaders,currentPage:1,pageSize:10,queryUrl:"/wholeProcess/changeDetail/query/searchChangeDetail",exportUrl:"/wholeProcess/changeDetail/export/exportChangeDetailData?realFileName=变更洽商签证台帐.xlsx&projectId="+this.$parent.projectId,queryCondition:{projectId:this.$parent.projectId},projectId:this.$parent.projectId,isShowEditDialog:!1,dialogTitle:"修改",rowData:{}}},filters:{filterDate:function(e){if(!e)return"-";var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},filterSts:function(e){return ol.getText(e,ol.staSelectData)},filterProfession:function(e){return ol.getText(e,ol.professionalSelectData)},filterAlterAnaly:function(e){return ol.getText(e,ol.alterAnalyseSelectData)}},mounted:function(){var e=this;e.$axios.post(e.queryUrl,m()({pageNumber:e.currentPage,pageSize:e.pageSize,projectId:e.projectId}),e.config).then(function(t){"success"===t.data.status?(e.changeDetailData=t.data.pagedData.dataList,e.currentChangePage(e.changeDetailData,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}),this.initContractInfo(e)},components:{CommonPaging:Q,CommonListBtnAdd:gl,ChangeDetailForm:ll,CommonExport:tl},computed:{changeDetailData:{get:function(){return this.$store.state.wholeProcess.changeStandingBookObject.data},set:function(e){this.$store.state.wholeProcess.changeStandingBookObject.data=e}},total:{get:function(){return this.$store.state.wholeProcess.changeStandingBookObject.total},set:function(e){this.$store.state.wholeProcess.changeStandingBookObject.total=e}},contractInfo:{get:function(){return this.$store.state.wholeProcess.changeStandingBookObject.contractInfo},set:function(e){this.$store.state.wholeProcess.changeStandingBookObject.contractInfo=e}}},methods:{pagingQueryData:function(e){var t=this;t.changeDetailData=e.data.pagedData.dataList,t.currentChangePage(t.changeDetailData,t.currentPage,t.pageSize),t.total=e.data.pagedData.dataCount},currentChangePage:function(e){this.changeDetailData=e},initContractInfo:function(e){e.$axios.post("/wholeProcess/changeDetail/query/searchContractName",m()({projectId:e.projectId}),e.config).then(function(t){"success"===t.data.status?e.contractInfo=t.data.dataList:e.$message({type:"error",message:t.data.message})})},update:function(e){this.isShowEditDialog=!0,this.rowData=e},showDialog:function(){this.isShowEditDialog=!1}}},Pl={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"1550px"}},[r("common-list-btn-add",{staticStyle:{float:"right"},attrs:{addComponentKey:e.addComponentKey,addComponentText:e.addComponentText}}),e._v(" "),r("common-export",{attrs:{exportUrl:this.exportUrl}}),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.changeDetailData,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),e._l(e.dataHeaders,function(t,a){return r("el-table-column",{key:a++,attrs:{align:"center","class-name":"table-column",label:t.name,prop:t.name,width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(s){return[r("label",1===a?[e._v(e._s(e._f("filterProfession")(e.changeDetailData[s.$index][t.id])))]:6===a?[e._v(e._s(e._f("filterDate")(e.changeDetailData[s.$index][t.id])))]:7===a?[e._v(e._s(e._f("filterDate")(e.changeDetailData[s.$index][t.id])))]:8===a?[e._v(e._s(e._f("filterSts")(e.changeDetailData[s.$index][t.id])))]:15===a?[e._v(e._s(e._f("filterAlterAnaly")(e.changeDetailData[s.$index][t.id])))]:[e._v(e._s(e.changeDetailData[s.$index][t.id]))])]}}],null,!0)})}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.update(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("common-paging",{attrs:{total:this.total,queryUrl:e.queryUrl,queryCondition:e.queryCondition},on:{pagingQueryData:e.pagingQueryData}}),e._v(" "),r("change-detail-form",{attrs:{isShowDialog:e.isShowEditDialog,formData:e.rowData,dialogTitle:e.dialogTitle},on:{"update:isShowDialog":function(t){e.isShowEditDialog=t},"update:is-show-dialog":function(t){e.isShowEditDialog=t},showDialog:e.showDialog}})],1)},staticRenderFns:[]};var jl=a("VU/8")($l,Pl,!1,function(e){a("xYwX")},"data-v-3cf57adc",null).exports,ql={treatyTypeList:[{value:"1",label:"工程类合约"},{value:"2",label:"采购类合约"},{value:"3",label:"服务类合约"},{value:"4",label:"土地类合约"},{value:"5",label:"其他类合约"}],undertakeTypeList:[{value:"1",label:"施工总承包"},{value:"2",label:"发包人发包专业合同"},{value:"3",label:"发包人自行发包专业"}],contractClassList:[{value:"1",label:"单价合同"},{value:"2",label:"总价合同"},{value:"3",label:"其他合同"}]},Rl={data:function(){var e=new FormData;return{projectId:this.$parent.projectId,ruleForm:{contractId:"",declareAmount:"",hanttenAmount:"",confirmAmount:"",estimatedAmount:"",remark:""},rules:{contractId:[{required:!0,message:"请选择合同",trigger:"blur"}],declareAmount:[{required:!0,message:"请输入申报金额",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],hanttenAmount:[{required:!0,message:"请输入汉腾审核金额",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],confirmAmount:[{required:!0,message:"请输入已确认金额",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],estimatedAmount:[{required:!0,message:"请输入预估金额",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],remark:[{max:100,message:"最长100字",trigger:"blur"}]},formData:e,formTitle:"",url:"",treatyTypeList:ql.treatyTypeList,undertakeTypeList:ql.undertakeTypeList,contractTypeList:ql.contractTypeList,purchaserWayList:ql.purchaserWayList,fileTypeList:ql.fileTypeList,contractList:[],treatyType:"",treatyTypeFlag:!1,undertakeType:"",contractInfo:""}},methods:{selectGetName:function(e,t){return this.$parent.selectGetName(e,t)},changeContractSelect:function(e){for(var t=0;t<this.contractList.length;t++)this.contractList[t].contractId==e&&(this.ruleForm.contractId=this.contractList[t].contractId,1==this.contractList[t].treatyType?this.treatyTypeFlag=!0:this.treatyTypeFlag=!1,this.treatyType=this.selectGetName(this.contractList[t].treatyType,this.treatyTypeList),this.undertakeType=this.selectGetName(this.contractList[t].undertakeType,this.undertakeTypeList))},addClaimFunc:function(){this.formTitle="新增",this.url="/wholeProcess/claim/insert/insertWholeProcessClaim",this.searchContractList()},handleClose:function(e){this.$refs.ruleForm.resetFields(),e(),console.log("------------",this.$parent.centerDialogVisible),this.$parent.centerDialogVisible=!1},updateClaimFunc:function(e){this.searchContractList(),this.formTitle="修改",this.url="/wholeProcess/claim/modify/updateWholeProcessClaim";var t={claimId:e.claimId},a=this;a.$nextTick(function(){a.apiAddress("/wholeProcess/claim/query/searchProjectClaimPeriodInfo",t).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataVO;console.log("dataVO",t),a.ruleForm={claimId:t.claimId,contractId:t.contractId,declareAmount:new Number(t.declareAmount),hanttenAmount:new Number(t.hanttenAmount),confirmAmount:new Number(t.confirmAmount),estimatedAmount:new Number(t.estimatedAmount),remark:t.remark};for(var r=0;r<a.contractList.length;r++)t.contractId==a.contractList[r].contractId&&(a.contractInfo=a.contractList[r],a.changeContractSelect(a.contractList[r].contractId))}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})})},searchContractList:function(){var e=this,t={projectId:e.projectId};e.apiAddress("/wholeProcess/claim/query/searchContractList",t).then(function(t){"failure"==t.data.status?e.$message({message:t.data.message,type:"error",center:!0}):e.contractList=t.data.dataList}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},formatDate:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},submitClaimfunc:function(){var e=this,t=this;this.$refs.ruleForm.validate(function(a){if(a){var r={claimId:t.ruleForm.claimId,contractId:t.ruleForm.contractId,projectId:t.projectId,declareAmount:t.ruleForm.declareAmount,hanttenAmount:t.ruleForm.hanttenAmount,confirmAmount:t.ruleForm.confirmAmount,estimatedAmount:t.ruleForm.estimatedAmount,remark:t.ruleForm.remark};t.apiAddress(e.url,r).then(function(a){"failure"==a.data.status?t.$message({message:a.data.message,type:"error",center:!0}):(t.$message({message:a.data.message,type:"success",center:!0}),t.$parent.reflashData(),e.$parent.centerDialogVisible=!1)}).catch(function(e){t.$message({message:e,type:"error",center:!0})}),e.$refs.ruleForm.resetFields()}})}}},Bl={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mh-set-role"},[a("el-dialog",{attrs:{title:e.formTitle,visible:!0,width:"500px",transition:"fade-in-linear",center:"","before-close":e.handleClose}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"300px"}},[a("el-form-item",{attrs:{label:"合同编号-合同名",prop:"contractId"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeContractSelect},model:{value:e.ruleForm.contractId,callback:function(t){e.$set(e.ruleForm,"contractId",t)},expression:"ruleForm.contractId"}},e._l(e.contractList,function(e){return a("el-option",{key:e.contractId,attrs:{label:e.contractNum+"-"+e.contractName,value:e.contractId}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"合同分类",prop:"treatyType"}},[a("span",[e._v(e._s(e.treatyType))])]),e._v(" "),e.treatyTypeFlag?a("el-form-item",{attrs:{label:"承包方式",prop:"undertakeType"}},[a("span",[e._v(e._s(e.undertakeType))])]):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"申报金额(元)",prop:"declareAmount"}},[a("el-input",{attrs:{placeholder:"请输入申报金额"},model:{value:e.ruleForm.declareAmount,callback:function(t){e.$set(e.ruleForm,"declareAmount",t)},expression:"ruleForm.declareAmount"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"汉腾审核金额(元)",prop:"hanttenAmount"}},[a("el-input",{attrs:{placeholder:"请输入汉腾审核金额"},model:{value:e.ruleForm.hanttenAmount,callback:function(t){e.$set(e.ruleForm,"hanttenAmount",t)},expression:"ruleForm.hanttenAmount"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"已确认金额(元)",prop:"confirmAmount"}},[a("el-input",{attrs:{placeholder:"请输入已确认金额"},model:{value:e.ruleForm.confirmAmount,callback:function(t){e.$set(e.ruleForm,"confirmAmount",t)},expression:"ruleForm.confirmAmount"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"预估金额(元)",prop:"estimatedAmount"}},[a("el-input",{attrs:{placeholder:"请输入预估金额"},model:{value:e.ruleForm.estimatedAmount,callback:function(t){e.$set(e.ruleForm,"estimatedAmount",t)},expression:"ruleForm.estimatedAmount"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitClaimfunc("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Ol={data:function(){var e=new FormData;return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],projectId:this.$parent.projectId,formData:e,formTitle:"",centerDialogVisible:!1,url:"",treatyTypeList:ql.treatyTypeList,undertakeTypeList:ql.undertakeTypeList,contractClassList:ql.contractClassList}},components:{ClaimForm:a("VU/8")(Rl,Bl,!1,function(e){a("fZQg")},null,null).exports},mounted:function(){this.currentPage=1,this.pageSize=10,this.reflashData()},methods:{selectGetName:function(e,t){return this.$parent.selectGetName(e,t)},reflashData:function(){this.searchList(this.currentPage,this.pageSize)},beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},addClaimBtn:function(){var e=this;e.centerDialogVisible=!0,e.$nextTick(function(){e.$refs.childForm.addClaimFunc()})},handleSizeChange:function(e){this.pageSize=e,this.reflashData()},handleCurrentChange:function(e){this.currentPage=e,this.reflashData()},exportBtn:function(){var e=document.createElement("iframe");e.src="/wholeProcess/claim/export/exportClaimData?realFileName=索赔台账.xls&projectId="+this.projectId,e.style.display="none",document.body.appendChild(e)},updateClaimBtn:function(e){var t=this;t.centerDialogVisible=!0,t.$nextTick(function(){t.$refs.childForm.updateClaimFunc(e)})},searchList:function(e,t){var a=this,r={pageNumber:e,pageSize:t,projectId:a.projectId};a.apiAddress("/wholeProcess/claim/query/searchProjectClaimPeriodList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.tabdata=t,a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})}}},zl={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-role",staticStyle:{width:"1550px",overflow:"auto"}},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[r("el-col",{staticClass:"text-align-right",attrs:{span:24}},[r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.addClaimBtn()}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("\n        创建索赔台账\n      ")]),e._v(" "),r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.exportBtn()}}},[r("span",{staticClass:"el-icon-upload2 linear"}),e._v("\n        导出\n      ")])])],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"contractNum",label:"合同编号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"treatyType",label:"合同分类","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.treatyType?e.selectGetName(t.row.treatyType,e.treatyTypeList):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"undertakeType",label:"承包方式","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s("1"==t.row.treatyType?e.selectGetName(t.row.undertakeType,e.undertakeTypeList):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"contractName",label:"合同名称","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"contractClass",label:"合同类型","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.contractClass?e.selectGetName(t.row.contractClass,e.contractClassList):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"withTaxMoney",label:"合同签订金额(元)","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.withTaxMoney?new Number(t.row.withTaxMoney):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"declareAmount",label:"申报金额(元)","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.declareAmount?new Number(t.row.declareAmount):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"hanttenAmount",label:"汉腾审核金额（元）","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.hanttenAmount?new Number(t.row.hanttenAmount):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"exciseMoney",label:"汉腾审核金额（%）","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.hanttenAmount/(t.row.withTaxMoney?0==t.row.withTaxMoney?1:t.row.withTaxMoney:1)*100)+"%")])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"confirmAmount",label:"已确认(元)","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.confirmAmount?new Number(t.row.confirmAmount):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"estimatedAmount",label:"预估金额(元)","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.estimatedAmount?new Number(t.row.estimatedAmount):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",prop:"remark",label:"备注","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.remark?t.row.remark:"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",width:"150",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.updateClaimBtn(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1),e._v(" "),e.centerDialogVisible?r("claim-form",{ref:"childForm"}):e._e()],1)},staticRenderFns:[]};var Ml=a("VU/8")(Ol,zl,!1,function(e){a("BEMz")},null,null).exports,Vl={treatyTypeList:[{value:"1",label:"工程类合约"},{value:"2",label:"采购类合约"},{value:"3",label:"服务类合约"},{value:"4",label:"土地类合约"},{value:"5",label:"其他类合约"}],undertakeTypeList:[{value:"1",label:"施工总承包"},{value:"2",label:"发包人发包专业合同"},{value:"3",label:"发包人自行发包专业"}],contractClassList:[{value:"1",label:"单价合同"},{value:"2",label:"总价合同"},{value:"3",label:"其他合同"}],periodNumList:[{value:"0",label:"预付款"},{value:"1",label:"第一期"},{value:"2",label:"第二期"},{value:"3",label:"第三期"},{value:"4",label:"第四期"},{value:"5",label:"第五期"},{value:"6",label:"第六期"},{value:"7",label:"第七期"},{value:"8",label:"第八期"},{value:"9",label:"第九期"},{value:"10",label:"第十期"},{value:"11",label:"第十一期"},{value:"12",label:"第十二期"},{value:"13",label:"第十三期"},{value:"14",label:"第十四期"},{value:"15",label:"第十五期"},{value:"16",label:"第十六期"},{value:"17",label:"第十七期"},{value:"18",label:"第十八期"},{value:"19",label:"第十九期"},{value:"20",label:"第二十期"}]},Ul={data:function(){var e=new FormData;return{projectId:this.$parent.projectId,ruleForm:{contractId:"",periodNum:"",currentValue:"",currentPayment:"",editDate:""},rules:{contractId:[{required:!0,message:"请选择合同",trigger:"change"}],periodNum:[{required:!0,message:"请选择期数",trigger:"change"}],currentValue:[{required:!0,message:"请输入本期产值",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],currentPayment:[{required:!0,message:"请输入本期应付",trigger:"blur"},{validator:this.moneyCheck,trigger:"blur"}],editDate:[{required:!0,message:"选择日期时间",trigger:"change"}]},formData:e,formTitle:"",url:"",treatyTypeList:Vl.treatyTypeList,undertakeTypeList:Vl.undertakeTypeList,contractTypeList:Vl.contractTypeList,purchaserWayList:Vl.purchaserWayList,fileTypeList:Vl.fileTypeList,periodNumList:Vl.periodNumList,contractList:[],treatyType:"",treatyTypeFlag:!1,undertakeType:"",contractInfo:""}},methods:{selectGetName:function(e,t){return this.$parent.selectGetName(e,t)},changeContractSelect:function(e){for(var t=0;t<this.contractList.length;t++)this.contractList[t].contractId==e&&(this.ruleForm.contractId=this.contractList[t].contractId,1==this.contractList[t].treatyType?this.treatyTypeFlag=!0:this.treatyTypeFlag=!1,this.treatyType=this.selectGetName(this.contractList[t].treatyType,this.treatyTypeList),this.undertakeType=this.selectGetName(this.contractList[t].undertakeType,this.undertakeTypeList))},addPayFunc:function(){this.formTitle="新增",this.url="/wholeProcess/pay/insert/insertWholeProcessPay",this.searchContractList()},handleClose:function(e){this.$refs.ruleForm.resetFields(),e(),console.log("------------",this.$parent.centerDialogVisible),this.$parent.centerDialogVisible=!1},updatePayFunc:function(e){this.searchContractList(),this.formTitle="修改",this.url="/wholeProcess/pay/modify/updateWholeProcessPay";var t={payId:e.payId},a=this;a.$nextTick(function(){a.apiAddress("/wholeProcess/pay/query/searchProjectPayPeriodInfo",t).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataVO;console.log("dataVO",t),a.ruleForm={payId:t.payId,contractId:t.contractId,periodNum:t.periodNum,currentValue:new Number(t.currentValue),currentPayment:new Number(t.currentPayment),editDate:t.editDate};for(var r=0;r<a.contractList.length;r++)t.contractId==a.contractList[r].contractId&&(a.contractInfo=a.contractList[r],a.changeContractSelect(a.contractList[r].contractId))}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})})},searchContractList:function(){var e=this,t={projectId:e.projectId};e.apiAddress("/wholeProcess/claim/query/searchContractList",t).then(function(t){"failure"==t.data.status?e.$message({message:t.data.message,type:"error",center:!0}):e.contractList=t.data.dataList}).catch(function(t){e.$message({message:t,type:"error",center:!0})})},formatDate:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},submitPayfunc:function(){var e=this,t=this;this.$refs.ruleForm.validate(function(a){if(a){var r=t.formatDate(t.ruleForm.editDate),s={payId:t.ruleForm.payId,contractId:t.ruleForm.contractId,projectId:t.projectId,periodNum:t.ruleForm.periodNum,currentValue:t.ruleForm.currentValue,currentPayment:t.ruleForm.currentPayment,editDate:r};t.apiAddress(e.url,s).then(function(a){"failure"==a.data.status?t.$message({message:a.data.message,type:"error",center:!0}):(t.$message({message:a.data.message,type:"success",center:!0}),e.$refs.ruleForm.resetFields(),t.$parent.reflashData(),e.$parent.centerDialogVisible=!1)}).catch(function(e){t.$message({message:e,type:"error",center:!0})})}})}}},El={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mh-set-role"},[a("el-dialog",{attrs:{title:e.formTitle,visible:!0,width:"500px",transition:"fade-in-linear",center:"","before-close":e.handleClose}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"300px"}},[a("el-form-item",{attrs:{label:"合同编号-合同名",prop:"contractId"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeContractSelect},model:{value:e.ruleForm.contractId,callback:function(t){e.$set(e.ruleForm,"contractId",t)},expression:"ruleForm.contractId"}},e._l(e.contractList,function(e){return a("el-option",{key:e.contractId,attrs:{label:e.contractNum+"-"+e.contractName,value:e.contractId}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"合同分类",prop:"treatyType"}},[a("span",[e._v(e._s(e.treatyType))])]),e._v(" "),e.treatyTypeFlag?a("el-form-item",{attrs:{label:"承包方式",prop:"undertakeType"}},[a("span",[e._v(e._s(e.undertakeType))])]):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"期数",prop:"periodNum"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.periodNum,callback:function(t){e.$set(e.ruleForm,"periodNum",t)},expression:"ruleForm.periodNum"}},e._l(e.periodNumList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"本期产值(元)",prop:"currentValue"}},[a("el-input",{attrs:{placeholder:"请输入本期产值"},model:{value:e.ruleForm.currentValue,callback:function(t){e.$set(e.ruleForm,"currentValue",t)},expression:"ruleForm.currentValue"}})],1),e._v(" "),a("el-form-item",{staticClass:"tree-error",attrs:{label:"本期应付(元)",prop:"currentPayment"}},[a("el-input",{attrs:{placeholder:"请输入本期应付"},model:{value:e.ruleForm.currentPayment,callback:function(t){e.$set(e.ruleForm,"currentPayment",t)},expression:"ruleForm.currentPayment"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"日期",prop:"editDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间"},model:{value:e.ruleForm.editDate,callback:function(t){e.$set(e.ruleForm,"editDate",t)},expression:"ruleForm.editDate"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitPayfunc("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Hl={data:function(){var e=new FormData;return{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,60,70,80,90,100],tabdata:[],projectId:this.$parent.projectId,formData:e,formTitle:"",centerDialogVisible:!1,url:"",treatyTypeList:Vl.treatyTypeList,undertakeTypeList:Vl.undertakeTypeList,contractClassList:Vl.contractClassList,periodNumList:Vl.periodNumList}},components:{PayForm:a("VU/8")(Ul,El,!1,function(e){a("3Cdc")},null,null).exports},mounted:function(){this.currentPage=1,this.pageSize=10,this.reflashData()},methods:{selectGetName:function(e,t){return this.$parent.selectGetName(e,t)},reflashData:function(){this.searchList(this.currentPage,this.pageSize)},beforeAvatarUpload:function(e,t){return this.formData.append("file",e),!1},addPayBtn:function(){var e=this;e.centerDialogVisible=!0,e.$nextTick(function(){e.$refs.childForm.addPayFunc()})},exportBtn:function(){var e=document.createElement("iframe");e.src="/wholeProcess/pay/export/exportPayData?realFileName=付款台账.xls&projectId="+this.projectId,e.style.display="none",document.body.appendChild(e)},handleSizeChange:function(e){this.pageSize=e,this.reflashData()},handleCurrentChange:function(e){this.currentPage=e,this.reflashData()},updatePayBtn:function(e){var t=this;t.centerDialogVisible=!0,t.$nextTick(function(){t.$refs.childForm.updatePayFunc(e)})},searchList:function(e,t){var a=this,r={pageNumber:e,pageSize:t,projectId:a.projectId};a.apiAddress("/wholeProcess/pay/query/searchProjectPayPeriodList",r).then(function(e){if("failure"==e.data.status)a.$message({message:e.data.message,type:"error",center:!0});else{var t=e.data.dataList;a.tabdata=t,a.total=e.data.dataCount}}).catch(function(e){a.$message({message:e,type:"error",center:!0})})}}},Wl={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mh-set-role"},[r("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[r("el-col",{staticClass:"text-align-right",attrs:{span:24}},[r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.addPayBtn()}}},[r("span",{staticClass:"el-icon-plus linear"}),e._v("\n        创建付款台账\n      ")]),e._v(" "),r("div",{staticClass:"item-tab-chuang",staticStyle:{float:"right"},on:{click:function(t){return e.exportBtn()}}},[r("span",{staticClass:"el-icon-upload2 linear"}),e._v("\n        导出\n      ")])])],1),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabdata,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"contractNum",label:"合同编号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"treatyType",label:"合同分类","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.treatyType?e.selectGetName(t.row.treatyType,e.treatyTypeList):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"undertakeType",label:"承包方式","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s("1"==t.row.treatyType?e.selectGetName(t.row.undertakeType,e.undertakeTypeList):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"contractName",label:"合同名称","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"contractUnit",label:"合作单位","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"withTaxMoney",label:"合同签订金额(元)","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.withTaxMoney?new Number(t.row.withTaxMoney):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"predictCloseValue",label:"预计结算金额(元)","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.predictCloseValue?new Number(t.row.predictCloseValue):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"periodNum",label:"期数","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.periodNum?e.selectGetName(t.row.periodNum,e.periodNumList):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"currentValue",label:"本期产值(元)","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.currentValue?new Number(t.row.currentValue):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"currentPayment",label:"本期应付(元)","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.currentPayment?new Number(t.row.currentPayment):"-"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",prop:"editDate",label:"日期","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.updatePayBtn(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"block item-fen"},[r("el-pagination",{staticClass:"fen-left",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, prev, pager,next,sizes,jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-button",{staticClass:"linear",attrs:{type:"primary",size:"small"}},[e._v("确定")])],1),e._v(" "),e.centerDialogVisible?r("pay-form",{ref:"childForm"}):e._e()],1)},staticRenderFns:[]};var Kl=a("VU/8")(Hl,Wl,!1,function(e){a("Wlxh")},null,null).exports,Jl={name:"index",data:function(){return{addComponentKey:"WholeProcessStatementAdd",addComponentText:"创建结算台账",dataHeaders:cl.listHeaders,currentPage:1,pageSize:10,queryUrl:"/wholeProcess/statement/query/searchWholeProcessStatement",exportUrl:"/wholeProcess/statement/export/exportStatementData?realFileName=结算台账.xlsx&projectId="+this.$parent.projectId,queryCondition:{projectId:this.$parent.projectId},projectId:this.$parent.projectId,isShowEditDialog:!1,dialogTitle:"修改",rowData:{}}},filters:{filterTreatyType:function(e){return cl.treatyType[e]},filterUndertakeType:function(e){return cl.undertakeType[e]},filterContractClass:function(e){return cl.getText(e,cl.contractClassSelectData)}},mounted:function(){var e=this;e.$axios.post(e.queryUrl,m()({pageNumber:e.currentPage,pageSize:e.pageSize,projectId:e.projectId}),e.config).then(function(t){"success"===t.data.status?(e.statementData=t.data.pagedData.dataList,e.currentChangePage(e.statementData,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})}),this.initContractInfo(e)},components:{CommonPaging:Q,CommonListBtnAdd:gl,StatementForm:ml,CommonExport:tl},computed:{statementData:{get:function(){return this.$store.state.wholeProcess.statementObject.data},set:function(e){this.$store.state.wholeProcess.statementObject.data=e}},total:{get:function(){return this.$store.state.wholeProcess.statementObject.total},set:function(e){this.$store.state.wholeProcess.statementObject.total=e}},contractInfo:{get:function(){return this.$store.state.wholeProcess.statementObject.contractInfo},set:function(e){this.$store.state.wholeProcess.statementObject.contractInfo=e}}},methods:{pagingQueryData:function(e){var t=this;t.statementData=e.data.pagedData.dataList,t.currentChangePage(t.statementData,t.currentPage,t.pageSize),t.total=e.data.pagedData.dataCount},currentChangePage:function(e){this.statementData=e},initContractInfo:function(e){e.$axios.post("/wholeProcess/changeDetail/query/searchContractName",m()({projectId:e.projectId}),e.config).then(function(t){"success"===t.data.status?e.contractInfo=t.data.dataList:e.$message({type:"error",message:t.data.message})})},update:function(e){this.isShowEditDialog=!0,this.rowData=e},showDialog:function(){this.isShowEditDialog=!1}}},Ql={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"1550px"}},[r("common-list-btn-add",{staticStyle:{float:"right"},attrs:{addComponentKey:e.addComponentKey,addComponentText:e.addComponentText}}),e._v(" "),r("common-export",{attrs:{exportUrl:this.exportUrl}}),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.statementData,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),e._l(e.dataHeaders,function(t,a){return r("el-table-column",{key:a++,attrs:{align:"center","class-name":"table-column",label:t.name,prop:t.name,width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(s){return[r("label",2===a?[e._v(e._s(e._f("filterTreatyType")(e.statementData[s.$index][t.id])))]:3===a?[e._v(e._s(e._f("filterUndertakeType")(e.statementData[s.$index][t.id])))]:7===a?[e._v(e._s(e._f("filterContractClass")(e.statementData[s.$index][t.id])))]:[e._v(e._s(e.statementData[s.$index][t.id]))])]}}],null,!0)})}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.update(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("common-paging",{attrs:{total:this.total,queryUrl:e.queryUrl,queryCondition:e.queryCondition},on:{pagingQueryData:e.pagingQueryData}}),e._v(" "),r("statement-form",{attrs:{isShowDialog:e.isShowEditDialog,formData:e.rowData,dialogTitle:e.dialogTitle},on:{"update:isShowDialog":function(t){e.isShowEditDialog=t},"update:is-show-dialog":function(t){e.isShowEditDialog=t},showDialog:e.showDialog}})],1)},staticRenderFns:[]};var Gl=a("VU/8")(Jl,Ql,!1,function(e){a("lYyj")},"data-v-2c60b3b5",null).exports;var Yl={listHeaders:[{id:"serialNumber",name:"序号"},{id:"treatyType",name:"合同分类"},{id:"undertakeType",name:"承包方式"},{id:"contractNum",name:"合同编号"},{id:"contractName",name:"合同名称"},{id:"contractUnit",name:"合作单位"},{id:"planDate",name:"计划工期"},{id:"targetCost",name:"目标成本（元）"},{id:"withTaxMoney",name:"已签订合同总价（元）"},{id:"uncalibratedPrice",name:"未定标金额总计（元）"},{id:"totalPrice",name:"合同金额总计（元）"},{id:"temporaryAmount",name:"暂定量/项调整（元）"},{id:"alterValue",name:"变更估值（元）"},{id:"drawingAdjust",name:"图差数量调整（元）"},{id:"signelAdjust",name:"暂估单价调整（元）"},{id:"materialAdjust",name:"材料市场调整（元）"},{id:"peopleAdjust",name:"人工市场调整（元）"},{id:"otherThing",name:"其他（元）"},{id:"taxAdjust",name:"税金调整（元）"},{id:"predictCloseValue",name:"预计结算估值（元）"},{id:"dynamicRemark",name:"备注"}],dynamicForm:{contractNum:"",uncalibratedPrice:"",temporaryAmount:"",drawingAdjust:"",signelAdjust:"",materialAdjust:"",peopleAdjust:"",otherThing:"",taxAdjust:"",dynamicRemark:""},getContractInfo:function(e,t){for(var a=0,r=e.length;a<r;a++)if(e[a].contractId===t)return e[a]},getText:function(e,t){for(var a=0;a<t.length;a++)if(t[a].value===e)return t[a].text},getFormRules:function(e){return{uncalibratedPrice:[{validator:e.moneyCheck,trigger:"blur"}],temporaryAmount:[{validator:e.moneyCheck,trigger:"blur"}],drawingAdjust:[{validator:e.moneyCheck,trigger:"blur"}],signelAdjust:[{validator:e.moneyCheck,trigger:"blur"}],materialAdjust:[{validator:e.moneyCheck,trigger:"blur"}],peopleAdjust:[{validator:e.moneyCheck,trigger:"blur"}],otherThing:[{validator:e.moneyCheck,trigger:"blur"}],taxAdjust:[{validator:e.moneyCheck,trigger:"blur"}],dynamicRemark:[{max:100,message:"最大长度不能超过100",trigger:"blur"}]}},treatyType:{1:"工程类合约",2:"采购类合约",3:"服务类合约",4:"土地类合约",5:"其他类合约"},undertakeType:{1:"施工总承包",2:"发包人发包专业合同",3:"发包人自行发包专业"},contractClassSelectData:[{text:"单价合同",value:"1"},{text:"总价合同",value:"2"},{text:"其他",value:"3"}]},Xl={name:"dynamic-cost-form",props:["isShowDialog","dialogTitle","formData"],data:function(){return{dynamicForm:JSON.parse(m()(Yl.dynamicForm)),projectId:this.$parent.$parent.projectId,verify:{moneyCheck:this.moneyCheck}}},watch:{formData:function(e){W()(this.dynamicForm,e)}},computed:{formRules:function(){return Yl.getFormRules(this.verify)}},methods:{onClose:function(){this.$emit("update:isShowDialog",!1),"修改"===this.dialogTitle&&this.$refs.dynamicForm.resetFields()},onOpen:function(){"修改"===this.dialogTitle&&(this.dynamicForm=W()({},this.formData))},submitForm:function(e){var t=this,a="";"新增"===this.dialogTitle||"修改"===this.dialogTitle&&(a="/wholeProcess/cost/modify/updateCost"),this.$refs[e].validate(function(e){e&&t.$confirm("是否提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){var e=t;e.dynamicForm.projectId=t.projectId,e.$axios.post(a,m()(e.dynamicForm),e.config).then(function(t){"success"===t.data.status?(e.$emit("showDialog",!1),"修改"!==e.dialogTitle&&(e.dynamicForm={}),e.bus.$emit("refersPagingData"),e.$message({type:"success",message:t.data.message,center:!0})):e.$message({type:"error",message:t.data.message,center:!0})}).catch(function(t){e.$message({type:"error",message:t,center:!0})})}).catch(function(){})})}}},Zl={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.isShowDialog,width:"500px",transition:"fade-in-linear",center:""},on:{close:e.onClose,open:e.onOpen}},[a("el-form",{ref:"dynamicForm",staticClass:"demo-ruleForm",attrs:{model:e.dynamicForm,"label-width":"150px",rules:e.formRules}},[a("el-form-item",{attrs:{label:"合同编号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.dynamicForm.contractNum,callback:function(t){e.$set(e.dynamicForm,"contractNum",t)},expression:"dynamicForm.contractNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"未定标金额总计（元）",prop:"uncalibratedPrice"}},[a("el-input",{model:{value:e.dynamicForm.uncalibratedPrice,callback:function(t){e.$set(e.dynamicForm,"uncalibratedPrice",t)},expression:"dynamicForm.uncalibratedPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"暂定量/项调整（元）",prop:"temporaryAmount"}},[a("el-input",{model:{value:e.dynamicForm.temporaryAmount,callback:function(t){e.$set(e.dynamicForm,"temporaryAmount",t)},expression:"dynamicForm.temporaryAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图差数量调整（元）",prop:"drawingAdjust"}},[a("el-input",{model:{value:e.dynamicForm.drawingAdjust,callback:function(t){e.$set(e.dynamicForm,"drawingAdjust",t)},expression:"dynamicForm.drawingAdjust"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"暂估单价调整（元）",prop:"signelAdjust"}},[a("el-input",{model:{value:e.dynamicForm.signelAdjust,callback:function(t){e.$set(e.dynamicForm,"signelAdjust",t)},expression:"dynamicForm.signelAdjust"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"材料市场调整（元）",prop:"materialAdjust"}},[a("el-input",{model:{value:e.dynamicForm.materialAdjust,callback:function(t){e.$set(e.dynamicForm,"materialAdjust",t)},expression:"dynamicForm.materialAdjust"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"人工市场调整（元）",prop:"peopleAdjust"}},[a("el-input",{model:{value:e.dynamicForm.peopleAdjust,callback:function(t){e.$set(e.dynamicForm,"peopleAdjust",t)},expression:"dynamicForm.peopleAdjust"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"其他（元）",prop:"otherThing"}},[a("el-input",{model:{value:e.dynamicForm.otherThing,callback:function(t){e.$set(e.dynamicForm,"otherThing",t)},expression:"dynamicForm.otherThing"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税金调整（元）",prop:"taxAdjust"}},[a("el-input",{model:{value:e.dynamicForm.taxAdjust,callback:function(t){e.$set(e.dynamicForm,"taxAdjust",t)},expression:"dynamicForm.taxAdjust"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"dynamicRemark"}},[a("el-input",{model:{value:e.dynamicForm.dynamicRemark,callback:function(t){e.$set(e.dynamicForm,"dynamicRemark",t)},expression:"dynamicForm.dynamicRemark"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"linear",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dynamicForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ec={name:"index",data:function(){return{dataHeaders:Yl.listHeaders,currentPage:1,pageSize:10,queryUrl:"/wholeProcess/cost/query/searchCost",exportUrl:"/wholeProcess/cost/export/exportDynamicCostData?realFileName=动态成本.xlsx&projectId="+this.$parent.projectId,projectId:this.$parent.projectId,isShowEditDialog:!1,dialogTitle:"修改",rowData:{}}},filters:{filterTreatyType:function(e){return Yl.treatyType[e]},filterUndertakeType:function(e){return Yl.undertakeType[e]},filterNull:function(e){return null==e?"-":e}},mounted:function(){var e=this;e.$axios.post(e.queryUrl,m()({pageNumber:e.currentPage,pageSize:e.pageSize,projectId:e.projectId}),e.config).then(function(t){"success"===t.data.status?(e.costData=t.data.pagedData.dataList,e.currentChangePage(e.costData,e.currentPage,e.pageSize),e.total=t.data.pagedData.dataCount):e.$message({type:"error",message:t.data.message})})},components:{CommonPaging:Q,CommonListBtnAdd:gl,DynamicCost:a("VU/8")(Xl,Zl,!1,function(e){a("3egC")},"data-v-1cb35f34",null).exports,CommonExport:tl},computed:{costData:{get:function(){return this.$store.state.wholeProcess.costObject.data},set:function(e){this.$store.state.wholeProcess.costObject.data=e}},total:{get:function(){return this.$store.state.wholeProcess.costObject.total},set:function(e){this.$store.state.wholeProcess.costObject.total=e}},queryCondition:function(){return{projectId:this.projectId}}},methods:{pagingQueryData:function(e){var t=this;t.costData=e.data.pagedData.dataList,t.currentChangePage(t.costData,t.currentPage,t.pageSize),t.total=e.data.pagedData.dataCount},currentChangePage:function(e){this.costData=e},update:function(e){this.isShowEditDialog=!0,this.rowData=e},showDialog:function(){this.isShowEditDialog=!1}}},tc={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"1550px"}},[r("common-export",{attrs:{exportUrl:this.exportUrl}}),e._v(" "),r("div",{staticClass:"item-tab-bottom"},[e._m(0),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.costData,border:""}},[r("template",{staticClass:"tabdata-empty",slot:"empty"},[r("img",{attrs:{src:a("ndRc"),alt:""}}),e._v(" "),r("p",[e._v("暂无数据")])]),e._v(" "),e._l(e.dataHeaders,function(t,a){return r("el-table-column",{key:a++,attrs:{align:"center","class-name":"table-column",label:t.name,prop:t.name,width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(s){return[r("label",2===a?[e._v(e._s(e._f("filterTreatyType")(e._f("filterNull")(e.costData[s.$index][t.id]))))]:3===a?[e._v(" "+e._s(e._f("filterUndertakeType")(e._f("filterNull")(e.costData[s.$index][t.id]))))]:[e._v(e._s(e._f("filterNull")(e.costData[s.$index][t.id])))])]}}],null,!0)})}),e._v(" "),r("el-table-column",{attrs:{align:"center","class-name":"table-column",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.update(t.row)}}},[e._v("修改")])]}}])})],2)],1),e._v(" "),r("common-paging",{attrs:{total:this.total,queryUrl:e.queryUrl,queryCondition:e.queryCondition},on:{pagingQueryData:e.pagingQueryData}}),e._v(" "),r("dynamic-cost",{attrs:{isShowDialog:e.isShowEditDialog,formData:e.rowData,dialogTitle:e.dialogTitle},on:{"update:isShowDialog":function(t){e.isShowEditDialog=t},"update:is-show-dialog":function(t){e.isShowEditDialog=t},showDialog:e.showDialog}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-tab-chuang"},[t("span")])}]};var ac={data:function(){return{treeData:[],current:"wholeProcessAssess",projectNum:this.SStorage.getItem(this.$route.path).rowInfo.projectNum,projectId:this.SStorage.getItem(this.$route.path).rowInfo.projectId}},components:{wholeProcessAssess:Di,wholeProcessBudgetaryEstimate:Ai,wholeProcessStandingBook:bl,wholeProcessChangeStandingBook:Ll,wholeProcessChangeDetail:jl,wholeProcessTreaty:$i,wholeProcessTender:Oi,wholeProcessCleanTender:Wi,wholeProcessLetter:kl,wholeProcessMeeting:Nl,wholeProcessClaim:Ml,wholeProcessPay:Kl,wholeProcessCloseAccount:Gl,dynamicCostManage:a("VU/8")(ec,tc,!1,function(e){a("eoB4")},"data-v-02e6b6ce",null).exports},mounted:function(){this.getContractTreeData()},methods:{clickNode:function(e){"1"==e.periodType&&(this.current=e.showTool)},selectGetName:function(e,t){for(var a=0;a<t.length;a++)if(t[a].value==e)return t[a].label},getContractTreeData:function(){var e=this,t={projectNum:e.projectNum};e.apiAddress("/wholeProcess/project/query/searchProjectPeriodList",t).then(function(t){if("failure"==t.data.status)e.$message({message:t.data.message,type:"error",center:!0});else{var a=t.data.dataList;e.treeData=a}}).catch(function(t){e.$message({message:t,type:"error",center:!0})})}}},rc={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wholeProcessCost__projectDetails"},[t("div",{staticClass:"content-left"},[t("div",{staticClass:"container--tree"},[t("el-tree",{attrs:{data:this.treeData,accordion:""},on:{"node-click":this.clickNode}})],1)]),this._v(" "),t("div",{staticClass:"content-right"},[t(this.current,{tag:"div"})],1)])},staticRenderFns:[]};var sc=a("VU/8")(ac,rc,!1,function(e){a("Pflc")},null,null).exports,oc={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"four"},[t("img",{attrs:{src:a("NvXF"),alt:""}})])}]};var nc=a("VU/8")({},oc,!1,function(e){a("+03o")},"data-v-1361f22e",null).exports,ic={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"NoData"},[t("img",{attrs:{src:a("ndRc"),alt:""}}),this._v(" "),t("p",[this._v("暂无数据")])])}]};var lc=a("VU/8")({},ic,!1,function(e){a("maPd")},"data-v-81791a3a",null).exports;r.default.use(u.a);var cc=[{path:"/",component:g},{path:"/page",component:C,redirect:"/page/NoData",children:[{path:"item",component:P,meta:{navDisplay:["项目"]}},{path:"processConfig",component:se,meta:{navDisplay:["工作流配置"]}},{path:"four",component:nc,meta:{navDisplay:["404"]}},{path:"NoData",component:lc,meta:{navDisplay:["暂无数据"]}},{path:"work",component:F,children:[{path:"default",component:St,meta:{navDisplay:["工作台"]}},{path:"hoursList",component:$t,meta:{navDisplay:["工作台","工时列表"]}},{path:"pleaseChapter",component:Zt,meta:{navDisplay:["工作台","请章"]}},{path:"contract",component:aa,children:[{path:"/page/item/contract/FoundItem",components:{aside:na,center:ui},meta:{navDisplay:["项目","项目详情"]}},{path:"FoundItem",components:{aside:na,center:ui},meta:{navDisplay:["工作台","项目详情"]}},{path:"/page/item/contract/tenderTask",components:{aside:va,center:di,right:hi},meta:{navDisplay:["项目","市场部详情"]}},{path:"tenderTask",components:{aside:va,center:di,right:hi},meta:{navDisplay:["工作台","市场部详情"]}}]}]},{path:"wholeProcessCost",component:ze,children:[{path:"projectList",component:Ci,meta:{navDisplay:["全过程造价","项目列表"]}},{path:"projectDetails",component:sc,meta:{navDisplay:["全过程造价","项目详情"]}}]},{path:"report",component:Fe,meta:{navDisplay:["数据报表"]}},{path:"contractInformation",component:Be,children:[{path:"",component:yi,meta:{navDisplay:["合同信息"]}}]},{path:"notice",component:Te,meta:{navDisplay:["公告中心"]}},{path:"skill",component:$e,meta:{navDisplay:["技术标准"]}},{path:"inform",component:Ae,meta:{navDisplay:["通知中心"]}},{path:"person",component:qe,meta:{navDisplay:["个人中心"]}},{path:"set-inform",component:Ue,meta:{navDisplay:["公司信息"]}},{path:"set-collaborate",component:We,meta:{navDisplay:["合作公司"]}},{path:"set-role",component:Qe,meta:{navDisplay:["角色管理"]}},{path:"set-PowerConfig",component:et,meta:{navDisplay:["权限管理"]}},{path:"set-member",component:rt,meta:{navDisplay:["员工管理"]}},{path:"set-notice",component:nt,meta:{navDisplay:["公告中心"]}},{path:"set-skill",component:ct,meta:{navDisplay:["技术标准"]}},{path:"set-organization",component:mt,meta:{navDisplay:["组织架构"]}},{path:"set-explain",component:vt,meta:{navDisplay:["工作步骤说明设置"]}}]},{path:"*",redirect:"/"}],uc=new u.a({routes:cc,mode:"history"});uc.beforeEach(function(e,t,a){uc.current=e,"/noJump"!=e.redirectedFrom&&a()});var pc=uc,mc=(a("j1ja"),{formatDate:function(e,t){var a=new Date(e);new Date;var r={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[s]:("00"+r[s]).substr((""+r[s]).length)));return t},formatTosplit:function(e){var t=[];if(!this.isNull(e)){var a=e.split("至");if(a.length>0)for(var r=0;r<a.length;r++)t.push(this.formatToDate(a[r]))}return t},formatToDate:function(e){if(this.isNull(e)||"string"!=typeof e)return e;var t="",a="",r="",s=e.indexOf("年");s>-1&&(t=e.substr(0,s));var o=e.indexOf("月");o>-1&&(a="/"+e.substr(s+1,o-s-1));var n=e.indexOf("日");return n>-1&&(r="/"+e.substr(o+1,n-o-1)),t+a+r},stringFormatToDate:function(e){if(this.isNull(e)||"string"!=typeof e)return e;var t="",a="",r="",s=e.indexOf("年");s>-1&&(t=e.substr(0,s));var o=e.indexOf("月");o>-1&&(a="-"+e.substr(s+1,o-s-1));var n=e.indexOf("日");return n>-1&&(r="-"+e.substr(o+1,n-o-1)),t+a+r},isNull:function(e){var t=!1;return void 0!=e&&null!=e&&""!==e&&0!=e.length||(t=!0),t},deepCopy:function(e,t){var a=void 0;if(["number","string","boolean","undefined","symbol"].includes(void 0===e?"undefined":fs()(e))||null===e)return a=e;var r=e.constructor||Object;return a=e.getTime?new r(e):new r,ms()(e).forEach(function(e){var r=us()(e,2),s=r[0],o=r[1];a[s]=t(o,t)}),a}}),dc=a("8ybk"),fc=a.n(dc),gc=(a("MbtE"),a("/wAz"),a("qGOr"),window.sessionStorage),hc={getItem:function(e){try{return JSON.parse(gc.getItem(e))}catch(e){return null}},setItem:function(e,t){gc.setItem(e,m()(t))},clear:function(){gc.clear()},keys:function(e){return gc.key(e)},removeItem:function(e){gc.removeItem(e)}};var vc=[{node:"SubmitVerify",name:"提交审核",worker:""},{node:"ManagerVerify",name:"一级审核",worker:"部门经理"},{node:"QualityVerify",name:"二级审核",worker:"质控组员"},{node:"GenerManagerVerify",name:"三级审核",worker:"质控副总"},{node:"Signer",name:"签发",worker:"签发人"},{node:"SubmitArchive",name:"提交归档",worker:"招标部组长"},{node:"ArchiveVerify",name:"归档审批",worker:"质检部组员"},{node:"Archive",name:"归档",worker:"行政经理"}];a("erWL");r.default.use(c.a,fc.a,{fullscreenEl:!1}),i.a.defaults.withCredentials=!0,i.a.defaults.baseURL="http://localhost:18866",r.default.config.productionTip=!1,r.default.prototype.$axios=i.a,r.default.prototype.SStorage=hc,r.default.prototype.apiAddress=fa,r.default.prototype.apiAddressGet=function(e,t){return function(e,t){return new la.a(function(a,r){i.a.get(e,{params:t}).then(function(e){a(e)}).catch(function(e){401==!e.status&&r(e)})})}(e,t)},r.default.prototype.stateDialog=function(e,t){yc.$message({center:!0,message:t,type:e})},r.default.prototype.integer=function(e,t,a){if(t){if(!Number(t)||t%1!=0)return a(new Error("请输入整数！"));a()}else a()},r.default.prototype.capital=function(e,t,a){if(t){if(!/^[A-Z]+$/.test(t))return a(new Error("请输入大写字母"));a()}else a()},r.default.prototype.fixation=function(e,t,a){if(t){if(!/0\d{2,3}-\d{7,8}/.test(t))return a(new Error("请输入正确的固定电话号码"));a()}else a()},r.default.prototype.tel=function(e,t,a){if(t){if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(t))return a(new Error("请输入正确的手机号码"));a()}else a()},r.default.prototype.moneyCheck=function(e,t,a){if(t){if(!/^(([1-9][0-9]{0,9})|(([0]\.\d{1,2}|[1-9][0-9]{0,9}\.\d{1,2})))$/.test(t))return a(new Error("请输入正确的金额(整数不超过10位，小数不超过2位)"));a()}else a()},r.default.prototype.percentage=function(e,t,a){if(t){if(!(Number(t)&&t>=0&&t<=100))return a(new Error("请输入正确比例！"));a()}else a()},r.default.prototype.positiveNumber=function(e,t,a){if(t){if(!(Number(t)&&t>0))return a(new Error("请输入正数！"));a()}else a()},r.default.prototype.checkNumAlphaSymbol=function(e,t,a){if(t){if(!/^[\da-zA-Z!@#$%^&*]*$/.test(t))return a(new Error("只能包含字母数字或符号"));a()}else a()},r.default.prototype.checkPercentage=function(e,t,a){if(t){if(!/(^\d+\.?\d{0,2}%$)|(^\d+\.?\d{0,2}$)/.test(t))return a(new Error("请输入正确的百分比"));a()}else a()},r.default.prototype.downloadFile=function(e,t,a){var r=document.createElement("iframe");a?r.src=e:(t=encodeURIComponent(t),r.src="/commonModule/downloadFile?filePathName="+e+"&realFileName="+t),r.style.display="none",document.body.appendChild(r)},r.default.prototype.groupBy=function(e,t){var a={};return e.forEach(function(e){var r=m()(t(e));a[r]=a[r]||[],a[r].push(e)}),v()(a).map(function(e){return{Key:JSON.parse(e)[0],dataList:a[e]}})},r.default.prototype.getNextStepNode=function(e){for(var t=vc.length-1;t>=0;t--)if(vc[t].node==e&&t+1<vc.length)return vc[t+1].node},r.default.prototype.getStepName=function(e){for(var t=vc.length-1;t>=0;t--)if(vc[t].node==e)return vc[t].name},r.default.prototype.getStepWorker=function(e){for(var t=vc.length-1;t>=0;t--)if(vc[t].node==e)return vc[t].worker},r.default.prototype.getStepNum=function(e){for(var t=vc.length-1;t>=0;t--)if(vc[t].node==e)return t},r.default.prototype.formatting=function(e){return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())},r.default.prototype.seniorManagerDeptId="e18edd98-9fbd-11e9-a036-0e411fd5cf91",r.default.prototype.manufactureDeptId="db5e76f9-9fbd-11e9-a036-0e411fd5cf91",r.default.prototype.tenderDeptId="dea3cd5d-9fbd-11e9-a036-0e411fd5cf91",r.default.prototype.superviseDeptId="eb1f8c91-960d-4717-84ee-cc3b8137ccd3",r.default.prototype.marketDeptId="593df92d-fb21-442a-b279-a8b821bbc0d4",r.default.prototype.tool=mc;var bc=new r.default({el:"#app",router:pc,store:ua,components:{App:o},template:"<App/>",beforeCreate:function(){r.default.prototype.bus=new r.default}}),yc=t.default=bc},NUTy:function(e,t){},NtVq:function(e,t){},NvXF:function(e,t,a){e.exports=a.p+"img/404.6d19bca.png"},"O/VW":function(e,t){},O0ha:function(e,t){},OIHB:function(e,t){},Ocdf:function(e,t){},OfOW:function(e,t){},PHsf:function(e,t){},POkZ:function(e,t){},Pflc:function(e,t){},PuT5:function(e,t){},Q2nr:function(e,t){},QF1x:function(e,t){},QJwG:function(e,t){},QhAO:function(e,t){},RLcn:function(e,t){},RssD:function(e,t){},Rxvo:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAC+NJREFUeNrsnWtSG9kZho+kFgKBkIwBh8zYFvGkZirzY/AKkFcwZAXGKyBegc0KwCsws4LBK7D8I/+makiqJjVVScqKU2PCxUgI0F2Q87VO46bpq9SSuvu8b1WXuOjSffT0973nHmPQLdXqzTx/yHt4SSk9lSqh5D4rJik4Of6wIg76eVX8q+DD2xfF4zt+VPixRwcHrwKwogfSioBmVcCUH8NplARkBFyRg7YHsMKZygik78VjLoCnWRHR7Y0ArQSwggvTGj+eiqgUNlEE+4Efu1GALBZymHI6mAoRuuEJslcCsgrAGm10eiGgyrHoiqDa5cdm2KJYLGRAUVTaEEDJpqIArAiw/AXqRcTSXaQBiwEoACYNWDoPtQ5+HEUe7HnQPFgsgFC9FD4qB2Y8aZMf20GpRcYCBBSlu9dsPK3iURFFrWdBSI/xAACV48cW//EtoBpYVH5vqTxFG1/4Itb7D/tv/TiBRCKRT8TjAMpndS8vS91u1xfftfxg6YnX1ygDfJ4vNTV+8eoBDSV6je2GjaP8IYAFASxIbil+vMlkaoJNTk6gNCOiRqPFGs1WAMDiUGVnZ/CNREbnA4OFVAjBY0EACwJYEASwoJBIidoF1epNVq5UWacz2m6ierPJLq+u2J/+mAdVUQOLoDo6Lo/t8z8eflIfAVfEUuHFRX3s50Bw/eOfJYAVpYu5vLwMxHkALph3wAWwAFfkwRr3sFfANfJKUW4kYLHepAdIHrheDx0sTi9Nb18DLlLBtSa+9+GAJUIiopWccL32khK9RiyanQx/JSdc9L1v+Q6WWG7xL0BDarjWxcRiXyPWFpAAXG45cAWWMG4F4AC4uFY4D+t+RSxEKwelkkmZ4HoxMFiCzjzQcSjIeJzlMjOywJUXqwJZSvGDTqinhTtZluCA1ZpNz68tV8/Zfz8esvu/XwzL5W5wuCyXTVIQrfzVXDbD5limr9fOzqTD1vxA3nunn1SIaAX1xYfiUBOUOlqRb5qZnlJneitKgk0kFXZ5ecVa7TZrtTq8jBoDT+wMuchrrfN0uOMlFW7IXGLpqUk2P5flcMUMsMV6SwrwYzaTVodDH5+cBmaQ4Rj01Cwdxi2iFUWqgqwlRVFqcT53CypzAFPqcyVWQfTKuPJY0kYrSnlzudlbf2+1O2rao4PSoV4UvQhGibXhNhVKOywmNztzI1IRRIfH5RteirzX7xbnVM91XaPLTLPzAEzmGJOIl2e2EUt2007eSi8jVD3YLtW/66WHTMb70TheyywVfi9zLVAPkZb+zEQTYun/0A0Tb5sKpU2DWiQiwMg3OdX0lEQCOOm4oYGAWkt83CQNSj+Qj4ByaqMiT6X3YqOe0h/UGqJVKlxF2TiLolnOsIJhpXqOgtHZqDjSoEeXmp1Ra4T6aEVeS+IaoSk/cV0azDN0ONuKWuKNkYqg+t/hCQrnc+1wxRixCigXa1GjqbERlDwYQSVxd46lz4rDXzmLWuOpX9DoqQCVqVYRsVzKGKkIqsopzLpjxBITEeGvLDRhGM9ePauhUOx9Vl6LWCsoD2sZRzkg/TlqRUEadNZJ+czVEBroNlgPURbWohGjkCd9p4EFf2UjahA1RjDAZqu8Ao/lLOrCsfNc0O1UqJl3rCAD+VvhMRuvDEGDSkG0cpaxLxAD/ACWL5J87mB/qRDGHRoWWBAEsCCABQEsCAJYEMCCABYEASwIYEEACxqvjOtuhR2sSlQuhqZphVmJCC0yQmDtReVisuqiaeEMwjQTKEqrAkZqtTCKWF8sLajrKFxdhWcmTSzWW505SiNTCaxSpEwj/3KMs5ahMXwP6alUCcUADatWCLggP1UBWNAwtKeB9Q5lAfkJluJHxGo0aEw4Vl+Jinrf50D6jwbWQG1Z2o4NEKTxdN1wUqs3PfUnHBzJszwibSpAa4/SJgE09YvWxqJVlWXRvYU5j+WViumbqYu40cyhok2YtJ0n6JF+l3zvHNtopW9ugIG30FzOfLdU4yK30M0AhYjlIKuO7bB3eA9R726AxfMiwDKR1VCWKA1xGXbEQtQyUfX8wvTv2DDA3F+Z7qXD9QZlc1NUAzQuZku/n1SqKJzbuubnxjgNsTvFezQ3mIsWYJOxvc5Dc8NjHrH2boEl4PqZuVgopFw5i2Qhtjod1u54X6YoqShsQonmZph3LGrGBpU4VMvXlRuTJ/zgBiyXHxa+1Fc9Z7VG0/PrZtJTsjdB7Op/iTs9QTa1u/3tO1hHl9YrW7DEwD9pa4fY0LLv2mDJKWJp6VBK9ds+Jfnyka+MfzAFi9O3wyI0LcwbIO0+gZR2G5SKmX2Ke6EQckijXSnT6K7WKOoWrB3ZSmjQNipJ/dmm2R8twRJmbIdBQ/dnIY9WJbN/KC5oXPfySZ/Kp+yvP/3d17P/+tFD9vUfHozAX3UGfH2bbkipTbsrsIjGWr254xWu8Eac8BtwSsdXV94jJw0DisU8zcQu2o2IcdMHsSkLWO0BzTc1ko57N4bzWo21+4i8udkMSyY9dUlt2oLq9GqvUYuo93iCjup3oY8P+4fevpSLum3Njr6wjk0/opJIsOqZt9lKo0jxQ/JWxYHA0tG5xlxsj0JL8WQy/vaZpQzburkG6+OBr+dRrzfUw1f/GE6wnjsGAzfvIpw/2rUg0rab9T685Jhthqn4sqvi5K2uLZGXd+Vea+23/YMf7dIB1UjaXX9rV4l4jB9Y1dJVWSU81+5Udbv2tcmpqUn2xdK9P/Notes7WKRffv3Xz93uJXYMkw7Y+N6333z12HXzhdcPSKenKyhmadOg+5o8ygsahgAWBLAggAUBLAgCWBDAgmSW53asWq2GUoP8B6vbxbw7yFm+b95Sqzepu+ctY/2NeTspn/Kjoo7BSqfTlv1ejUaDtdttrQ8rcl/Mb/sH6hCdZDLJJicnLZ93cXGhjnydu5PjR7bfj6NW9Sfagh6B9Fji5J6wPuYlUgFVTnvLA6VSKUuo6HltMf9v/u6dSN7x9xbuqo90nXZZQoOOyq3T6QQCqqGZ937hOv5UVqGhHnrFZuUWilak2cwMS01MRBIsuv5cdvbG9ZqJyooOKjeK9kGAaqi1Qh1cJTfPb7Za18N67UI/3ZV0B1OqjGq00kSpja5TH6HtohaVX73RGDtUQ29uECdNQy0cT56iFYk8hdUYdxov1Gw2bxR6lEXXtyBuHrpuq/FS9LwJEbmPj8tu3npvmFANHSwBV0VErj1rA1pTjSp5KvJWVqK7lu7epC5NRF0Zke7VAZQ2UYvAovKjyH9mP6Fj6FCNBCwNLn5Q5NoxM+JatNIKx8qwt1q9KfCLi3elqrrPz3+OWlZzH/U35ZHwqibaEVANfUzdSHMJv6BnzDDDo3J6pi7NqA/nZiKo6K6l5oUpGw8WRdH1Tk+nr+GykmYjerXrW0t5PqfyHwVUIwdLwLWt1RjJiGvNC3aGncy6lga0arhs0ryWVnlxMvLUFiiaHzSTvj1SfziOQhKTHZfLlWpRa16gw6l5gRoBlYguIOum+YGu303zg1ZGR8dl8lHL49gcYmzVKgrJD+8vUeTatItWmmGnEJ/LZpjMouunioveb5pJeK3NR8tfPh5V6rvl+YJQYO8/7FM30GtmWK2ZPBV1WdAjpUC/Z1iHUVTjOzj6pJr16elps8oORalnyw+W9sZ5nrEgFRoH7CV/2GCin5HuSjKrVN2+/+USg3rS+hGpsmNontnkQL0MwjkGqoVRFAo1S+xSuNdqQFp1G2LCa2ava8qiWUH1rEGBKnARS69ffv13gdd+tng1e2Xp3gJoMuiQp8Pq2XmJm/Xn337zKHBr88eCXoDlytlaKjWxxX/MA6drlVqt9mYuO7MT1BOMhaUka/XmOn94yo+CzECRjxLLpQdasbCVLAesIAz+mkRAFQVQxbCccCysJS22wCPA1hkb+wqNwxC1P1FkeuVmPSqANRzI1kSajEIUIyP+JgzpLvJg6QDLCbhWmculLQMSmSjF0e6ku+NqKQdY3v1YQYAWJNNPINFu78WobvIeabAsQKNuo+9Yr/miMCKIyCP9jfW2XyvKUNb/F2AA+9ezgjGQOkQAAAAASUVORK5CYII="},"S+YH":function(e,t){},SOHp:function(e,t){},SOoP:function(e,t){},SeMh:function(e,t){},SjNn:function(e,t){},SsEk:function(e,t){},TJ9x:function(e,t){},TJsA:function(e,t){},TLFi:function(e,t){},"TRL+":function(e,t){},TT7d:function(e,t){},TcNT:function(e,t){},TeRL:function(e,t){},TjfQ:function(e,t){},TpVq:function(e,t){},TvZN:function(e,t){},"U+F+":function(e,t){},U49V:function(e,t){},U6h4:function(e,t){},UZhY:function(e,t){},UiwL:function(e,t){},Utp3:function(e,t){},V98I:function(e,t){},VKzw:function(e,t){},VPmq:function(e,t){},VRW9:function(e,t){},VS5V:function(e,t){},VVzq:function(e,t){},VYR1:function(e,t){},WAaI:function(e,t){},WCjD:function(e,t){},WUTh:function(e,t){},"Wg/V":function(e,t){},Wlxh:function(e,t){},X2ll:function(e,t){},X5CE:function(e,t){},"X8e+":function(e,t){},XAI2:function(e,t){},"XC//":function(e,t){},XDlR:function(e,t){},XEjp:function(e,t){},XHt8:function(e,t){},XKt3:function(e,t){},XM2D:function(e,t){},XWEz:function(e,t){},XerO:function(e,t){},XiGS:function(e,t){},Y76v:function(e,t){},YUdF:function(e,t){},YkOd:function(e,t){},Yqqt:function(e,t){},Z653:function(e,t){},ZBQW:function(e,t){},ZDC4:function(e,t){},ZDqD:function(e,t){},ZE7G:function(e,t){},ZORv:function(e,t){},Zc9q:function(e,t){},ZgON:function(e,t){},Zv02:function(e,t){},aKxi:function(e,t){},aL9s:function(e,t){},axj8:function(e,t){},bKyt:function(e,t){},bZSg:function(e,t){},benM:function(e,t){},bfat:function(e,t){},"c8C+":function(e,t){},cGQy:function(e,t){},cHak:function(e,t){},"cN+z":function(e,t){},cSBh:function(e,t){},cr7J:function(e,t){},cv3J:function(e,t){},dK81:function(e,t){},dO7z:function(e,t){},dPpO:function(e,t){},"dwi/":function(e,t){},e4PR:function(e,t){},e4Ug:function(e,t){},eECH:function(e,t){},eF7u:function(e,t){},eHTr:function(e,t){},eL4Y:function(e,t){},en1A:function(e,t){},eoB4:function(e,t){},erWL:function(e,t){},fUcF:function(e,t){},fYk7:function(e,t){},fZQg:function(e,t){},fZQr:function(e,t){},fajA:function(e,t){},febr:function(e,t){},fstc:function(e,t){},fyct:function(e,t){},g5m3:function(e,t){},g871:function(e,t){},g8VP:function(e,t){},gDgP:function(e,t){},gMk4:function(e,t){},gY89:function(e,t){},gZm0:function(e,t){},"gu+r":function(e,t){},"gxh+":function(e,t){},h5xi:function(e,t){},h9H3:function(e,t){},hfz0:function(e,t){},hsrK:function(e,t){},iMw2:function(e,t){},iNgv:function(e,t){},iTq6:function(e,t){},iq2w:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAHoCAYAAABAYDiIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAIOlJREFUeNrs3c1uHVe2GODSOaT4J9GyHBs2ug1coHvmJ9AoQSaa3afwK9y5hgnyCnoRTzL1LIMAPbgBggQ3QBIEibrdlESRosScdViUKFkSz09Vraq9vw/Q7UbfbpoqHu5Va6+91r7TjMjek19323+7+9H/a7eBwrz538+ai//2v7K/jdPml5/PS3u2i7VkP/7Fp+zLdhJ/QPN2YY8/88zvBTLM/9VXzZv/+X+by7PXuWvA46fPFkHgsrDHGw/1nk/Zl90ZeNHfaaNy/Jl5/NTu7bOT5vU//8sYsoAXBWYBh4t/OfQpS8wAFj+EO+2Cv+8tHz40e3h/+ScCQaKDRRZwtggCF4U93tN23fGy+bnPX58LfxuBH7apmMUfPvUW9g8/LP7PPPvbOCrtuZ49eRTbWi99wgYOADcW/vjXOx4zfN6dvd1m54dvsr+N3UUWsF9gEHjVXNUD6DsAxCmexR8LP6xp/sdvl4EgPQt4/LTE39sXPmE9BoB2uydSyK8a+22wkZ0//yE9GWkKLJousoCobZz6hPUQANqTPV83UUgCNv9lPD5aFoSTRUG4xHpd1AIufco6DABts8UDb/3QURagINxXFqAg3GUAWCz+8aqi0QI6tCwI//Hb7G+j1IJwbANd+JRtGQDaxV+bNfRg/sM3zZ2j9PVXQVgAsPhDhp1/+D49GWnKLAjHkdBzn7ANAoDFHwb6xTw+aubfPsj+NkotCEcWoCC8TgCw+ENCFqAg3EcW8KZxLHT1AGC0KmREgLmCcH9BIE4EvRUAbl/8IwV02gcSKAj36rkA8OXFP37ox34NIfEV/E86hHvKAqIYXPWcoNsygPuNJi/IXX0XGcA8f1hcqQXhqrOA2Rfe/mMy1V2/fpBvWQtQEO4jC6i6IDz7zOJ/p337B0YRAeZj6A0osiDcVDwnaPbZdM/WD4xK9AVEf0Cyw9IKwu2coCo7hGefefs32RPGmAjkZwGzEteHWi+OmX3m7d9lLjBCIykIRxYwL/DxVjctdObtHyaWBYzj9rDieoPaOUFnNWcAe97+YewRYH51b0CuKAiXeEowjoVWUxD+OADs++2CCfziPrw/hoLwvUILwtVsBb0LAO3Ihx2/WjCRRCD/DuFSC8LRF1DFnKCbGYBhbzAhy9vDfvwu+9sotSB8IgAAozb//qGCcD9ZQBUXxywDwN6TX+eNxi+YHgXhPhXfHDZ79wMEpvlLHAXhh+mTW0osCMecoKILwgIAlJAIRBaQOyyuyIJwczUortiC8HUAmPsVgulaFoR1CPeRBcSx0GJHRl8HAMc/YeLmOoT7CgLFXhwza8//AwUYQW+AgvDEMgCjH6CUX+jjIwXhfrKAi6bAi2MiAMgAoKQsQEG4L8VdHCMDgMIsC8JxhWSuUgvCRR0L1fwFBYo7A+LugGQlFoRjG+hCAABGbSR3CCsICwDA4L/cx0fLe4RlAZ1nAcVcHCMAQOlZQHZB+PHTwwIfbREFYQEAio4A8zEUhA8KLAjHnKDJHwsVAKBwIygIx0nDo9Ke6yIIRBYw6TlBAgBUYPdP6R3CdxdZQIlDJyc9J0gAgApEBjDPHxZ3v7TnOvU5QQIAVGJZC1AQlgUIAFBjBJiPoTeg1ILwJDuEBQCoSPQFRH9AoiILws3ViaDJHQsVAKC2RCA/CyiuINzOCZpch7AAAJVREO4tCLxqJlYQFgCgxiwg//awkjuEBQBgzBFgfnVvQK4SC8KTmhMkAECl4uYwBeFexLHQSRSEBQCoORH4sw7hHrKAyVwcIwBAxZa3h/34Xfa3UWJBOI6Fjn5OkAAAlZt//1BBuB8nAgAwbgrCfWUBURA+FwCAcb8JRkH4YepOTKkF4WgOG21BWAAArhKByAJyh8WVWBAe9cUxAgBw9QoeBWEdwn0YbUFYAADemY+jQ/igsCwgtoBGOTJaAAA+MILegMNFELhTWBAY5cUxAgDw4aJwfDSGgvC9Ah/t6KaFCgDA7yzvEM4tCO8VWBC+aEZWEBYAgN+L3oC4QjJXicdCY0TEaI6FCgDAJ8WdAXF3QGYYKrQgPJqtIAEA+PwKnH97WIkF4bg45kIAAEYtCsJxj3AiBWEBAEjNAhSEu84CRnFxjAAA3BIBFIR7kl4QFgCAW0VBOPn2sBILwulzggQAYLUVWEG4jyAQWUDanCABAFhJHAmd5w6LK7UgnHZxjAAArJ4FRC1AQbjrLCAKwilzggQAYI0IMB/DVlCJBeGUaaECALCW6AtQEO48C4iC8EsBABh/IqAg3Ic4ETTosVABAFhbFIR3fvwu9VtoCisIZ8wJEgCAjcy/f5h9e1iJBeGYEzRYQVgAADazLAj/kP1dlFgQHiwLEACAzReQh/fHUBDeL+mZthfHDDInSAAAtluB8+8QPiqwIBzHQnsvCAsAwFaiDjCCgvBhYVlALP69HwsVAICtjaAgfLDIAnYKCwJxLLTXi2MEAGB7URAew1ZQeXotCAsAQDeLyfHRsiicaLfAgnAcCT0XAIDxJwJxLDR3WFyJBeHIAnopCAsAQGeWBeH8kdGlFYR7uzhGAAA6Nf/jtwrC3YsA0PnFMQIA0DkF4c6zgNgC6nxktAAAdE5BuJcgEMXgTucECQBAPyvwn/6gINy9TrMAAQDoR/QGxBWSeRSEBQAgS1wiH3cHJCqxIBwjIjo5FioAAP0mAu4Q7joL6OziGAEA6FUUhOMe4UQlFoTj4pit5wQJAMAwWYCCcNe2zgIEAGCACKAg3EMWEEdCt7o4JgLApU8n0LcoCCffHlZiQXiri2Nm7czptz6eQO+JgIJw11lALP4bHwud3YgiAL2KI6Hz3GFxJRaEX276Ej9rv0DnLcYAn8wCohaQWxA+LLAgfLJNBiALAAaKAPPsraBY9w4KywJeb/ISP7vxBXqbOQ1wU/QFJBeEIwuYF/ZY136J//gYaGctxgBfTATyC8L3CssC3rRr+GYBoMsWY4AviYLwzo/fZX4LURC+W9hjXetU5+wTUSRajBWEgd7Nv3+YfXvYvZIKwu1L/MpZwOc6gV/6aAK9WxaEf8j8DkosCK/8Ej/7zBfYusUYYKVF6OF9BeHurbSV/6VZQFu1GAOsnAjk3yFcWkH4YpWX+NkXvsBWLcYAq4o6gIJw5259iZ/dEkU2bjEGWIeCcOdZwK0F4VXGQZ/4aAK9i4Jw7lZQiQXh2MW52DgAtAXhc59OoPcV+PhoWRROVFVBeLbtFwDoNBGIY6G5w+JKKwh/9iV+tuIXWLvFGGATy4Jw/sjo0grC8RJ/uWkGEFwcAwxi/sdvFYS7zQI+OexztsYXiOhhZDQwCAXhzoPA7051ztb8Ai6OAYZZgY+PlmOjExU/Mnq2wRdQEAaGyQJiZLSCcJdZwAcv8bMNvkCcKdUhDAwQAeZXV0jmKbVDeOMMILg4BhhEXCIfdwfIAjrLAt4VhGcbfoG1Zk4DbJUIZN8h/PjpYWGPdPkSv2kGcGuLMUBnK3B+QfigpILw9e2Psy2/joIwMFwWkFcQjp6Ao5KeZ1wcM9vyC7g4BhgoAsyzt4LuLrKA3ZIe6ayDr6EgDAwitoGSbw+7X9Lz3DoAfK7FGKCXREBBeFQZgItjgMHEkdB57rC4YgrCsw6/ljlBwDBZQDSHKQiPJwCYEwQMFwEUhMeWAcgCgMEoCI8sALg4Bhg0EcgeGf346aRHRs96+JpxIsixUKB3y9vDfvwu4x99PQ7n1aSfXx9fdO/JrzG56Z6PJ9C7izfN+X/+r83l2WAlyLPl4v/Lz28mH0D7+sKLIPBVE6NUAXr29tlJ8/qf/6Xvf8zrduEv5rDLTo9fO9Kjr3w0gb7NHt5fFoTf/r2X8WRv24X/VXHPrbccyZwgYMi32e4Lwtf7/H8tcfHvOwMIcSw0btO54+MJ9Om6IHzxP/5PJ++wTSH7/F98Zn3/A/ae/BrHpI58PIEhnP+n/7JNQTjuOHlR0j5/agBog8DDpsftJoBrUQd4/Zf/vu7/7LJd+F9V86AeP93dGegfddIoCAMDiGJwFIXjZNCKYp//dLH419G/dDXILo7p7w62N7/IAo6bq3oAQK9iCyh6A6JH4AvO27f+N1U8lMdPY72PLfl346x3BvzHvxAAgCEsC8I/fPO5gnBV+/zt4h/NuVGL/eClf9DTOYss4PBm9AHo00cF4Sr3+duF/5Mv+zsDfzsxJygikYIw0LvoDWgLwjXu88fL9t4XM6Whv69FFhDbQMc+msAAXp/9+pfnFe7zH6yyvqc0aJkTBPQsxjectBMJ6vD4abxcx+melXdYdpK+1SgIP/AZBTq2HN+wWPhPK1r4Yx0/2uSlOm1EwyILOGrTFIAunLaLfy37/LF+H26zju4kfvtRlNlvzAkCthPbPC8WC/9FRW/91+f5t1o/UxdfF8cAW4h9/ueLhf+8ooU/tnniLuJOTlKmv30vgsCD5EwEmJbY4jldLPz13D9+dawzts07baYdw8IbBWFzgoBVLMc0Lxb/asc3dGkU+++LLCBSmj2fbeAzXrcLf/XjG0rLAMLLxsUxwO8txzcsFv7axjfEG3/vvVKjWXDNCQI+8WJ4WtGxzpXGNxQZANog4OIY4Lx9639Tzd/48dPr8/yDrsljO33j4hio10W78BvfUGMG0GYB5gRBXYxvSDLG8/fPF3++9jsBVTC+IdEoT90oCEPxYpvneWX7/J2Mbyg9A7h+KzhoHAuF0hjfMCKjXWDNCYKiGN8wQqN+w1YQhiKctW/9Ne3z9za+oUtjH8Lm4hiYrhrHNO+3C/8k+plGv8duThBMTuzzvzS+YfymMIY5joWaEwTjt9znb+oa3xDr0r2pvqROYlFdZAGxn3bk9wtGy/gGAaDXIGBOEIyP8Q0TNqWbuMwJgvGocUzzvF34izmZOKnUZZEFHDcjPlMLlTC+oRBTu4v3RRt9FYRheMY3FGZyfylzgmBwcazzpLJ9/njRPJrgS3LRGcB1+hnNFgrC0K8axzSPfnxD1RlAmwXED+fY7yf0xvgGAWDUQcCcIOie8Q0VmfL+ljlB0J1axzRPbnyDDOB9FnDUFHg0CwZkfEPFpl7hjtni+41jobCJ2Od/aXxDvSb/EFwcA2urcXzDaG/lEgC2DwIPmsLP60IHjG/gA6UsmlEQNicIPi+2S0+Nb6C4DKDNAlwcA79X45jm2BY+auzzV5MBBBfHwHvGN1BPBtBmAeYEUTvjG1jFcrBfcW/LLo6hYjWOaT5oHOtcNzN83vzy8/lirZyXmCq5OIYa3+aMb+C2zPB0sfC/XCz8d5pHV7slRUZNc4Ko6W2usvEN8dJ65Pd7LcuDAIvF/03bN/WuQF5qsSQKwl/7uVPy29xi4X9Z0cJvfMP6LtqF//Vi4d9ZvPX/7sW42H0zBWEKZXwDq7wgvFws/KfL7Z4vBM6Sj0u5OIaSvG4XfuMbuG3di8X/crH433qdZdER1ZwgCvC2XfiNb+C2F4TY7rlYrHsr90MUn1IpCDNhxjew0gvCYuF/Fcc6mzX7IWromHNxDFNjfAMrvyC02z0b1UmqeNjmBDERtY5pNr5hPcsu3vZYZ7ztx3bZRnWSWh66OUGMWa3jGw69mK1lOd+pPdY5/9SxznVVsyC2FfEjnyFGxvgGVnlBeN/Fe/XsOjniXtUPwMUxjC2Nr2yff6vtikot+z4+1cXbhdoWQxfHMIo0vrJ9fuMb1ndrF68MYLMs4LgxNpakNN74Blb4nKzUxSsD2DwL2G3sPzJsGv+8mn3+q8X/1i5UfmetLl4ZwOZZgDlBDKHGMc3GN2z4ObnRxTvY86u1IGpOEH0yvoGVPyfvungfDb89XW161jZQHPsM0qHL9uXitMJjnTLq9Sy7ePce/dQ0icdiq96fMyeIDhnfwMqfky66eLtQ+5l4F8ewLeMbWEXnXbwygG6ygKPG9EHWd9ku/LXt8xvfsP7n5GYX76imnYrgV3tx+4Iha35mTo1v4BbL47/tsc5Rbpf5YTYujmFlxjewiptdvLvtW/8oa40CwPsgoCDM5xjfwCou24X/1RBdvF2wBfRhWm9OEB//Qtc2ptmtXJsZvItXBtB9FuDiGK4Z38Aq0rp4ZQDdc3EMxjewirfNVYH3PKuLVwbQTxZgTlDFv9CLhf+8ooV/7UvEWRpFF68A0F8QeOhtqBrGN7CqUXXxdsEW0KedNArCNVjetmR8Aytkhyd9X84iAxhXFuDimHK9bhf+2sY3jPY8+oizw5uXsxR3OkoG8HkvBIAif6GNb2DV7HDUXbwygP6zAAXhctQ1vuFq8b9+Y/V7vmZ2eKOLt+ihdzKAL3NxzPTVOKbZ+IYNs8N3XbyP6ugJ8mZwexZgTtA0Gd/AOi961128VWVNAsBqQcCcoGm9yRnfwCqWw/3aY51VNsPZAlpNFIQfeAzTeJMzvoEVssPJd/HKAIbNAlwcM+43OeMbWCU7XDb93ejirfqQhwxgdS6OGembnPENrKC4Ll4ZwPBZwEH7y8cI3uQWC//LihZ+4xs2f0l438WrSC4AbBkEHsicUtU4pnm/Xfht96z3klB0F28XLGTri4KwOUHDM76BtV4SpnY5iwxgOlmAOUHDpvAvKxvfMInrBMf6klBLF68MIDcL2BVAe2d8A6u42cU7r6WLVwaQmwWYE9Qf4xtY6yWhxi5eASA/CLg4plsX7cJf0z7/vF347fOvp/ou3i7YAtpO3CF87DF0k8JXuM/vZMr6Pu7iNaZFBpCaBfgAbsf4BlZ9SYitnpftsU49ETKA0WQBX3sMm6Xwle3zO5mymZtdvHoiZACjywLMCVovhT+pcJ/f+Ib1XbQLvy5eGcComRO0YgpvfAMrflbed/E+8oIlAxh/FuDimM8zvoG1Piu6eAWAKQYBBeEP1Tqm2fiGDT8ri4X/QhfvcDzgbsX2hjlBxjewOl28MoCisoCaP8DvLtwwvoEVX5h08coAihLHQu9W+EE+a9/6azvWqQN1fTe7eO8u3vqNwJABFJUF1HRxjPENrOrDLl7PUAAoOAiUPifI+AbW+azo4h0hW0D9OWnKLQjXOKZ5v83qvDStZ7k1eKOL1zOUAVSTBZR2cYzxDaxKF68MoHovCgkAxjewqo+7eB3rlAFUnQVM+eKY5S/zYuE/rWjhv96jdiRxfaft4q+LVwbAjV+K2PucWkHY+AZW9WEX79XsHmuLDIA2C4hthOMp/TJXNr7BHvVm3rZv/K/aY522zAQAPhMExj4n6G37xn9e0cJvfMPmdPEWQJo2nCgIPxjh91XfmOarxd+itXmGqItXBsAGWcDY5pob38A6GeJJe6xTF68MgA3T5jFcHPO6XfiNb2ClDPFdF++jSZ9qQwaQngVkzgmqb3zD+wDwjc/7ZhmiLt5ySYOH/o26OlOfccImso9nVS7+V1749K0sPp+/LRb+k71HP83aAwz3LP4yALrJAmIbYqg5QeftW/+b6h/846dubFshQ2yPdTohJQDQYxDou0W+vjHNtweAqHk98CA+SRevAMCAAWDeLkZd/wzqG9+wXhAY20msbB/fxeuEVEX8oJO0WzJdL9Lx9Z5Z/L/oZRskaxfHOv++WPh/23v002U7ufYra4IMgGEzgS4ujqlvTPN2WcCURnP0FQRPFwt/0xh8JwMg1fNt3+IWC/9vFv81/PLzeRs0axN/778uz/Q/+im2e75u7PXLAEjPAtY9nVLn+IZus4B5uwDWQBcvMoBCsoBoznlm8d86C4iMqfRneH05y7PFG/9FO4rka4s/MoDxZQG3tdjXN76h/yzgTrsglvgitLzPoT3WqYsXAWDkASB+Fg8/8TN52y78rzylXoLAkE15Q7h5F+9u+1LhjR8BYAJBIN7U7t1I3+M452lVt3LlBIE4ETT1i0x08SIAFBAEvmreD21zsmeYANBXU95QdPEiAMAWQWCKY4518SIAQEdBoIumvCEsr++MfgZ38bINF8LAeyfNuAvC7+pCyy5el7OwJekiXPvl59hSORvpdxddvH/7RBcvyACgI9GUF9spY9kevdnFu7N463enAZ1RA4CPPX6aeW3ntesu3tP2WGe87RtjjQAAAwSBB4kZsi5eBmELCD4ttoKGvj3sdfvWf9XF+2g5u8fvKDIASMgChro9TBcvMgAYmZgWut/zi9LNLt7rfX4vZsgAYARZwM35TF1a3uIWY6l18SIAwHiDQJdHL3XxMhq2gOB2L5rtC8K6eBkdKSfc5pefY8b+NreH6eJFBgATFm/v+2u+NOniZdTUAGBVj5/GXv3xCv9NXbwIAFBgELjtLf5mF6/LWRg1W0CwnusO4Y8X9Q8vZ9HFiwwAiswCPj7B87zt4p23/7kuXgQAKDgI3Lw97O97j36Kt31dvEyKFBU2s7w9bHZ81Oz8+Q/HHgcyAKjI3X/6j9/cOTrwO8RkaQSDTd+ejg7OPQUEAKhTnAi69BgQAKAyZ08eXc3xBwEAqgwCr5qrHgAQAKBCsgAEAKg0C9h2WigIADBhMS30rceAAAD1ZQFREH7uSSAAQJ1BIPoC9AYgAECloiCsNwABACrMAt40CsIIAFBtEIiC8IUngQAAddIbgAAAlWYB0R186kkgAECdohagIIwAABVmAYbFIQBAxUHAsDgEAKiYDmEEAKg0C9AbgAAAFTMsDgEAKs0CoiB84kkgAECdQSCKwYbFIQBApSIL0BuAAAAVZgGx+CsIIwBApUHAsDgEAKiY3gAEAKg0C4gMwLA4BAColGFx5AaAvSe/Hiz+3PEoYPAsQG8A6RlALP73PQpICQLRF2BYHGkBINxdZAG7HgekUBAmNQA0sgBIywIMiyM9AEQ94NAjgZQgEAHAsDjSAkCIgvDcY4EUCsKkBoAoCN/zWCAlC4hi8JknQVYACLuLLOCuRwMpoiCsN4C0ABDu6Q2AlCzAsDjSA0D85wrCkBMEYkSE3gDSAkCIgvCORwQpXngEZAaAcOQRQUoWYFgc6QEgCsIHHhOk0BtAagAIhwrCkJIFREHYmAhSA4DeAMgLAobFkRoAwp5hcZBGbwCpASAoCENOFhDD4hSESQ0AO4bFQVoQiIKwi+RJCwDBsDjIozeA1AAQBWFbQZCTBRgWR2oACHcNi4M0CsKkBoBgWBzkZAGx+NsKIjUAxP9OhzDkBIFXjd4AEgNAOFQQhjSyAFIDQNAhDDlZQBwJdW8AqQEghsXte4yQIprDDIsjLQCEIwVhSMkCDIsjPQDE4q9DGHKCQAyLO/ckyAoA4cCwOEgTBWG9AaQFgKBDGHKygBgWpyBMagDYcXsYpAWBKAgbFkdaAAhuD4M8egNIDQCx+N/3WCElC4juYPcGkBYAwl0FYUgTtQAFYdICQCMLgLQswLA40gPAzO1hkBYEDIsjNQAEw+Igjw5hUgNAMCwOcrIAvQGkB4Bdt4dBGsPiSA0A4b7eAEjJAqIgfOJJkBkADIuDvCAQxWDD4kgLACGGxe143JAisgC9AaQFgGBYHORkAbH4KwiTGgB2DYuDtCBgWBypASAYFgd59AaQGgBi8dcbADlZQGQAhsWRFgDCnmFxkMawOFIDQDAsDnKyAL0BpAcAw+IgLwhEX4BhcaQFgHBgWBykiYKwrSABIE0UhPUGQE4WEMPiFIQFgFR3DYuDtCAQBWHD4gSAVPf0BkAaBWEBIP170CEMOVlAFIPPPAkBINOhYXGQRkFYAEinIAw5WYBhcQJAuhgWt+9HAilB4PTy4o1hcQJAbhagIAw57uzMDYsTAHI/g43bwyArCzAsTgBId2BYHKR52Vy8URAWAFIpCENOFnB5+frihSchAGTacXsY5Dj/9//mVWNYnACQ7NCwOEjzvLl44ykIAGkMi4Mky2FxO3O9AQJAqrsKwpAUBH79y+kiCzAsTgBIdV9vACT45efLy7NzvQECQPr3qCAMCc7/w789vzw9UxAWAFIpCEOSt//v74bFCQDp7vlxwfAunv7jm8tX5wrCAkCqXbeHQY7zf/evY0SEraDCTG0GfxSEn7Xja4FhPZ/YSyOFBYDrYXFa1WFg7UXyusMKMsVofuD2MIA6A0BQEAaoNAAYFgdQaQAIhzqEAeoMALH42woCqDAAhD3D4gDqDADhvh8jQJ0BYLbIAlwkD1BhAAgHhsUB1BkAFIQBKg0AwbA4gEoDQLinNwCgzgAQfx8FYYAKA0AwLA6g0gAQjvxoAeoMAFEQ3vfjBagvACyzAAVhgDoDgN4AgEoDQDAsDqDSABAUhAEqDQA7hsUB1BkAgmFxAJUGgCgI2woCqDAAhLsKwgB1BoBwX28AQJ0BIP6+B37sAPUFgHCoIAxQZwAIOoQBAaDSv7dhcYAAUPHf3bA4QACoVCz+OoQBAaBSbg8DBICKKQgDAkClYlic3gBAAKjUoYIwIADUKRb/+x4DIADUybA4QAComCwAEABqfR5uDwMEgHoZFgcIABXTGwAIAJWKYXF3PQZAAKg0C9AbAAgA9T4bBWFAAKiUYXGAAFCxI48AEADqtGtYHCAA1MuwOEAAqFQs/noDAAGgUnuGxQECQL0UhAEBoFI7hsUBAkC9DgyLAwSAOkVB2FYQIABU6q5hcYAAUC/D4gABoOJnp0MYEAAq5fYwQAComA5hYLIB4LXHsJUYFrfvMQAygDodKQgDkwsAZ08eyQC2F4u/DmFgkhnAW49iaweGxQFTDAAXHkUndAgDkwsAtoG6seP2MEAAqJfeAGA6AeDsyaPYArr0ODphWBwwqQwgnHscnbmrIAxMKQCceRyduu8RAJMIAGdPHkUG4Dhoh8/W7WHAVDKA8Moj6ZSCMDCZAGAbqHuGxQHjDwBnTx69EQQ6t+v2MGAKGUB46bF07r5hccDoA4AsoBeGxQGTyADC80ZjWNdiWNyOxwCMOgAssoBY/G0FdU+HMDD6DCCCwGljSmjXdg2LA0YfAFq2grp3qCAMjD4AtEPiXnhMnYrFX28AMPoMIIJAdAc7FdStPcPigNEHgDYInDTqAV0zLA4YfwBo/SYIdPvsDYsDJhEA2qOhgkC3DgyLA6aQAQgC3VMQBqYRAASBXhgWB0wjAHwUBJwO6sY9vQHAJALAdRBoTwfpE+jm56BDGBhUJ2+d7ZCz420CCkt/a5vvAMabAXyUDcSi9dfGALltGRYHTCsD+CgbiGONcbJFp+tmnrfd1wDTCgA3AkEEgEOBYG1RYH/WFtoBphcAPgoE+/FvPe6VnbUFdoDpBoAbgeDOjUDgZqzb/bYIAq89BmDyAeCjYBB1gt0bf5we+r2LRQD4m8cA9OX/CzAAxebJTt3dS1EAAAAASUVORK5CYII="},iqBp:function(e,t){},"je/a":function(e,t){},jonv:function(e,t){},k1jn:function(e,t){},kEx8:function(e,t){},kpPn:function(e,t){},kq2Q:function(e,t){},l1sj:function(e,t){},l7ly:function(e,t){},lAXo:function(e,t){},lYyj:function(e,t){},m3m1:function(e,t){},maPd:function(e,t){},mr9r:function(e,t){},mu5E:function(e,t){},mwsL:function(e,t){},ndRc:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACsRJREFUeNrsnW1SG0cax1vSSELCBgwxfsMgEtf6w1atxQFSVj7s1zV7AuMTOJzAcALjExifIPgEESdYpbIvlTiJZRInARsscJAQr9vP0K0MYt6ZkWam//+qKQl7JGYefvN/nu7p7kkxSFez1R7hL2XxY6Xrv++bfKTBt2+6fq6J97ViId9QOZ4pBQEqCYBou8e3kgGooFU1AFhVCbiUAiCVhQPdFwCV+nxIdQHZKr1y0OoAKz4wzfKXBwKoUsQPl8BaIdA4ZCsAK7ow0etITE+jISB7wSGrAqz+1kuP+TYXY5jsnOwF35bjmC5TMQVqVgBVUaTNsRw3F0vFDChypicxqJvCEoH1LA61WApAxTZNzkcZsFTEgaKU9xRA2TrYYhRTZCqiQJUFUBWw40orwsHqAMscqBGR8r4EK57VEPXXAsA6CxW503OkvQuL7lc+4oDV+nkQ6Si4FN8o7X0NqAIRlRH/4jHtq3P5dqzXa78tiLQFJV+L05M3PIGaRsygRKZCCGBBEMCC+istiC8ZyOfYtfFRRDNBevPz73AsCKkQAlgQBLAggAUBLAgCWBDAggAWBAEsCGBByZbW61/47/++imWgpksTbLBY0N9vvNvi22bszmFwsMCmpyai7VgD+dx9XJdqKJfL3usJWDSeWtMyFYRcEbCy2qyY4xkeWGIhDox1V0/PxfS80BzrOWKspAiqp6GAJdZQQApUV3Ni/mdwYAkbfIrYKq+ngYLFTqe9jyCuyqssMtfFwULBDnW7llMh79axABXUXch/eSGwhFvNIZZQlx7buZYbx4JbQZ5dKw23gsJwLSfHgltBTq5lajwpG7eiD7226mLYbbbYH7st/T1mQidPxpnQlwYLnZEdJqoXC/lpL441x9BvBTmrZHaD2g6sx4gZ5FIPXYEl7geVEC/IpWZFQ8/RsR4iVpBXuNyANYs4QV67How/aCZpMNSifXvnj1hGjVpFmpbR3++191mbb3FTJpPRW3ghFvFluQy42WSKUMeyN7bjCVY+n+uARVDF8TyoWyhEsGQJVbNKhUiDkF9VTGss0R+BvivIr8qydZjuZRqE1HGttJWVQZBPPTgDlrg3WEZcoKAdC24FBSF66FbZCBbcCgqsiE+jcIdC0D04FhSKY2micC+xHvVfTd2+HvuoDQ9d0jfIuoCXjlVCLKAglUYahMIEC7dxoFDAQosQCgUsCApUWq9rLAz0659CHuhnClbPaiwM9OufejDQD6kQAlhQHMFyu6YkBMGxIIAFASwIAlgQwIIAFgS5k1Ys5KvNVrtnvxAD/eBYEASwoGiCVUcoIIAFIRVCaoO1ilBAYYDVQCigMMCqIRQQwIKiroY+5r1YyDearTalQ19j3/cPDtn6xhbCCUnVjKsmk2tV/HzL8fGxPnMlyaKJFFom07mQ6Jwhd2CtMiy+Ziqa2fLJ6LDhQjphW42dztPPoHP6xtiPVUU8zoumTBmh0gvTdIqNjgx1poNB51RNd6VCqBusgZx5q4fDVSwMIEDnRc8vrHfAogIecHlsUqdTCIKJWxm7G6ReIi5ndXh4ZPl/zWYbATqvVTOwUGd1iQp0agWa//sBAmThWOe8vNlqf2Au+rOMz4ROfspL6y1DXi50oFKpRejwTOgz3Qw8RjP0xuzpXyvM4snkqor6rHY+7uobZKsX8o0ZWC/dgJXNZjnJyYzOZuOjr8+NjVxOZDzob+1SK/KNabPGbTpMoqieerv+3tdnpyeuM4XVSYNmxfs58lRMe75bkEdHSIMOYD1TtnvhAnDYdU0ooGVHsMRzfetKgnUBOOgeoqJaER3sjo5FWlQxQkcXgEPhfq1zGS7tUOErN2QZnZ6eRfcGq67BEtb2DHFzr1bCx6R5yWy2d1HFw5tee/1N2x93ea1yGOjRj10Z7kmUXv/yu+/P0hCbG1dHVYKqwQ3oitl/aHafouEPHC6q9ue8/Lb/fPcje/9hO9Az+MffP49BGj1kiskyo2kurW5OhShdFIwoDFc+4sfg5+EGWU1j2azm5SNUKi35Bsuva8VRQYBB/WBybHxfzuHoWB8g4FV0k9kjWIvdXQxeHYs0z7dZ5vI2T5Ef5FAEeqG//f4nvd4LSlQ37jg8suXb/73y9J13P5tidz+djGNLcMluB1dgielhlE+fuNk/QzNaNI1BarUEXXU3mIgIrSOmyqvKjWbZaSfXtiJca56ng68cxyWdnLBcwI615aOVmaUBemJwXjD1S5blA56Zk2Ynvs7N8hhPjn3dltrdbbK9Pfuh1qOnXT7zbr7P82yA9XdbX61vvJ/Fhaue7nw6tcQNJhywvvvhTYW/fI0wq6fbt65fsWsJ+kqFUrlcDhFWVG6h8lq8QxADWBDAggAWBAEsCGBBCZPn7oYjtac4QWGB1Ww2ETUoeLDY6QCvqt0OhcJA5SIH1WrtnebpdJqlUilH98znciydSVZWPzw4ZAdieHfGZnzXycmJPo6MYpXP+++85t/RaLf3A1sfLZSVw5qt9hx/ee4Lqr099vbXdR2oYrGoB8xM+/v7rN1u6yMfb0/csNwvtmBxqNZ++U2HhuJgBRddXDKLlCZv+R2uRGbxhZhPGt3iXQyreOTnsxsbm/or3TqygoWuUgKL9MnYlcRBpacSDsjI8JD+fm9vz3I/Ak4u2rH+bjMSUIXaKvQDV2N7R7d/AsVuhRNyKoKLp1w2OFhMbJ0yMnxZd2RyLXkhmYkuQnJ4KiFaNhD2CqrQuxsMcDnevKTgyXFJMlBW+x2ISaXkVkkWXWBiDJQOFl1MVvvJwQHS8fsJVehgGeD6wgmu95sfdGiM1m4mmRaGLl/Si/ak6zI/T3Jmgoqc2koUMwKMHJ+c30H1MKHqCVgCrpqAq26a2vjVuPPxdJLCwMCAbUFLxSoFMOluZZQ8V3Jqq5lE5PDStcj5bWYc0d9iJkyoegaWAa4ZZrLkN7mV8aqzq61Oa4+hRBbsViJnJod2KuQpfuT4BJWMaZeWhVOFviZHT/86dEJi1bfO1CEaa01FJ11x+bz1+HSqMShgVMyO9mi6fdRciy4mcmy75Quk41MGaJ8t+Od57B/1Aqqeg2UAbF4W9fLKcirYZatofHyMqSiCSnY/yFax1X6yRhWxlUX6Uk+Pt1+BoqKe1wIzvNisGVs1Vm4luxcKA+o+ZoScWnY/HNgst0TOL7ofaCmqabNlhhILFmni5nj9b3/9ywy3b8sJkGT9MojXro4x1SULeVkaWBTyDX6hzvPY/rNXqS9SYEndmZ5YsCrsjQU7ZlczvUNYdj9YdJqSO83cvTO11M/jjNxThtberi8cHR0/JpbIqagVRKmS7oOp1BK0ExXv9bW3pyXFn/cRG5qWmb99c3w5EjVh1II2eevawqXBArnXsnSrqwm9H+hXxvuIIkbkTtNRgSqSjmXUq5/WKrzGejI5cbMCnM63lN/8/OsKjw/VUvWoHV8sHrjXbLUJLFrpBoD9WUct9qO1lyiwAFhHlOpeRBmoWIJlAKzMX6jAn1MApoYA6hmtrhiXg471s2c5YCMCLoKslDCgqOuFFrtb6VdflLJgmbjYQ3a6pGVcISNHoocdLcfJnRINlglkBNgDvpVjUIi/FM5UT8rfIPGPYRfpkor9++K1HAGQVkWqq8YxzQEs+9Ylpct7ArRSCOmzJgrvVZHiamEProuS/i/AAPLy2emb63J0AAAAAElFTkSuQmCC"},o7Df:function(e,t){},oSgS:function(e,t){},opIC:function(e,t){},p6hT:function(e,t){},pHhd:function(e,t){},pm1s:function(e,t){},"psz+":function(e,t){},qGOr:function(e,t){!function(e){var t,a='<svg><symbol id="iconshujubaobiao-" viewBox="0 0 1160 1024"><path d="M1136.152381 0H24.380952C9.752381 0 0 9.752381 0 24.380952s9.752381 24.380952 24.380952 24.380953h97.52381v468.114285c0 146.285714 117.028571 263.314286 258.438095 268.190477v195.047619H146.285714c-14.628571 0-24.380952 9.752381-24.380952 24.380952s9.752381 19.504762 24.380952 19.504762h872.838096c14.628571 0 24.380952-9.752381 24.380952-24.380952s-14.628571-24.380952-29.257143-24.380953H780.190476v-195.047619c141.409524-4.87619 258.438095-121.904762 258.438095-268.190476V48.761905h97.52381c14.628571 0 24.380952-9.752381 24.380952-24.380953s-9.752381-24.380952-24.380952-24.380952zM429.104762 975.238095v-190.171428H731.428571V975.238095H429.104762z m565.638095-458.361905c0 121.904762-97.52381 219.428571-219.428571 219.428572H390.095238c-121.904762 0-219.428571-97.52381-219.428571-219.428572V48.761905h824.07619v468.114285z" fill="#ACB3BC" ></path><path d="M302.32381 536.380952l102.4-141.409523 151.161904 195.047619 214.552381-331.580953 87.771429 117.028572c9.752381 9.752381 24.380952 14.628571 34.133333 4.87619 9.752381-9.752381 14.628571-24.380952 4.876191-34.133333l-131.657143-175.542857-214.552381 336.457143-146.285714-195.04762-141.409524 195.04762c-9.752381 9.752381-4.87619 24.380952 4.87619 34.133333 9.752381 9.752381 24.380952 4.87619 34.133334-4.876191z" fill="#ACB3BC" ></path></symbol><symbol id="icongongzuotai-" viewBox="0 0 1106 1024"><path d="M838.704762 858.209524c146.285714 0 268.190476-121.904762 268.190476-268.190476V268.190476c0-146.285714-121.904762-268.190476-268.190476-268.190476H268.190476C121.904762 0 0 121.904762 0 268.190476v321.828572c0 146.285714 121.904762 268.190476 268.190476 268.190476h165.790476V975.238095H73.142857c-14.628571 0-24.380952 9.752381-24.380952 24.380953s9.752381 24.380952 24.380952 24.380952h965.485714c14.628571 0 24.380952-9.752381 24.380953-24.380952s-14.628571-24.380952-29.257143-24.380953h-365.714286v-117.028571h170.666667zM48.761905 590.019048V268.190476C48.761905 146.285714 146.285714 48.761905 268.190476 48.761905h570.514286c121.904762 0 219.428571 97.52381 219.428571 219.428571v321.828572c0 121.904762-97.52381 219.428571-219.428571 219.428571H268.190476C146.285714 809.447619 48.761905 707.047619 48.761905 590.019048zM619.27619 975.238095H482.742857v-117.028571h136.533333V975.238095z" fill="#ACB3BC" ></path><path d="M273.066667 375.466667c-14.628571 0-24.380952 9.752381-24.380953 24.380952v214.552381c0 14.628571 9.752381 24.380952 24.380953 24.380952s24.380952-9.752381 24.380952-24.380952V399.847619c0-14.628571-9.752381-24.380952-24.380952-24.380952zM482.742857 614.4V297.447619c0-14.628571-9.752381-24.380952-24.380952-24.380952s-24.380952 9.752381-24.380953 24.380952v316.952381c0 14.628571 9.752381 24.380952 24.380953 24.380952s24.380952-14.628571 24.380952-24.380952zM643.657143 638.780952c14.628571 0 24.380952-9.752381 24.380952-24.380952V375.466667c0-14.628571-9.752381-24.380952-24.380952-24.380953s-24.380952 9.752381-24.380953 24.380953v238.933333c0 9.752381 14.628571 24.380952 24.380953 24.380952zM828.952381 638.780952c14.628571 0 24.380952-9.752381 24.380952-24.380952V238.933333c0-14.628571-9.752381-24.380952-24.380952-24.380952s-24.380952 9.752381-24.380952 24.380952v375.466667c0 9.752381 14.628571 24.380952 24.380952 24.380952z" fill="#ACB3BC" ></path></symbol><symbol id="iconxiangmu-" viewBox="0 0 1136 1024"><path d="M867.961905 170.666667h-121.904762l-68.266667-78.019048C629.028571 34.133333 551.009524 0 472.990476 0H195.047619C97.52381 0 14.628571 78.019048 4.87619 170.666667H0v585.142857c0 146.285714 121.904762 268.190476 268.190476 268.190476h599.771429c146.285714 0 268.190476-121.904762 268.190476-268.190476V438.857143c0-146.285714-121.904762-268.190476-268.190476-268.190476zM195.047619 48.761905h277.942857c63.390476 0 126.780952 29.257143 165.790476 78.019047l39.009524 48.761905H48.761905C63.390476 102.4 121.904762 48.761905 195.047619 48.761905z m892.342857 707.047619c0 121.904762-97.52381 219.428571-219.428571 219.428571H268.190476C146.285714 975.238095 48.761905 877.714286 48.761905 755.809524v-536.380953h819.2c121.904762 0 219.428571 97.52381 219.428571 219.428572v316.952381z" fill="#ACB3BC" ></path><path d="M336.457143 468.114286H234.057143c-14.628571 0-24.380952 9.752381-24.380953 24.380952s9.752381 24.380952 24.380953 24.380952H341.333333c14.628571 0 24.380952-9.752381 24.380953-24.380952s-14.628571-24.380952-29.257143-24.380952zM911.847619 468.114286H453.485714c-14.628571 0-24.380952 9.752381-24.380952 24.380952s9.752381 24.380952 24.380952 24.380952h458.361905c14.628571 0 24.380952-9.752381 24.380952-24.380952s-9.752381-24.380952-24.380952-24.380952zM336.457143 711.92381H234.057143c-14.628571 0-24.380952 9.752381-24.380953 24.380952s9.752381 24.380952 24.380953 24.380952H341.333333c14.628571 0 24.380952-9.752381 24.380953-24.380952s-14.628571-24.380952-29.257143-24.380952zM911.847619 711.92381H453.485714c-14.628571 0-24.380952 9.752381-24.380952 24.380952s9.752381 24.380952 24.380952 24.380952h458.361905c14.628571 0 24.380952-9.752381 24.380952-24.380952s-9.752381-24.380952-24.380952-24.380952z" fill="#ACB3BC" ></path></symbol><symbol id="icondanchuangguanbi-" viewBox="0 0 1024 1024"><path d="M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m0 972.8c-256 0-460.8-204.8-460.8-460.8s204.8-460.8 460.8-460.8 460.8 204.8 460.8 460.8-204.8 460.8-460.8 460.8z" fill="#FFFFFF" ></path><path d="M737.28 286.72c-10.24-10.24-25.6-10.24-35.84 0L512 476.16 327.68 286.72c-10.24-10.24-25.6-10.24-35.84 0s-10.24 25.6 0 35.84L476.16 512l-184.32 184.32c-10.24 10.24-10.24 25.6 0 35.84 5.12 5.12 10.24 5.12 20.48 5.12s15.36 0 20.48-5.12l184.32-184.32 184.32 184.32c5.12 5.12 10.24 5.12 20.48 5.12s15.36 0 20.48-5.12c10.24-10.24 10.24-25.6 0-35.84L547.84 512l184.32-184.32c10.24-10.24 10.24-30.72 5.12-40.96z" fill="#FFFFFF" ></path></symbol><symbol id="iconzhankai-" viewBox="0 0 1673 1024"><path d="M849.170732 1024L0 174.829268 174.829268 0l674.341464 649.365854L1498.536585 0l174.829269 174.829268z" fill="#333333" ></path></symbol><symbol id="iconshouqi-" viewBox="0 0 1673 1024"><path d="M1498.536585 1024L849.170732 349.658537 174.829268 1024 0 849.170732 849.170732 0l824.195122 849.170732z" fill="#333333" ></path></symbol><symbol id="iconxuanzeriqi-" viewBox="0 0 1107 1024"><path d="M934.054054 124.540541h-124.54054V34.594595c0-20.756757-13.837838-34.594595-34.594595-34.594595s-34.594595 13.837838-34.594595 34.594595v89.945946H366.702703V34.594595c0-20.756757-13.837838-34.594595-34.594595-34.594595s-34.594595 13.837838-34.594594 34.594595v89.945946H172.972973C76.108108 124.540541 0 207.567568 0 297.513514v553.513513c0 96.864865 76.108108 172.972973 172.972973 172.972973h761.081081c96.864865 0 172.972973-76.108108 172.972973-172.972973v-553.513513c0-89.945946-76.108108-172.972973-172.972973-172.972973z m-761.081081 69.189189h124.540541v48.432432c0 20.756757 13.837838 34.594595 34.594594 34.594595s34.594595-13.837838 34.594595-34.594595v-48.432432h373.621621v48.432432c0 20.756757 13.837838 34.594595 34.594595 34.594595s34.594595-13.837838 34.594595-34.594595v-48.432432h124.54054c55.351351 0 103.783784 48.432432 103.783784 103.783784v76.108108H69.189189V297.513514c0-55.351351 48.432432-103.783784 103.783784-103.783784z m761.081081 761.081081h-761.081081c-55.351351 0-103.783784-48.432432-103.783784-103.783784V442.810811h968.648649v408.216216c0 62.27027-48.432432 103.783784-103.783784 103.783784z" fill="#C9C9C9" ></path><path d="M325.189189 567.351351H228.324324c-20.756757 0-34.594595 20.756757-34.594594 34.594595s13.837838 34.594595 34.594594 34.594595h96.864865c20.756757 0 34.594595-13.837838 34.594595-34.594595s-13.837838-34.594595-34.594595-34.594595zM601.945946 567.351351H505.081081c-20.756757 0-34.594595 20.756757-34.594595 34.594595s13.837838 34.594595 34.594595 34.594595h96.864865c20.756757 0 34.594595-13.837838 34.594595-34.594595s-13.837838-34.594595-34.594595-34.594595zM878.702703 567.351351h-96.864865c-20.756757 0-34.594595 13.837838-34.594595 34.594595s13.837838 34.594595 34.594595 34.594595h96.864865c20.756757 0 34.594595-13.837838 34.594594-34.594595s-13.837838-34.594595-34.594594-34.594595zM325.189189 754.162162H228.324324c-20.756757 0-34.594595 13.837838-34.594594 34.594595s13.837838 34.594595 34.594594 34.594594h96.864865c20.756757 0 34.594595-13.837838 34.594595-34.594594s-13.837838-34.594595-34.594595-34.594595zM601.945946 754.162162H505.081081c-20.756757 0-34.594595 13.837838-34.594595 34.594595s13.837838 34.594595 34.594595 34.594594h96.864865c20.756757 0 34.594595-13.837838 34.594595-34.594594s-13.837838-34.594595-34.594595-34.594595zM878.702703 754.162162h-96.864865c-20.756757 0-34.594595 13.837838-34.594595 34.594595s13.837838 34.594595 34.594595 34.594594h96.864865c20.756757 0 34.594595-13.837838 34.594594-34.594594s-13.837838-34.594595-34.594594-34.594595z" fill="#C9C9C9" ></path></symbol><symbol id="iconchaxun-" viewBox="0 0 1024 1024"><path d="M1005.54955 931.747748L765.693694 701.117117c55.351351-73.801802 92.252252-166.054054 92.252252-267.531531C857.945946 193.72973 664.216216 0 433.585586 0S0 193.72973 0 433.585586s193.72973 433.585586 433.585586 433.585585c101.477477 0 193.72973-36.900901 267.531531-92.252252l239.855856 239.855856c9.225225 9.225225 18.45045 9.225225 36.900901 9.225225s27.675676 0 36.900901-9.225225c0-27.675676 0-64.576577-9.225225-83.027027zM92.252252 433.585586C92.252252 239.855856 239.855856 92.252252 433.585586 92.252252s341.333333 147.603604 341.333333 341.333334-156.828829 332.108108-341.333333 332.108108S92.252252 618.09009 92.252252 433.585586z" fill="#FFFFFF" ></path></symbol><symbol id="iconqingzhangshenqing-" viewBox="0 0 1024 1024"><path d="M918.287305 0h-830.27027C60.34136 0 41.890909 18.45045 41.890909 46.126126v922.522523c0 27.675676 18.45045 46.126126 46.126126 46.126126h359.783784c27.675676 0 46.126126-18.45045 46.126126-46.126126s-18.45045-46.126126-46.126126-46.126126H134.143161V92.252252h738.018018v341.333334c0 27.675676 18.45045 46.126126 46.126126 46.126126s46.126126-27.675676 46.126127-46.126126V46.126126c0-27.675676-18.45045-46.126126-46.126127-46.126126z" fill="#FFFFFF" ></path><path d="M918.287305 701.117117H743.008026V535.063063c0-27.675676-18.45045-46.126126-46.126126-46.126126s-46.126126 18.45045-46.126126 46.126126v175.279279H484.70172c-27.675676 0-46.126126 18.45045-46.126126 46.126126s18.45045 46.126126 46.126126 46.126127h175.279279v175.279279c0 27.675676 18.45045 46.126126 46.126126 46.126126s46.126126-18.45045 46.126126-46.126126v-184.504505h175.27928c27.675676 0 46.126126-18.45045 46.126126-46.126126s-27.675676-46.126126-55.351352-46.126126z" fill="#FFFFFF" ></path></symbol><symbol id="iconshangchuan-" viewBox="0 0 1176 1024"><path d="M1125.386139 648.871287c-30.415842 0-50.693069 20.277228-50.69307 50.693069v223.049505H101.386139V699.564356c0-30.415842-20.277228-50.693069-50.69307-50.693069s-50.693069 20.277228-50.693069 50.693069v273.742575c0 30.415842 20.277228 50.693069 50.693069 50.693069h1074.69307c30.415842 0 50.693069-20.277228 50.693069-50.693069V699.564356c0-30.415842-20.277228-50.693069-50.693069-50.693069z" fill="#FFFFFF" ></path><path d="M324.435644 354.851485c10.138614 0 30.415842 0 40.554455-10.138614l172.356436-172.356435v598.178217c0 30.415842 20.277228 50.693069 50.693069 50.69307s50.693069-20.277228 50.693069-50.69307V172.356436L811.089109 344.712871c20.277228 20.277228 50.693069 20.277228 70.970297 0s20.277228-50.693069 0-70.970297L628.594059 10.138614S618.455446 0 608.316832 0h-20.277228c-20.277228 0-30.415842 10.138614-40.554455 10.138614L294.019802 273.742574c-20.277228 20.277228-20.277228 50.693069 0 70.970297 10.138614 10.138614 20.277228 10.138614 30.415842 10.138614z" fill="#FFFFFF" ></path></symbol><symbol id="iconxiazai-" viewBox="0 0 1305 1024"><path d="M1249.054945 607.648352c-33.758242 0-56.263736 22.505495-56.263736 56.263736v247.560439H112.527473V663.912088c0-33.758242-22.505495-56.263736-56.263737-56.263736s-56.263736 22.505495-56.263736 56.263736v303.824176c0 33.758242 22.505495 56.263736 56.263736 56.263736h1192.791209c33.758242 0 56.263736-22.505495 56.263736-56.263736V663.912088c0-33.758242-22.505495-56.263736-56.263736-56.263736z" fill="#FFFFFF" ></path><path d="M607.648352 776.43956c0 11.252747 11.252747 11.252747 22.505494 11.252748h22.505495c22.505495 11.252747 33.758242 0 45.010989-11.252748l281.318681-281.318681c22.505495-22.505495 22.505495-56.263736 0-78.769231s-56.263736-22.505495-78.769231 0L708.923077 607.648352V56.263736c0-33.758242-22.505495-56.263736-56.263736-56.263736s-56.263736 22.505495-56.263737 56.263736v551.384616L405.098901 416.351648c-22.505495-22.505495-56.263736-22.505495-78.769231 0s-22.505495 56.263736 0 78.769231l281.318682 281.318681z" fill="#FFFFFF" ></path></symbol><symbol id="iconqingzhang-" viewBox="0 0 1024 1024"><path d="M940.218182 1024H83.781818c-27.927273 0-46.545455-18.618182-46.545454-46.545455s18.618182-46.545455 46.545454-46.545454h856.436364c27.927273 0 46.545455 18.618182 46.545454 46.545454s-27.927273 46.545455-46.545454 46.545455zM940.218182 902.981818H83.781818c-27.927273 0-46.545455-18.618182-46.545454-46.545454V651.636364c0-55.854545 46.545455-93.090909 93.090909-93.090909h186.181818v-65.163637c-74.472727-74.472727-111.709091-167.563636-93.090909-269.963636C242.036364 111.709091 335.127273 18.618182 446.836364 0c83.781818-18.618182 167.563636 0 232.727272 55.854545 74.472727 65.163636 111.709091 139.636364 111.709091 223.418182 0 74.472727-37.236364 158.254545-93.090909 204.8v65.163637h186.181818c55.854545 0 93.090909 46.545455 93.090909 93.090909v204.8c9.309091 37.236364-18.618182 55.854545-37.236363 55.854545zM130.327273 809.890909h763.345454V651.636364h-186.181818c-55.854545 0-93.090909-46.545455-93.090909-93.090909v-65.163637c0-27.927273 9.309091-55.854545 27.927273-74.472727 37.236364-27.927273 55.854545-83.781818 55.854545-139.636364s-27.927273-111.709091-74.472727-148.945454c-37.236364-27.927273-93.090909-46.545455-158.254546-37.236364-74.472727 18.618182-130.327273 74.472727-139.636363 148.945455-18.618182 74.472727 9.309091 139.636364 55.854545 186.181818 18.618182 18.618182 37.236364 37.236364 37.236364 65.163636v55.854546c0 55.854545-46.545455 93.090909-93.090909 93.090909H130.327273v167.563636z" fill="#FFFFFF" ></path></symbol><symbol id="iconyidu-" viewBox="0 0 1044 1024"><path d="M1044.48 808.96c0 10.24-10.24 30.72-10.24 40.96-10.24 0-20.48 10.24-40.96 10.24H51.2c-30.72 0-51.2-20.48-51.2-51.2 0-10.24 10.24-30.72 10.24-30.72 10.24-10.24 20.48-10.24 40.96-10.24h133.12V337.92C184.32 153.6 337.92 0 522.24 0 614.4 0 696.32 30.72 757.76 102.4c61.44 61.44 102.4 143.36 102.4 235.52v419.84h133.12c30.72 0 51.2 20.48 51.2 51.2zM645.12 901.12c0 10.24 0 30.72-10.24 40.96-10.24 51.2-61.44 81.92-112.64 81.92-51.2 0-102.4-30.72-112.64-81.92-10.24-10.24-10.24-30.72-10.24-40.96h245.76z" fill="#CCCCCC" ></path></symbol><symbol id="iconyouxiang-" viewBox="0 0 1024 1024"><path d="M707.697778 703.146667H316.302222c-31.857778 0-56.888889-25.031111-56.888889-56.888889V377.742222c0-31.857778 25.031111-56.888889 56.888889-56.888889H705.422222c31.857778 0 56.888889 25.031111 56.888889 56.888889v268.515556c2.275556 31.857778-25.031111 56.888889-54.613333 56.888889zM316.302222 343.608889c-18.204444 0-34.133333 15.928889-34.133333 34.133333v268.515556c0 18.204444 15.928889 34.133333 34.133333 34.133333H705.422222c18.204444 0 34.133333-15.928889 34.133334-34.133333V377.742222c0-18.204444-15.928889-34.133333-34.133334-34.133333H316.302222z" fill="#A3AFBC" ></path><path d="M512 575.715556c-2.275556 0-6.826667 0-9.102222-2.275556l-220.728889-220.728889c-4.551111-4.551111-4.551111-11.377778 0-15.928889s11.377778-4.551111 15.928889 0l213.902222 213.902222 213.902222-213.902222c4.551111-4.551111 11.377778-4.551111 15.928889 0s4.551111 11.377778 0 15.928889l-220.728889 220.728889c-2.275556 2.275556-6.826667 2.275556-9.102222 2.275556z" fill="#A3AFBC" ></path></symbol><symbol id="iconjishubiaozhun-" viewBox="0 0 1024 1024"><path d="M694.044444 614.4h-364.088888c-31.857778 0-56.888889-25.031111-56.888889-56.888889v-150.186667c0-31.857778 25.031111-56.888889 56.888889-56.888888h364.088888c31.857778 0 56.888889 25.031111 56.888889 56.888888v150.186667c0 29.582222-25.031111 56.888889-56.888889 56.888889z m-364.088888-241.208889c-18.204444 0-34.133333 15.928889-34.133334 34.133333v150.186667c0 18.204444 15.928889 34.133333 34.133334 34.133333h364.088888c18.204444 0 34.133333-15.928889 34.133334-34.133333v-150.186667c0-18.204444-15.928889-34.133333-34.133334-34.133333h-364.088888zM673.564444 673.564444H350.435556c-6.826667 0-11.377778-4.551111-11.377778-11.377777s4.551111-11.377778 11.377778-11.377778h323.128888c6.826667 0 11.377778 4.551111 11.377778 11.377778s-4.551111 11.377778-11.377778 11.377777z" fill="#A3AFBC" ></path><path d="M350.435556 614.4c-6.826667 0-11.377778-4.551111-11.377778-11.377778v-93.297778c0-6.826667 4.551111-11.377778 11.377778-11.377777s11.377778 4.551111 11.377777 11.377777v93.297778c0 4.551111-4.551111 11.377778-11.377777 11.377778zM673.564444 614.4c-6.826667 0-11.377778-4.551111-11.377777-11.377778v-93.297778c0-6.826667 4.551111-11.377778 11.377777-11.377777s11.377778 4.551111 11.377778 11.377777v93.297778c0 4.551111-4.551111 11.377778-11.377778 11.377778zM607.573333 614.4c-6.826667 0-11.377778-4.551111-11.377777-11.377778v-63.715555c0-6.826667 4.551111-11.377778 11.377777-11.377778s11.377778 4.551111 11.377778 11.377778v63.715555c0 4.551111-4.551111 11.377778-11.377778 11.377778zM543.857778 614.4c-6.826667 0-11.377778-4.551111-11.377778-11.377778v-63.715555c0-6.826667 4.551111-11.377778 11.377778-11.377778s11.377778 4.551111 11.377778 11.377778v63.715555c0 4.551111-4.551111 11.377778-11.377778 11.377778zM480.142222 614.4c-6.826667 0-11.377778-4.551111-11.377778-11.377778v-63.715555c0-6.826667 4.551111-11.377778 11.377778-11.377778s11.377778 4.551111 11.377778 11.377778v63.715555c0 4.551111-4.551111 11.377778-11.377778 11.377778zM416.426667 614.4c-6.826667 0-11.377778-4.551111-11.377778-11.377778v-63.715555c0-6.826667 4.551111-11.377778 11.377778-11.377778s11.377778 4.551111 11.377777 11.377778v63.715555c0 4.551111-6.826667 11.377778-11.377777 11.377778z" fill="#A3AFBC" ></path></symbol><symbol id="icontongzhi-" viewBox="0 0 1024 1024"><path d="M698.595556 675.84H325.404444c-27.306667 0-47.786667-22.755556-47.786666-47.786667 0-13.653333 4.551111-25.031111 13.653333-34.133333 9.102222-9.102222 20.48-13.653333 34.133333-13.653333h25.031112v-136.533334c0-88.746667 72.817778-161.564444 161.564444-161.564444 43.235556 0 84.195556 15.928889 113.777778 47.786667 29.582222 29.582222 47.786667 70.542222 47.786666 113.777777v136.533334h25.031112c27.306667 0 47.786667 22.755556 47.786666 47.786666 0 13.653333-4.551111 25.031111-13.653333 34.133334-9.102222 9.102222-22.755556 13.653333-34.133333 13.653333z m-373.191112-72.817778c-6.826667 0-13.653333 2.275556-18.204444 6.826667-4.551111 4.551111-6.826667 11.377778-6.826667 18.204444 0 13.653333 11.377778 25.031111 25.031111 25.031111h373.191112c6.826667 0 13.653333-2.275556 18.204444-6.826666 4.551111-4.551111 6.826667-11.377778 6.826667-18.204445 0-13.653333-11.377778-25.031111-25.031111-25.031111h-36.408889c-6.826667 0-11.377778-4.551111-11.377778-11.377778v-147.911111c0-36.408889-13.653333-72.817778-40.96-97.848889-27.306667-27.306667-61.44-40.96-97.848889-40.96-77.368889 0-138.808889 63.715556-138.808889 138.808889V591.644444c0 6.826667-4.551111 11.377778-11.377778 11.377778h-36.408889z" fill="#A3AFBC" ></path><path d="M512 741.831111c-43.235556 0-77.368889-34.133333-77.368889-77.368889 0-6.826667 4.551111-11.377778 11.377778-11.377778s11.377778 4.551111 11.377778 11.377778c0 29.582222 25.031111 54.613333 54.613333 54.613334 29.582222 0 54.613333-25.031111 54.613333-54.613334 0-6.826667 4.551111-11.377778 11.377778-11.377778s11.377778 4.551111 11.377778 11.377778c0 43.235556-34.133333 77.368889-77.368889 77.368889z" fill="#A3AFBC" ></path></symbol><symbol id="icongonggao-" viewBox="0 0 1024 1024"><path d="M687.217778 703.146667H336.782222c-31.857778 0-56.888889-25.031111-56.888889-56.888889v-223.004445c0-31.857778 25.031111-56.888889 56.888889-56.888889h348.16c31.857778 0 56.888889 25.031111 56.888889 56.888889v223.004445c2.275556 31.857778-25.031111 56.888889-54.613333 56.888889zM336.782222 389.12c-18.204444 0-34.133333 15.928889-34.133333 34.133333v223.004445c0 18.204444 15.928889 34.133333 34.133333 34.133333h348.16c18.204444 0 34.133333-15.928889 34.133334-34.133333v-223.004445c0-18.204444-15.928889-34.133333-34.133334-34.133333H336.782222z" fill="#A3AFBC" ></path><path d="M382.293333 389.12c-4.551111 0-6.826667-2.275556-9.102222-4.551111-2.275556-4.551111-2.275556-11.377778 2.275556-15.928889l129.706666-84.195556c4.551111-2.275556 9.102222-2.275556 11.377778 0l129.706667 84.195556c4.551111 2.275556 6.826667 11.377778 2.275555 15.928889-2.275556 4.551111-11.377778 6.826667-15.928889 2.275555l-122.88-79.644444-120.604444 79.644444c-2.275556 0-4.551111 2.275556-6.826667 2.275556z" fill="#A3AFBC" ></path><path d="M398.222222 534.755556m-29.582222 0a29.582222 29.582222 0 1 0 59.164444 0 29.582222 29.582222 0 1 0-59.164444 0Z" fill="#A3AFBC" ></path><path d="M512 534.755556m-29.582222 0a29.582222 29.582222 0 1 0 59.164444 0 29.582222 29.582222 0 1 0-59.164444 0Z" fill="#A3AFBC" ></path><path d="M625.777778 534.755556m-29.582222 0a29.582222 29.582222 0 1 0 59.164444 0 29.582222 29.582222 0 1 0-59.164444 0Z" fill="#A3AFBC" ></path></symbol><symbol id="iconshezhi-1" viewBox="0 0 1024 1024"><path d="M512 771.413333c-20.48 0-43.235556-2.275556-65.991111-9.102222-4.551111-2.275556-9.102222-6.826667-9.102222-11.377778 2.275556-25.031111-9.102222-47.786667-29.582223-61.44-20.48-11.377778-47.786667-11.377778-65.991111 4.551111-4.551111 4.551111-11.377778 2.275556-15.928889 0-31.857778-31.857778-54.613333-72.817778-65.991111-116.053333-2.275556-4.551111 2.275556-11.377778 6.826667-13.653333 22.755556-9.102222 36.408889-31.857778 36.408889-54.613334 0-25.031111-13.653333-45.511111-36.408889-54.613333-4.551111-2.275556-9.102222-9.102222-6.826667-13.653333 11.377778-43.235556 34.133333-84.195556 65.991111-116.053334 4.551111-4.551111 11.377778-4.551111 15.928889 0 20.48 13.653333 45.511111 15.928889 65.991111 4.551112 20.48-11.377778 31.857778-36.408889 29.582223-61.44 0-4.551111 2.275556-11.377778 9.102222-11.377778 43.235556-11.377778 86.471111-11.377778 131.982222 0 4.551111 2.275556 9.102222 6.826667 9.102222 11.377778-2.275556 25.031111 9.102222 47.786667 29.582223 61.44s47.786667 11.377778 65.991111-4.551112c4.551111-4.551111 11.377778-2.275556 15.928889 0 31.857778 31.857778 54.613333 72.817778 65.991111 116.053334 2.275556 4.551111-2.275556 11.377778-6.826667 13.653333-22.755556 9.102222-36.408889 31.857778-36.408889 54.613333 0 25.031111 13.653333 45.511111 36.408889 54.613334 4.551111 2.275556 9.102222 9.102222 6.826667 13.653333-11.377778 43.235556-34.133333 84.195556-65.991111 116.053333-4.551111 4.551111-11.377778 4.551111-15.928889 0-20.48-13.653333-45.511111-15.928889-65.991111-4.551111-20.48 11.377778-31.857778 36.408889-29.582223 61.44 0 4.551111-2.275556 11.377778-9.102222 11.377778-22.755556 6.826667-45.511111 9.102222-65.991111 9.102222z m-50.062222-27.306666c34.133333 6.826667 65.991111 6.826667 102.4 0 0-29.582222 15.928889-56.888889 40.96-72.817778 25.031111-15.928889 56.888889-15.928889 84.195555 0 22.755556-25.031111 40.96-54.613333 50.062223-88.746667-25.031111-13.653333-40.96-40.96-40.96-72.817778 0-29.582222 15.928889-56.888889 40.96-72.817777-11.377778-31.857778-27.306667-63.715556-50.062223-88.746667-25.031111 13.653333-56.888889 15.928889-84.195555 0-25.031111-15.928889-40.96-43.235556-40.96-72.817778-34.133333-6.826667-68.266667-6.826667-102.4 0 0 29.582222-15.928889 56.888889-40.96 72.817778-25.031111 15.928889-56.888889 13.653333-84.195556 0-22.755556 25.031111-40.96 54.613333-50.062222 88.746667 25.031111 13.653333 40.96 40.96 40.96 72.817777s-15.928889 56.888889-40.96 72.817778c11.377778 31.857778 27.306667 63.715556 50.062222 88.746667 25.031111-13.653333 56.888889-15.928889 84.195556 0 25.031111 15.928889 40.96 43.235556 40.96 72.817778z" fill="#A3AFBC" ></path><path d="M512 612.124444c-27.306667 0-52.337778-11.377778-70.542222-29.582222-25.031111-25.031111-34.133333-56.888889-27.306667-91.022222 6.826667-40.96 38.684444-72.817778 79.644445-79.644444 34.133333-6.826667 68.266667 4.551111 91.022222 27.306666s34.133333 56.888889 27.306666 91.022222c-6.826667 40.96-38.684444 72.817778-79.644444 79.644445-6.826667 2.275556-13.653333 2.275556-20.48 2.275555z m-15.928889-177.493333c-31.857778 6.826667-54.613333 29.582222-61.44 61.44-4.551111 27.306667 2.275556 52.337778 20.48 70.542222 18.204444 18.204444 45.511111 27.306667 70.542222 20.48 31.857778-6.826667 54.613333-29.582222 61.44-61.44 4.551111-27.306667-2.275556-52.337778-20.48-70.542222s-43.235556-25.031111-70.542222-20.48z" fill="#A3AFBC" ></path></symbol><symbol id="icondian-" viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#666666" ></path></symbol><symbol id="iconsandian-" viewBox="0 0 1024 1024"><path d="M512 128m-128 0a128 128 0 1 0 256 0 128 128 0 1 0-256 0Z" fill="#06A1EE" ></path><path d="M512 512m-128 0a128 128 0 1 0 256 0 128 128 0 1 0-256 0Z" fill="#06A1EE" ></path><path d="M512 896m-128 0a128 128 0 1 0 256 0 128 128 0 1 0-256 0Z" fill="#06A1EE" ></path></symbol><symbol id="iconquanguocheng" viewBox="0 0 1060 1024"><path d="M1046.555066 906.713656l-112.77533-72.176211c-9.022026-4.511013-13.53304-4.511013-22.555066 0s-13.53304 13.53304-13.53304 18.044053V902.202643h-157.885463c-76.687225-18.044053-130.819383-40.599119-135.330396-193.973568h85.709251c27.066079 0 45.110132-22.555066 45.110132-45.110132v-108.264317c0-27.066079-22.555066-45.110132-45.110132-45.110133h-85.709251V428.546256h85.709251c27.066079 0 45.110132-22.555066 45.110132-45.110133V275.171806c0-27.066079-22.555066-45.110132-45.110132-45.110132h-85.709251V153.374449h9.022026c27.066079 0 45.110132-22.555066 45.110133-45.110132V45.110132c0-27.066079-22.555066-45.110132-45.110133-45.110132h-58.643171c-27.066079 0-45.110132 22.555066-45.110133 45.110132v58.643172c0 27.066079 22.555066 45.110132 45.110133 45.110132h9.022026V225.550661h-85.709251c-27.066079 0-45.110132 22.555066-45.110132 45.110132v108.264317c0 27.066079 22.555066 45.110132 45.110132 45.110132h85.709251v76.687225h-85.709251c-27.066079 0-45.110132 22.555066-45.110132 45.110132v108.264317c0 27.066079 22.555066 45.110132 45.110132 45.110132h85.709251c4.511013 103.753304 27.066079 157.885463 67.665198 193.973569H324.792952c-76.687225-18.044053-130.819383-40.599119-135.330397-193.973569h85.709251c27.066079 0 45.110132-22.555066 45.110132-45.110132v-108.264317c0-27.066079-22.555066-45.110132-45.110132-45.110132H189.462555V428.546256h85.709251c27.066079 0 45.110132-22.555066 45.110132-45.110133V275.171806c0-27.066079-22.555066-45.110132-45.110132-45.110132H189.462555V153.374449h9.022026c27.066079 0 45.110132-22.555066 45.110133-45.110132V45.110132c0-27.066079-22.555066-45.110132-45.110133-45.110132H135.330396c-22.555066 0-45.110132 22.555066-45.110132 45.110132v58.643172c0 27.066079 22.555066 45.110132 45.110132 45.110132h9.022027V225.550661H58.643172c-27.066079 0-45.110132 22.555066-45.110132 45.110132v108.264317c0 27.066079 22.555066 45.110132 45.110132 45.110132h85.709251v76.687225H58.643172c-27.066079 0-45.110132 22.555066-45.110132 45.110132v108.264317c0 27.066079 22.555066 45.110132 45.110132 45.110132h85.709251c4.511013 112.77533 27.066079 171.418502 67.665198 202.995595H22.555066c-13.53304 0-22.555066 9.022026-22.555066 22.555066s9.022026 22.555066 22.555066 22.555066h875.136564v49.621146c0 9.022026 4.511013 18.044053 13.53304 18.044053 4.511013 0 9.022026 4.511013 9.022026 4.511013 4.511013 0 9.022026 0 13.53304-4.511013l112.77533-72.176212c4.511013-4.511013 9.022026-9.022026 9.022027-18.044053s0-13.53304-9.022027-18.044053zM554.854626 103.753304V45.110132h58.643171v58.643172h-58.643171z m-81.198238 279.682819V270.660793h221.039647v108.264317l-221.039647 4.511013z m0 279.68282v-112.775331h221.039647v108.264318l-221.039647 4.511013zM135.330396 103.753304V45.110132h58.643172v58.643172H135.330396zM54.132159 383.436123V270.660793h221.039647v108.264317l-221.039647 4.511013z m0 279.68282v-112.775331h221.039647v108.264318l-221.039647 4.511013z m888.669603 293.215859v-63.154185l49.621145 31.577092-49.621145 31.577093z" fill="#ACB3BC" ></path></symbol><symbol id="iconfawu" viewBox="0 0 1114 1024"><path d="M1093.130802 795.004219l-393.181435-393.181434 51.848101-51.848101 25.924051 25.92405c12.962025 12.962025 30.244726 21.603376 47.527426 21.603376 17.2827 0 34.565401-8.64135 47.527426-21.603376l43.206751-43.206751c25.924051-25.924051 25.924051-69.130802 0-99.375527L704.270042 21.603376c-25.924051-25.924051-69.130802-25.924051-99.375527 0l-43.206751 43.206751c-25.924051 25.924051-25.924051 69.130802 0 99.375527l21.603375 21.603376-207.392405 211.71308-21.603375-21.603376c-25.924051-25.924051-69.130802-25.924051-99.375528 0l-43.206751 43.206751c-25.924051 25.924051-25.924051 69.130802 0 99.375528l211.71308 211.71308c12.962025 12.962025 30.244726 21.603376 47.527426 21.603375s34.565401-8.64135 47.527427-21.603375l43.206751-43.206751c25.924051-25.924051 25.924051-69.130802 0-99.375528l-21.603376-25.92405 51.848101-51.848102 393.181435 393.181435c12.962025 12.962025 34.565401 21.603376 51.848101 21.603376 21.603376 0 38.886076-8.64135 51.848102-21.603376 12.962025-12.962025 21.603376-34.565401 21.603375-51.848101 4.320675-21.603376-4.320675-43.206751-17.2827-56.168777zM596.253165 95.054852l43.206751-43.206751c4.320675-4.320675 12.962025-8.64135 17.2827-8.64135 8.64135 0 12.962025 4.320675 17.2827 8.64135l211.713081 211.71308c8.64135 8.64135 8.64135 25.924051 0 38.886076l-43.206751 43.206751c-8.64135 8.64135-25.924051 8.64135-38.886076 0l-211.713081-211.71308c-8.64135-12.962025-8.64135-30.244726 4.320676-38.886076z m-64.810127 557.367089l-43.206751 43.206751c-8.64135 8.64135-25.924051 8.64135-38.886076 0l-211.71308-211.71308c-8.64135-8.64135-8.64135-25.924051 0-38.886076l43.206751-43.206751c8.64135 0 17.2827-4.320675 21.603375-4.320675 8.64135 0 12.962025 4.320675 17.282701 8.64135l38.886076 38.886076 133.940928 133.940928 38.886076 38.886076c12.962025 8.64135 12.962025 25.924051 0 34.565401zM406.14346 427.746835L617.85654 216.033755l103.696203 103.696203-211.713081 211.71308-103.696202-103.696203z m656.742616 445.029536c-4.320675 4.320675-12.962025 8.64135-21.603376 8.641351s-17.2827-4.320675-21.603375-8.641351l-393.181435-393.181434 47.527426-47.527426 393.181435 393.181434c4.320675 4.320675 8.64135 12.962025 8.64135 21.603376s-8.64135 17.2827-12.962025 25.92405zM103.696203 903.021097h596.253164c12.962025 0 21.603376-8.64135 21.603376-21.603375s-8.64135-21.603376-21.603376-21.603376H103.696203c-12.962025 0-21.603376 8.64135-21.603376 21.603376s8.64135 21.603376 21.603376 21.603375zM782.042194 980.793249H21.603376c-12.962025 0-21.603376 12.962025-21.603376 21.603375s8.64135 21.603376 21.603376 21.603376h760.438818c12.962025 0 21.603376-8.64135 21.603376-21.603376s-8.64135-21.603376-21.603376-21.603375z" fill="#ACB3BC" ></path></symbol><symbol id="icontuichu" viewBox="0 0 1033 1024"><path d="M605.090909 930.909091H93.090909V93.090909h512c27.927273 0 46.545455-18.618182 46.545455-46.545454S633.018182 0 605.090909 0h-558.545454C18.618182 0 0 18.618182 0 46.545455v930.90909c0 27.927273 18.618182 46.545455 46.545455 46.545455h558.545454c27.927273 0 46.545455-18.618182 46.545455-46.545455s-18.618182-46.545455-46.545455-46.545454z" fill="#FFFFFF" ></path><path d="M1024 530.618182c9.309091-9.309091 9.309091-27.927273 0-37.236364 0-9.309091-9.309091-9.309091-9.309091-18.618182L809.890909 269.963636c-18.618182-18.618182-46.545455-18.618182-65.163636 0s-18.618182 46.545455 0 65.163637L875.054545 465.454545H325.818182c-27.927273 0-46.545455 18.618182-46.545455 46.545455s18.618182 46.545455 46.545455 46.545455h539.927273L735.418182 688.872727c-18.618182 18.618182-18.618182 46.545455 0 65.163637 9.309091 9.309091 18.618182 9.309091 37.236363 9.309091s27.927273 0 37.236364-9.309091l204.8-204.8c0-9.309091 0-18.618182 9.309091-18.618182z" fill="#FFFFFF" ></path></symbol><symbol id="icondaochu_" viewBox="0 0 1024 1024"><path d="M930.909091 539.927273c-27.927273 0-46.545455 27.927273-46.545455 46.545454V930.909091H139.636364V93.090909h316.509091c27.927273 0 46.545455-18.618182 46.545454-46.545454S484.072727 0 456.145455 0H93.090909C65.163636 0 46.545455 18.618182 46.545455 46.545455v930.90909c0 27.927273 18.618182 46.545455 46.545454 46.545455h837.818182c27.927273 0 46.545455-18.618182 46.545454-46.545455V586.472727c0-18.618182-18.618182-46.545455-46.545454-46.545454z" fill="#FFFFFF" ></path><path d="M819.2 223.418182H307.2c-27.927273 0-46.545455 18.618182-46.545455 46.545454s18.618182 46.545455 46.545455 46.545455h512L679.563636 446.836364c-18.618182 18.618182-18.618182 46.545455 0 65.163636 9.309091 9.309091 18.618182 9.309091 37.236364 9.309091s27.927273 0 37.236364-9.309091l214.109091-214.109091s9.309091-9.309091 9.30909-18.618182v-27.927272c0-9.309091-9.309091-9.309091-9.30909-18.618182L744.727273 18.618182C726.109091 0 698.181818 0 679.563636 18.618182s-18.618182 46.545455 0 65.163636l139.636364 139.636364z" fill="#FFFFFF" ></path></symbol><symbol id="iconexit" viewBox="0 0 1024 1024"><path d="M575.146667 807.253333c0 71.68-58.026667 131.413333-131.413334 131.413334H187.733333c-71.68 0-131.413333-58.026667-131.413333-131.413334V220.16c0-71.68 58.026667-131.413333 131.413333-131.413333h256c71.68 0 131.413333 58.026667 131.413334 131.413333 0 11.946667-10.24 22.186667-22.186667 22.186667-11.946667 0-22.186667-10.24-22.186667-22.186667 0-47.786667-39.253333-87.04-87.04-87.04H187.733333c-47.786667 0-87.04 39.253333-87.04 87.04v587.093333c0 47.786667 39.253333 87.04 87.04 87.04h256c47.786667 0 87.04-39.253333 87.04-87.04 0-11.946667 10.24-22.186667 22.186667-22.186666 11.946667 0 22.186667 10.24 22.186667 22.186666z m356.693333-360.106666L754.346667 271.36c-8.533333-8.533333-22.186667-8.533333-30.72 0s-8.533333 22.186667 0 30.72L899.413333 477.866667c3.413333 3.413333 6.826667 8.533333 8.533334 13.653333H315.733333c-11.946667 0-22.186667 10.24-22.186666 22.186667s10.24 22.186667 22.186666 22.186666h593.92c-1.706667 5.12-5.12 8.533333-8.533333 13.653334L723.626667 725.333333c-8.533333 8.533333-8.533333 22.186667 0 30.72 5.12 5.12 10.24 6.826667 15.36 6.826667 5.12 0 11.946667-1.706667 15.36-6.826667L931.84 580.266667c35.84-35.84 35.84-95.573333 0-133.12z" fill="#A3AFBC" ></path></symbol><symbol id="iconzhiwei-" viewBox="0 0 1024 1024"><path d="M815.786667 472.746667L638.293333 228.693333c1.706667-8.533333 5.12-17.066667 10.24-23.893333l80.213334-110.933333c11.946667-15.36 11.946667-35.84 3.413333-52.906667-8.533333-17.066667-25.6-27.306667-44.373333-27.306667H320.853333c-18.773333 0-35.84 10.24-44.373333 27.306667s-6.826667 37.546667 3.413333 52.906667l80.213334 110.933333c11.946667 17.066667 17.066667 40.96 10.24 61.44L215.04 750.933333c-13.653333 42.666667 3.413333 90.453333 40.96 114.346667L448.853333 989.866667c17.066667 10.24 35.84 15.36 54.613334 15.36s37.546667-5.12 54.613333-15.36l194.56-126.293334c37.546667-23.893333 54.613333-71.68 40.96-114.346666l-18.773333-58.026667 42.666666-61.44c34.133333-46.08 32.426667-110.933333-1.706666-157.013333z m-88.746667 353.28l-194.56 124.586666c-17.066667 11.946667-39.253333 11.946667-58.026667 0l-192.853333-124.586666c-20.48-13.653333-29.013333-37.546667-22.186667-59.733334l155.306667-486.4c11.946667-34.133333 5.12-73.386667-17.066667-104.106666l-80.213333-110.933334 1.706667-5.12h366.933333l1.706667 5.12-80.213334 110.933334c-22.186667 29.013333-27.306667 68.266667-17.066666 104.106666l155.306666 484.693334c10.24 23.893333 1.706667 47.786667-18.773333 61.44z m51.2-221.866667l-22.186667 30.72-92.16-290.133333 114.346667 155.306666c22.186667 30.72 22.186667 73.386667 0 104.106667z" fill="#A3AFBC" ></path><path d="M505.173333 617.813333c-13.653333 0-23.893333 10.24-23.893333 23.893334v122.88c0 13.653333 10.24 23.893333 23.893333 23.893333s23.893333-10.24 23.893334-23.893333v-122.88c0-13.653333-11.946667-23.893333-23.893334-23.893334zM505.173333 208.213333c-13.653333 0-23.893333 10.24-23.893333 23.893334v278.186666c0 13.653333 10.24 23.893333 23.893333 23.893334s23.893333-10.24 23.893334-23.893334V232.106667c0-13.653333-11.946667-23.893333-23.893334-23.893334z" fill="#A3AFBC" ></path></symbol><symbol id="iconquanping" viewBox="0 0 1024 1024"><path d="M616.106667 394.24c8.533333 8.533333 22.186667 8.533333 30.72 0L955.733333 88.746667c1.706667 3.413333 1.706667 8.533333 1.706667 11.946666v226.986667c0 11.946667 10.24 22.186667 22.186667 22.186667s22.186667-10.24 22.186666-22.186667V100.693333c0-23.893333-10.24-46.08-25.6-61.44-15.36-15.36-37.546667-25.6-61.44-25.6H682.666667c-11.946667 0-22.186667 10.24-22.186667 22.186667s10.24 22.186667 22.186667 22.186667h230.4c3.413333 0 8.533333 0 11.946666 1.706666L614.4 363.52c-8.533333 8.533333-8.533333 22.186667 1.706667 30.72zM85.333333 58.026667c3.413333-1.706667 6.826667-1.706667 10.24-1.706667h230.4c11.946667 0 22.186667-10.24 22.186667-22.186667 0-11.946667-10.24-22.186667-22.186667-22.186666H95.573333C73.386667 11.946667 51.2 20.48 34.133333 37.546667S8.533333 76.8 8.533333 100.693333v226.986667c0 11.946667 10.24 22.186667 22.186667 22.186667 11.946667 0 22.186667-10.24 22.186667-22.186667L51.2 100.693333c0-5.12 1.706667-8.533333 1.706667-13.653333l310.613333 307.2c8.533333 8.533333 22.186667 8.533333 30.72 0s8.533333-22.186667 0-30.72L85.333333 58.026667zM1001.813333 689.493333c0-11.946667-10.24-22.186667-22.186666-22.186666-11.946667 0-22.186667 10.24-22.186667 22.186666v226.986667c0 5.12 0 8.533333-1.706667 11.946667L645.12 624.64c-8.533333-8.533333-22.186667-8.533333-30.72 0s-8.533333 22.186667 0 30.72l310.613333 303.786667c-3.413333 1.706667-6.826667 1.706667-10.24 1.706666H684.373333c-11.946667 0-22.186667 10.24-22.186666 22.186667 0 11.946667 10.24 22.186667 22.186666 22.186667h230.4c18.773333 0 37.546667-6.826667 51.2-17.066667 3.413333-3.413333 6.826667-5.12 10.24-8.533333 3.413333-3.413333 5.12-6.826667 8.533334-10.24 11.946667-15.36 18.773333-34.133333 18.773333-52.906667l-1.706667-226.986667zM394.24 622.933333c-8.533333-8.533333-22.186667-8.533333-30.72 0l-308.906667 307.2c-1.706667-3.413333-1.706667-8.533333-1.706666-11.946666L51.2 691.2c0-11.946667-10.24-22.186667-22.186667-22.186667-11.946667 0-22.186667 10.24-22.186666 22.186667l1.706666 226.986667c0 17.066667 5.12 34.133333 13.653334 47.786666 3.413333 5.12 6.826667 10.24 11.946666 15.36 5.12 5.12 10.24 8.533333 17.066667 11.946667 13.653333 8.533333 29.013333 13.653333 46.08 13.653333l230.4-1.706666c11.946667 0 22.186667-10.24 22.186667-22.186667 0-11.946667-10.24-22.186667-22.186667-22.186667l-230.4 1.706667c-3.413333 0-6.826667 0-10.24-1.706667l308.906667-307.2c6.826667-6.826667 6.826667-20.48-1.706667-30.72 0 1.706667 0 0 0 0z" fill="#B5B5B5" ></path></symbol></svg>';if((t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss")&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,!1),t()},!1)}else document.attachEvent&&(r=t,s=e.document,o=!1,(n=function(){try{s.documentElement.doScroll("left")}catch(e){return void setTimeout(n,50)}a()})(),s.onreadystatechange=function(){"complete"==s.readyState&&(s.onreadystatechange=null,a())});function a(){o||(o=!0,r())}var r,s,o,n}(function(){var e,t,r,s,o,n;(e=document.createElement("div")).innerHTML=a,a=null,(t=e.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",r=t,(s=document.body).firstChild?(o=r,(n=s.firstChild).parentNode.insertBefore(o,n)):s.appendChild(r))})}(window)},qknv:function(e,t){},rof8:function(e,t){},rv4r:function(e,t){},sGCi:function(e,t){},sKCB:function(e,t){},sXhZ:function(e,t){},sdAx:function(e,t){},tB7y:function(e,t){},tDe1:function(e,t){},teEF:function(e,t){},tnAa:function(e,t){},tvR6:function(e,t){},u6Xt:function(e,t){},u8j3:function(e,t){},uYHx:function(e,t){},ufSP:function(e,t){},v4Iz:function(e,t){},"vRO/":function(e,t){},wAYL:function(e,t){},wBzo:function(e,t){},wfOR:function(e,t){},x1wu:function(e,t){},xQXe:function(e,t){},xVGA:function(e,t){},xYLe:function(e,t){},xYwX:function(e,t){},"xw2/":function(e,t){},y4jz:function(e,t){},yIKp:function(e,t){},ybFw:function(e,t){},yxAv:function(e,t){},zx00:function(e,t){}},[0]);
//# sourceMappingURL=app.adac75d7fca32ed24f68.1578893539908.js.map